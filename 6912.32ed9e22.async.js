"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6912],{16912:function(T,v,n){n.r(v);var j=n(97857),s=n.n(j),g=n(5574),d=n.n(g),M=n(52677),D=n.n(M),u=n(62435),i=n(79817),l=n(86074),c=function(e){return e!=null&&e.url?e.url:typeof(e==null?void 0:e.video)=="string"?"https://storage-api.mh-procoffeemachine.com"+"/preview/".concat(e.video):D()(e==null?void 0:e.video)==="object"?"https://storage-api.mh-procoffeemachine.com"+"/preview/".concat(e.video.id):""};function O(o){var e,a=o.value,h=o.onChange,P=(0,u.useState)(!1),E=d()(P,2),y=E[0],r=E[1],F=(0,u.useState)(c(o.value)),b=d()(F,2),f=b[0],A=b[1],B=(0,u.useState)(((e=o.value)===null||e===void 0?void 0:e.url)||""),C=d()(B,2),t=C[0],m=C[1];(0,u.useEffect)(function(){var _;A(c(o.value)),m(((_=o.value)===null||_===void 0?void 0:_.url)||"")},[o.value]);var x=(0,u.useCallback)(function(_){_.preventDefault(),_.stopPropagation(),r(!0)},[]),p=(0,u.useCallback)(function(_){h&&h(_)},[]),k=(0,u.useCallback)(function(){r(!1),p(s()(s()({},a),{},{video:void 0,url:t}))},[a,t]),U=(0,u.useCallback)(function(){r(!1),m((a==null?void 0:a.url)||"")},[a==null?void 0:a.url]),L=(0,u.useCallback)(function(_){p(s()(s()({},a),{},{video:_,url:void 0}))},[a]),S=(0,u.useCallback)(function(_){m(_.target.value)},[]);return(0,l.jsxs)("div",{children:[(0,l.jsx)(i.Modal,{centered:!0,visible:y,dialogClassName:"modal-dialog-small w-500px",onCancel:U,onOk:k,title:"\u8BBE\u7F6E\u94FE\u63A5\u5F15\u7528",closable:!1,headerClassName:"border-bottom-0",bodyClassName:"py-2",footerClassName:"border-top-0",children:(0,l.jsx)(i.Input.TextArea,{autoSize:{minRows:3,maxRows:5},onChange:S,value:t})}),(0,l.jsx)("div",{className:"fv-row mb-2",children:(0,l.jsx)(i.SignleUpload,{value:a==null?void 0:a.video,accept:{"video/mp4":[".mp4"],"video/webm":[".webm"],"video/ogg":[".ogg",".ogv"],"video/x-msvideo":[".avi"],"video/mpeg":[".mpeg"]},title:(0,l.jsxs)(l.Fragment,{children:["\u5C06\u6587\u4EF6\u62D6\u62FD\u81F3\u6B64\u5904\u3001\u70B9\u51FB\u4E0A\u4F20\uFF0C\u6216",(0,l.jsx)("a",{onClick:x,className:"",children:"\u8BBE\u7F6E"}),"\u94FE\u63A5\u5F15\u7528\u3002"]}),description:"\u652F\u6301\u7684\u89C6\u9891\u683C\u5F0F\uFF1AMP4, AVI, MOV, WEBM",onChange:L})}),!!f&&(0,l.jsx)(i.VideoPlayer,{url:f,width:"100%"})]})}v.default=O}}]);
