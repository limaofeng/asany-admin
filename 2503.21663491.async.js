var S=Object.prototype.hasOwnProperty;var L=Object.getOwnPropertySymbols,Z=Object.prototype.propertyIsEnumerable;var D=Object.assign;var U=(r,d)=>{var a={};for(var t in r)S.call(r,t)&&d.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&L)for(var t of L(r))d.indexOf(t)<0&&Z.call(r,t)&&(a[t]=r[t]);return a};(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[2503,3975],{33201:function(){},34106:function(r,d,a){"use strict";a.d(d,{GP:function(){return t.Z},Hk:function(){return v.ZP}});var t=a(48655),M=a(39981),v=a(21428),O=a(53851)},11014:function(r,d,a){"use strict";a.r(d);var t=a(2824),M=a(93224),v=a(11849),O=a(86582),i=a(67294),C=a(15724),y=a(1861),E=a(7020),h=a(15459),T=a(34106),f=a(51186),p=a(25496),e=a(85893),B=["id"],P=f.mQ.TabPane;function k(_){var o=_.books,s=(0,E.tT)("contacts",function(n){var m=n.state;return m.book}),l=(0,i.useCallback)(function(n){if(n.startsWith("contacts-"))console.log(n);else return!1;return!0},[]),c=(0,i.useMemo)(function(){return[].concat((0,O.Z)(o.map(function(n){return{value:"contacts-".concat(n.id),label:n.name}})),[{type:"separator"},{value:"manage-contacts",label:"\u504F\u597D\u8BBE\u7F6E"}])},[o]);return(0,e.jsx)("div",{className:"app-sidebar-footer",children:(0,e.jsx)(f.Ph,{onChange:l,placement:"topCenter",value:s?"contacts-".concat(s):void 0,options:c})})}function A(_){var o,s=_.book,l=_.namespace,c=(0,h.N2)({fetchPolicy:"cache-and-network",variables:{id:s.id,namespace:l}}),n=c.data,m=(0,i.useMemo)(function(){var u,K=n==null||(u=n.book)===null||u===void 0?void 0:u.groups;if(!K)return[];var g=p.G_(K.map(function(I){return(0,v.Z)({},I)}),{idKey:"id",pidKey:"parentId",converter:function(R){var N=R.id,W=(0,M.Z)(R,B);return(0,v.Z)((0,v.Z)({},W),{},{key:N,title:W.name})}});return g},[n==null||(o=n.book)===null||o===void 0?void 0:o.groups]);return(0,e.jsx)(C.Z,{treeData:m})}function b(_){var o=_.book,s=(0,i.useState)(o.namespaces[0].id),l=(0,t.Z)(s,2),c=l[0],n=l[1],m=(0,i.useCallback)(function(u){console.log("activeKey",u),n(u)},[]);return(0,e.jsx)(f.mQ,{activeKey:c,onChange:m,className:"nav-line-tabs-2x mx-5 mb-5 fs-6",children:o.namespaces.map(function(u){return(0,e.jsx)(P,{tab:u.name,children:(0,e.jsx)(y.E,{className:"custom-scrollbar",options:{scrollbars:{autoHide:"scroll"}},children:(0,e.jsx)(A,{book:o,namespace:u.id})})},u.id)})})}function x(_){var o=_.book;return console.log(o.namespaces),o.type=="ENTERPRISE"?(0,e.jsx)(b,{book:o}):(0,e.jsx)("div",{children:"xxx"})}function j(){var _=(0,h.jV)({fetchPolicy:"cache-and-network"}),o=_.data,s=(0,E.tT)("contacts",function(n){var m=n.state;return m.book}),l=(0,E.tT)("contacts",function(n){return n.setBook});(0,i.useEffect)(function(){if(!!(o!=null&&o.books)){var n=o==null?void 0:o.books;n.some(function(m){return m.id==s})||l(n[0].id)}},[o==null?void 0:o.books,s,l]);var c=(0,i.useMemo)(function(){if(!(!(o!=null&&o.books)||!s))return o.books.find(function(n){return n.id==s})},[o==null?void 0:o.books,s]);return console.log("books",o==null?void 0:o.books,c,s),(0,e.jsxs)(T.GP,{width:280,className:"app-sidebar app-contacts-sidebar",children:[(0,e.jsx)("div",{className:"mt-5 px-5 pt-5",children:(0,e.jsx)("h1",{className:"text-gray-800 fw-bold mb-6 mx-5",children:"\u901A\u8BAF\u5F55"})}),(0,e.jsx)("div",{className:"app-sidebar-body flex-column-fluid d-flex flex-column",children:c&&(0,e.jsx)(x,{book:c})}),(0,e.jsx)(k,{books:(o==null?void 0:o.books)||[],onAction:function(){}})]})}d.default=j},77104:function(r,d,a){"use strict";var t=a(94184),M=a.n(t),v=a(67294),O=a(70861),i=a(76792),C=a(85893);const y={variant:"primary",active:!1,disabled:!1},E=v.forwardRef((A,k)=>{var{as:h,bsPrefix:T,variant:f,size:p,active:e,className:B}=A,P=U(A,["as","bsPrefix","variant","size","active","className"]);const b=(0,i.vE)(T,"btn"),[x,{tagName:j}]=(0,O.FT)(D({tagName:h},P)),_=j;return(0,C.jsx)(_,D(D(D({},x),P),{ref:k,className:M()(B,b,e&&"active",f&&`${b}-${f}`,p&&`${b}-${p}`,P.href&&P.disabled&&"disabled")}))});E.displayName="Button",E.defaultProps=y,d.Z=E}}]);
