var N=Object.prototype.hasOwnProperty;var W=Object.getOwnPropertySymbols,S=Object.prototype.propertyIsEnumerable;var M=Object.assign;var L=(r,u)=>{var a={};for(var t in r)N.call(r,t)&&u.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&W)for(var t of W(r))u.indexOf(t)<0&&S.call(r,t)&&(a[t]=r[t]);return a};(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[2503,3975],{33201:function(){},30098:function(r,u,a){"use strict";a.d(u,{G:function(){return f.Z}});var t=a(80064),f=a(48655),E=a(39981)},11014:function(r,u,a){"use strict";a.r(u);var t=a(2824),f=a(93224),E=a(11849),y=a(86582),d=a(67294),A=a(34912),T=a(1861),v=a(95551),O=a(15459),P=a(11974),h=a(25496),p=a(30098),e=a(85893),k=P.mQ.TabPane;function b(_){var o=_.books,s=(0,v.tT)("contacts",function(n){var m=n.state;return m.book}),l=(0,d.useCallback)(function(n){if(n.startsWith("contacts-"))console.log(n);else return!1;return!0},[]),c=(0,d.useMemo)(function(){return[].concat((0,y.Z)(o.map(function(n){return{value:"contacts-".concat(n.id),label:n.name}})),[{type:"separator"},{value:"manage-contacts",label:"\u504F\u597D\u8BBE\u7F6E"}])},[o]);return(0,e.jsx)("div",{className:"app-sidebar-footer",children:(0,e.jsx)(P.Ph,{onChange:l,placement:"topCenter",value:s?"contacts-".concat(s):void 0,options:c})})}function B(_){var o,s=_.book,l=_.namespace,c=(0,O.N2)({fetchPolicy:"cache-and-network",variables:{id:s.id,namespace:l}}),n=c.data,m=(0,d.useMemo)(function(){var i,K=n==null||(i=n.book)===null||i===void 0?void 0:i.groups;if(!K)return[];var U=h.G_(K.map(function(j){return(0,E.Z)({},j)}),{idKey:"id",pidKey:"parentId",converter:function(I){var g=I.id,R=(0,f.Z)(I,["id"]);return(0,E.Z)((0,E.Z)({},R),{},{key:g,title:R.name})}});return U},[n==null||(o=n.book)===null||o===void 0?void 0:o.groups]);return(0,e.jsx)(A.Z,{treeData:m})}function C(_){var o=_.book,s=(0,d.useState)(o.namespaces[0].id),l=(0,t.Z)(s,2),c=l[0],n=l[1],m=(0,d.useCallback)(function(i){console.log("activeKey",i),n(i)},[]);return(0,e.jsx)(P.mQ,{activeKey:c,onChange:m,className:"nav-line-tabs-2x mx-5 mb-5 fs-6",children:o.namespaces.map(function(i){return(0,e.jsx)(k,{tab:i.name,children:(0,e.jsx)(T.E,{className:"custom-scrollbar",options:{scrollbars:{autoHide:"scroll"}},children:(0,e.jsx)(B,{book:o,namespace:i.id})})},i.id)})})}function D(_){var o=_.book;return console.log(o.namespaces),o.type=="ENTERPRISE"?(0,e.jsx)(C,{book:o}):(0,e.jsx)("div",{children:"xxx"})}function x(){var _=(0,O.jV)({fetchPolicy:"cache-and-network"}),o=_.data,s=(0,v.tT)("contacts",function(n){var m=n.state;return m.book}),l=(0,v.tT)("contacts",function(n){return n.setBook});(0,d.useEffect)(function(){if(!!(o!=null&&o.books)){var n=o==null?void 0:o.books;n.some(function(m){return m.id==s})||l(n[0].id)}},[o==null?void 0:o.books,s,l]);var c=(0,d.useMemo)(function(){if(!(!(o!=null&&o.books)||!s))return o.books.find(function(n){return n.id==s})},[o==null?void 0:o.books,s]);return console.log("books",o==null?void 0:o.books,c,s),(0,e.jsxs)(p.G,{width:280,className:"app-sidebar app-contacts-sidebar",children:[(0,e.jsx)("div",{className:"mt-5 px-5 pt-5",children:(0,e.jsx)("h1",{className:"text-gray-800 fw-bold mb-6 mx-5",children:"\u901A\u8BAF\u5F55"})}),(0,e.jsx)("div",{className:"app-sidebar-body flex-column-fluid d-flex flex-column",children:c&&(0,e.jsx)(D,{book:c})}),(0,e.jsx)(b,{books:(o==null?void 0:o.books)||[],onAction:function(){}})]})}u.default=x},77104:function(r,u,a){"use strict";var t=a(94184),f=a.n(t),E=a(67294),y=a(70861),d=a(76792),A=a(85893);const T={variant:"primary",active:!1,disabled:!1},v=E.forwardRef((C,B)=>{var{as:O,bsPrefix:P,variant:h,size:p,active:e,className:k}=C,b=L(C,["as","bsPrefix","variant","size","active","className"]);const D=(0,d.vE)(P,"btn"),[x,{tagName:_}]=(0,y.FT)(M({tagName:O},b)),o=_;return(0,A.jsx)(o,M(M(M({},x),b),{ref:B,className:f()(k,D,e&&"active",h&&`${D}-${h}`,p&&`${D}-${p}`,b.href&&b.disabled&&"disabled")}))});v.displayName="Button",v.defaultProps=T,u.Z=v}}]);
