(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[7020],{60346:function(rt,$e,W){"use strict";W.d($e,{Z:function(){return a}});function a(L){if(typeof L=="string"||typeof L=="number")return""+L;let i="";if(Array.isArray(L))for(let ie=0,se;ie<L.length;ie++)(se=a(L[ie]))!==""&&(i+=(i&&" ")+se);else for(let ie in L)L[ie]&&(i+=(i&&" ")+ie);return i}},34707:function(rt,$e,W){"use strict";W.d($e,{HH:function(){return pt},tV:function(){return An},ZP:function(){return Tn},Pp:function(){return le},OW:function(){return Ze},ll:function(){return vr},Rr:function(){return gr}});var a=W(83639),L=W(92775),i=W(67294),ie=W(60346),se=W(60374),Ie=W(61667),ke=W(94017),Te=W(83641),Xe=W(50482),Re=W(44266),Oe=W(34299),Be=t=>()=>t;function Ae(t,{sourceEvent:e,subject:n,target:o,identifier:r,active:l,x:c,y:s,dx:g,dy:m,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:g,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:d}})}Ae.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function pe(t){return!t.ctrlKey&&!t.button}function k(){return this.parentNode}function re(t,e){return e==null?{x:t.x,y:t.y}:e}function ge(){return navigator.maxTouchPoints||"ontouchstart"in this}function x(){var t=pe,e=k,n=re,o=ge,r={},l=(0,Xe.Z)("start","drag","end"),c=0,s,g,m,d,b=0;function f(u){u.on("mousedown.drag",S).filter(o).on("touchstart.drag",w).on("touchmove.drag",C,Oe.Q7).on("touchend.drag touchcancel.drag",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(u,p){if(!(d||!t.call(this,u,p))){var h=E(this,e.call(this,u,p),u,p,"mouse");!h||((0,ke.Z)(u.view).on("mousemove.drag",v,Oe.Dd).on("mouseup.drag",N,Oe.Dd),(0,Re.Z)(u.view),(0,Oe.rG)(u),m=!1,s=u.clientX,g=u.clientY,h("start",u))}}function v(u){if((0,Oe.ZP)(u),!m){var p=u.clientX-s,h=u.clientY-g;m=p*p+h*h>b}r.mouse("drag",u)}function N(u){(0,ke.Z)(u.view).on("mousemove.drag mouseup.drag",null),(0,Re.D)(u.view,m),(0,Oe.ZP)(u),r.mouse("end",u)}function w(u,p){if(!!t.call(this,u,p)){var h=u.changedTouches,O=e.call(this,u,p),y=h.length,M,$;for(M=0;M<y;++M)($=E(this,O,u,p,h[M].identifier,h[M]))&&((0,Oe.rG)(u),$("start",u,h[M]))}}function C(u){var p=u.changedTouches,h=p.length,O,y;for(O=0;O<h;++O)(y=r[p[O].identifier])&&((0,Oe.ZP)(u),y("drag",u,p[O]))}function P(u){var p=u.changedTouches,h=p.length,O,y;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),O=0;O<h;++O)(y=r[p[O].identifier])&&((0,Oe.rG)(u),y("end",u,p[O]))}function E(u,p,h,O,y,M){var $=l.copy(),D=(0,Te.Z)(M||h,p),H,A,U;if((U=n.call(u,new Ae("beforestart",{sourceEvent:h,target:f,identifier:y,active:c,x:D[0],y:D[1],dx:0,dy:0,dispatch:$}),O))!=null)return H=U.x-D[0]||0,A=U.y-D[1]||0,function _(I,Y,ne){var Q=D,T;switch(I){case"start":r[y]=_,T=c++;break;case"end":delete r[y],--c;case"drag":D=(0,Te.Z)(ne||Y,p),T=c;break}$.call(I,u,new Ae(I,{sourceEvent:Y,subject:U,target:f,identifier:y,active:T,x:D[0]+H,y:D[1]+A,dx:D[0]-Q[0],dy:D[1]-Q[1],dispatch:$}),O)}}return f.filter=function(u){return arguments.length?(t=typeof u=="function"?u:Be(!!u),f):t},f.container=function(u){return arguments.length?(e=typeof u=="function"?u:Be(u),f):e},f.subject=function(u){return arguments.length?(n=typeof u=="function"?u:Be(u),f):n},f.touchable=function(u){return arguments.length?(o=typeof u=="function"?u:Be(!!u),f):o},f.on=function(){var u=l.on.apply(l,arguments);return u===l?f:u},f.clickDistance=function(u){return arguments.length?(b=(u=+u)*u,f):Math.sqrt(b)},f}var B=["paid-pro","paid-sponsor","paid-enterprise","paid-custom"];function Z(t){var e=t.proOptions,n=t.position,o=n===void 0?"bottom-right":n;if(e!=null&&e.account&&B.includes(e==null?void 0:e.account)&&e!==null&&e!==void 0&&e.hideAttribution)return null;var r="".concat(o).split("-");return i.createElement("div",{className:(0,ie.Z)(["react-flow__attribution"].concat((0,L._)(r))),"data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing"},i.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer"},"React Flow"))}var j=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"];function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G(Object(n),!0).forEach(function(o){(0,a.a)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var Ee=function(e){var n=e.x,o=e.y,r=e.label,l=e.labelStyle,c=l===void 0?{}:l,s=e.labelShowBg,g=s===void 0?!0:s,m=e.labelBgStyle,d=m===void 0?{}:m,b=e.labelBgPadding,f=b===void 0?[2,4]:b,S=e.labelBgBorderRadius,v=S===void 0?2:S,N=e.children,w=e.className,C=(0,L.a)(e,j),P=(0,i.useRef)(null),E=(0,i.useState)({x:0,y:0,width:0,height:0}),u=(0,a._)(E,2),p=u[0],h=u[1],O=(0,ie.Z)(["react-flow__edge-textwrapper",w]);return(0,i.useEffect)(function(){if(P.current){var y=P.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[r]),typeof r=="undefined"||!r?null:i.createElement("g",Ce({transform:"translate(".concat(n-p.width/2," ").concat(o-p.height/2,")"),className:O},C),g&&i.createElement("rect",{width:p.width+2*f[0],x:-f[0],y:-f[1],height:p.height+2*f[1],className:"react-flow__edge-textbg",style:d,rx:v,ry:v}),i.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:P,style:c},r),N)},F=(0,i.memo)(Ee),J=function(t){var e=t.path,n=t.centerX,o=t.centerY,r=t.label,l=t.labelStyle,c=t.labelShowBg,s=t.labelBgStyle,g=t.labelBgPadding,m=t.labelBgBorderRadius,d=t.style,b=t.markerEnd,f=t.markerStart,S=r?i.createElement(F,{x:n,y:o,label:r,labelStyle:l,labelShowBg:c,labelBgStyle:s,labelBgPadding:g,labelBgBorderRadius:m}):null;return i.createElement(i.Fragment,null,i.createElement("path",{style:d,d:e,className:"react-flow__edge-path",markerEnd:b,markerStart:f}),S)};function te(t){var e=t.pos,n=t.x1,o=t.y1,r=t.x2,l=t.y2,c,s;switch(e){case a.P.Left:case a.P.Right:c=.5*(n+r),s=o;break;case a.P.Top:case a.P.Bottom:c=n,s=.5*(o+l);break}return[c,s]}function ae(t){var e=t.sourceX,n=t.sourceY,o=t.sourcePosition,r=o===void 0?a.P.Bottom:o,l=t.targetX,c=t.targetY,s=t.targetPosition,g=s===void 0?a.P.Top:s,m=te({pos:r,x1:e,y1:n,x2:l,y2:c}),d=(0,a._)(m,2),b=d[0],f=d[1],S=te({pos:g,x1:l,y1:c,x2:e,y2:n}),v=(0,a._)(S,2),N=v[0],w=v[1];return"M".concat(e,",").concat(n," C").concat(b,",").concat(f," ").concat(N,",").concat(w," ").concat(l,",").concat(c)}function Se(t){var e=t.sourceX,n=t.sourceY,o=t.sourcePosition,r=o===void 0?a.P.Bottom:o,l=t.targetX,c=t.targetY,s=t.targetPosition,g=s===void 0?a.P.Top:s,m=te({pos:r,x1:e,y1:n,x2:l,y2:c}),d=(0,a._)(m,2),b=d[0],f=d[1],S=te({pos:g,x1:l,y1:c,x2:e,y2:n}),v=(0,a._)(S,2),N=v[0],w=v[1],C=e*.125+b*.375+N*.375+l*.125,P=n*.125+f*.375+w*.375+c*.125,E=Math.abs(C-e),u=Math.abs(P-n);return[C,P,E,u]}var ye=(0,i.memo)(function(t){var e=t.sourceX,n=t.sourceY,o=t.targetX,r=t.targetY,l=t.sourcePosition,c=l===void 0?a.P.Bottom:l,s=t.targetPosition,g=s===void 0?a.P.Top:s,m=t.label,d=t.labelStyle,b=t.labelShowBg,f=t.labelBgStyle,S=t.labelBgPadding,v=t.labelBgBorderRadius,N=t.style,w=t.markerEnd,C=t.markerStart,P={sourceX:e,sourceY:n,sourcePosition:c,targetX:o,targetY:r,targetPosition:g},E=ae(P),u=Se(P),p=(0,a._)(u,2),h=p[0],O=p[1];return i.createElement(J,{path:E,centerX:h,centerY:O,label:m,labelStyle:d,labelShowBg:b,labelBgStyle:f,labelBgPadding:S,labelBgBorderRadius:v,style:N,markerEnd:w,markerStart:C})});function X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X(Object(n),!0).forEach(function(o){(0,a.a)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var K=function(e,n){return typeof n!="undefined"&&n?"url(#".concat(n,")"):typeof e!="undefined"?"url(#react-flow__".concat(e,")"):"none"},q=[a.P.Left,a.P.Right],le=function(e){var n=e.sourceX,o=e.sourceY,r=e.targetX,l=e.targetY,c=e.sourcePosition,s=c===void 0?a.P.Bottom:c,g=e.targetPosition,m=g===void 0?a.P.Top:g,d=q.includes(s),b=q.includes(m),f=d&&!b||b&&!d;if(f){var S=d?Math.abs(r-n):0,v=n>r?n-S:n+S,N=d?0:Math.abs(l-o),w=o<l?o+N:o-N;return[v,w,S,N]}var C=Math.abs(r-n)/2,P=r<n?r+C:r-C,E=Math.abs(l-o)/2,u=l<o?l+E:l-E;return[P,u,C,E]};function de(t,e,n){return n===void 0?n:function(o){var r=e().edges.find(function(l){return l.id===t});n(o,V({},r))}}var ve=function(e,n,o){return"L ".concat(e,",").concat(n-o,"Q ").concat(e,",").concat(n," ").concat(e+o,",").concat(n)},fe=function(e,n,o){return"L ".concat(e+o,",").concat(n,"Q ").concat(e,",").concat(n," ").concat(e,",").concat(n-o)},he=function(e,n,o){return"L ".concat(e,",").concat(n-o,"Q ").concat(e,",").concat(n," ").concat(e-o,",").concat(n)},ce=function(e,n,o){return"L ".concat(e-o,",").concat(n,"Q ").concat(e,",").concat(n," ").concat(e,",").concat(n-o)},xe=function(e,n,o){return"L ".concat(e+o,",").concat(n,"Q ").concat(e,",").concat(n," ").concat(e,",").concat(n+o)},Ye=function(e,n,o){return"L ".concat(e,",").concat(n+o,"Q ").concat(e,",").concat(n," ").concat(e+o,",").concat(n)},Le=function(e,n,o){return"L ".concat(e,",").concat(n+o,"Q ").concat(e,",").concat(n," ").concat(e-o,",").concat(n)},_e=function(e,n,o){return"L ".concat(e-o,",").concat(n,"Q ").concat(e,",").concat(n," ").concat(e,",").concat(n+o)};function Ze(t){var e=t.sourceX,n=t.sourceY,o=t.sourcePosition,r=o===void 0?a.P.Bottom:o,l=t.targetX,c=t.targetY,s=t.targetPosition,g=s===void 0?a.P.Top:s,m=t.borderRadius,d=m===void 0?5:m,b=t.centerX,f=t.centerY,S=le({sourceX:e,sourceY:n,targetX:l,targetY:c}),v=(0,a._)(S,4),N=v[0],w=v[1],C=v[2],P=v[3],E=Math.min(d,Math.abs(l-e)),u=Math.min(d,Math.abs(c-n)),p=Math.min(E,u,C,P),h=[a.P.Left,a.P.Right],O=typeof b!="undefined"?b:N,y=typeof f!="undefined"?f:w,M=null,$=null;return e<=l?(M=n<=c?ve(e,y,p):Ye(e,y,p),$=n<=c?_e(l,y,p):ce(l,y,p)):(M=n<c?he(e,y,p):Le(e,y,p),$=n<c?xe(l,y,p):fe(l,y,p)),h.includes(r)&&h.includes(g)?e<=l?(M=n<=c?_e(O,n,p):ce(O,n,p),$=n<=c?ve(O,c,p):Ye(O,c,p)):(r===a.P.Right&&g===a.P.Left||r===a.P.Left&&g===a.P.Right||r===a.P.Left&&g===a.P.Left)&&(M=n<=c?xe(O,n,p):fe(O,n,p),$=n<=c?he(O,c,p):Le(O,c,p)):h.includes(r)&&!h.includes(g)?(e<=l?M=n<=c?_e(l,n,p):ce(l,n,p):M=n<=c?xe(l,n,p):fe(l,n,p),$=""):!h.includes(r)&&h.includes(g)&&(e<=l?M=n<=c?ve(e,c,p):Ye(e,c,p):M=n<=c?he(e,c,p):Le(e,c,p),$=""),"M ".concat(e,",").concat(n).concat(M).concat($,"L ").concat(l,",").concat(c)}var ze=(0,i.memo)(function(t){var e=t.sourceX,n=t.sourceY,o=t.targetX,r=t.targetY,l=t.label,c=t.labelStyle,s=t.labelShowBg,g=t.labelBgStyle,m=t.labelBgPadding,d=t.labelBgBorderRadius,b=t.style,f=t.sourcePosition,S=f===void 0?a.P.Bottom:f,v=t.targetPosition,N=v===void 0?a.P.Top:v,w=t.markerEnd,C=t.markerStart,P=t.borderRadius,E=P===void 0?5:P,u=le({sourceX:e,sourceY:n,targetX:o,targetY:r,sourcePosition:S,targetPosition:N}),p=(0,a._)(u,2),h=p[0],O=p[1],y=Ze({sourceX:e,sourceY:n,sourcePosition:S,targetX:o,targetY:r,targetPosition:N,borderRadius:E});return i.createElement(J,{path:y,centerX:h,centerY:O,label:l,labelStyle:c,labelShowBg:s,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:d,style:b,markerEnd:w,markerStart:C})});function Je(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Je(Object(n),!0).forEach(function(o){(0,a.a)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var at=(0,i.memo)(function(t){return i.createElement(ze,Ke(Ke({},t),{},{borderRadius:0}))}),ft=(0,i.memo)(function(t){var e=t.sourceX,n=t.sourceY,o=t.targetX,r=t.targetY,l=t.label,c=t.labelStyle,s=t.labelShowBg,g=t.labelBgStyle,m=t.labelBgPadding,d=t.labelBgBorderRadius,b=t.style,f=t.markerEnd,S=t.markerStart,v=Math.abs(r-n)/2,N=r<n?r+v:r-v,w=Math.abs(o-e)/2,C=o<e?o+w:o-w,P="M ".concat(e,",").concat(n,"L ").concat(o,",").concat(r);return i.createElement(J,{path:P,centerX:C,centerY:N,label:l,labelStyle:c,labelShowBg:s,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:d,style:b,markerEnd:f,markerStart:S})});function it(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Ne(t){var e=t.pos,n=t.x1,o=t.y1,r=t.x2,l=t.y2,c=t.c,s,g;switch(e){case a.P.Left:s=n-it(n-r,c),g=o;break;case a.P.Right:s=n+it(r-n,c),g=o;break;case a.P.Top:s=n,g=o-it(o-l,c);break;case a.P.Bottom:s=n,g=o+it(l-o,c);break}return[s,g]}function lt(t){var e=t.sourceX,n=t.sourceY,o=t.sourcePosition,r=o===void 0?a.P.Bottom:o,l=t.targetX,c=t.targetY,s=t.targetPosition,g=s===void 0?a.P.Top:s,m=t.curvature,d=m===void 0?.25:m,b=Ne({pos:r,x1:e,y1:n,x2:l,y2:c,c:d}),f=(0,a._)(b,2),S=f[0],v=f[1],N=Ne({pos:g,x1:l,y1:c,x2:e,y2:n,c:d}),w=(0,a._)(N,2),C=w[0],P=w[1];return"M".concat(e,",").concat(n," C").concat(S,",").concat(v," ").concat(C,",").concat(P," ").concat(l,",").concat(c)}function mt(t){var e=t.sourceX,n=t.sourceY,o=t.sourcePosition,r=o===void 0?a.P.Bottom:o,l=t.targetX,c=t.targetY,s=t.targetPosition,g=s===void 0?a.P.Top:s,m=t.curvature,d=m===void 0?.25:m,b=Ne({pos:r,x1:e,y1:n,x2:l,y2:c,c:d}),f=(0,a._)(b,2),S=f[0],v=f[1],N=Ne({pos:g,x1:l,y1:c,x2:e,y2:n,c:d}),w=(0,a._)(N,2),C=w[0],P=w[1],E=e*.125+S*.375+C*.375+l*.125,u=n*.125+v*.375+P*.375+c*.125,p=Math.abs(E-e),h=Math.abs(u-n);return[E,u,p,h]}var qe=(0,i.memo)(function(t){var e=t.sourceX,n=t.sourceY,o=t.targetX,r=t.targetY,l=t.sourcePosition,c=l===void 0?a.P.Bottom:l,s=t.targetPosition,g=s===void 0?a.P.Top:s,m=t.label,d=t.labelStyle,b=t.labelShowBg,f=t.labelBgStyle,S=t.labelBgPadding,v=t.labelBgBorderRadius,N=t.style,w=t.markerEnd,C=t.markerStart,P=t.curvature,E={sourceX:e,sourceY:n,sourcePosition:c,targetX:o,targetY:r,targetPosition:g,curvature:P},u=lt(E),p=mt(E),h=(0,a._)(p,2),O=h[0],y=h[1];return i.createElement(J,{path:u,centerX:O,centerY:y,label:m,labelStyle:d,labelShowBg:b,labelBgStyle:f,labelBgPadding:S,labelBgBorderRadius:v,style:N,markerEnd:w,markerStart:C})}),et=(0,i.createContext)(null),to=et.Provider;et.Consumer;function zt(t,e,n,o,r,l,c){var s=c.elementFromPoint(t.clientX,t.clientY),g=(s==null?void 0:s.classList.contains("target"))||!1,m=(s==null?void 0:s.classList.contains("source"))||!1,d={elementBelow:s,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(s&&(g||m)){d.isHoveringHandle=!0;var b=s.getAttribute("data-nodeid"),f=s.getAttribute("data-handleid"),S=n?{source:b,sourceHandle:f,target:o,targetHandle:r}:{source:o,sourceHandle:r,target:b,targetHandle:f};d.connection=S;var v=e===a.C.Strict?n&&m||!n&&g:!0;v&&(d.isValid=l(S))}return d}function Kt(t){t==null||t.classList.remove("react-flow__handle-valid"),t==null||t.classList.remove("react-flow__handle-connecting")}function Ut(t){var e=t.event,n=t.handleId,o=t.nodeId,r=t.onConnect,l=t.isTarget,c=t.getState,s=t.setState,g=t.isValidConnection,m=t.elementEdgeUpdaterType,d=t.onEdgeUpdateEnd,b=e.target.closest(".react-flow"),f=(0,a.g)(e.target);if(!f)return;var S=f.elementFromPoint(e.clientX,e.clientY),v=S==null?void 0:S.classList.contains("target"),N=S==null?void 0:S.classList.contains("source");if(!b||!v&&!N&&!m)return;var w=c(),C=w.onConnectStart,P=w.connectionMode,E=m||(v?"target":"source"),u=b.getBoundingClientRect(),p;s({connectionPosition:{x:e.clientX-u.left,y:e.clientY-u.top},connectionNodeId:o,connectionHandleId:n,connectionHandleType:E}),C==null||C(e,{nodeId:o,handleId:n,handleType:E});function h(y){s({connectionPosition:{x:y.clientX-u.left,y:y.clientY-u.top}});var M=zt(y,P,l,o,n,g,f),$=M.connection,D=M.elementBelow,H=M.isValid,A=M.isHoveringHandle;if(!A)return Kt(p);$.source!==$.target&&D&&(p=D,D.classList.add("react-flow__handle-connecting"),D.classList.toggle("react-flow__handle-valid",H))}function O(y){var M=c(),$=M.onConnectStop,D=M.onConnectEnd,H=zt(y,P,l,o,n,g,f),A=H.connection,U=H.isValid;$==null||$(y),U&&(r==null||r(A)),D==null||D(y),m&&d&&d(y),Kt(p),s({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),f.removeEventListener("mousemove",h),f.removeEventListener("mouseup",O)}f.addEventListener("mousemove",h),f.addEventListener("mouseup",O)}var no=["type","position","isValidConnection","isConnectable","id","onConnect","children","className","onMouseDown"];function Vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vt(Object(n),!0).forEach(function(o){(0,a.a)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var oo=function(){return!0},ro=function(e){return{connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick}},Wt=(0,i.forwardRef)(function(t,e){var n=t.type,o=n===void 0?"source":n,r=t.position,l=r===void 0?a.P.Top:r,c=t.isValidConnection,s=c===void 0?oo:c,g=t.isConnectable,m=g===void 0?!0:g,d=t.id,b=t.onConnect,f=t.children,S=t.className,v=t.onMouseDown,N=(0,L.a)(t,no),w=(0,a.u)(),C=(0,i.useContext)(et),P=(0,a.b)(ro,se.Z),E=P.connectionStartHandle,u=P.connectOnClick,p=d||null,h=o==="target",O=function(D){var H=w.getState(),A=H.defaultEdgeOptions,U=H.onConnect,_=H.hasDefaultEdges,I=jt(jt({},A),D);if(_){var Y=w.getState(),ne=Y.edges;w.setState({edges:(0,a.c)(I,ne)})}U==null||U(I),b==null||b(I)},y=function(D){D.button===0&&Ut({event:D,handleId:p,nodeId:C,onConnect:O,isTarget:h,getState:w.getState,setState:w.setState,isValidConnection:s}),v==null||v(D)},M=function(D){var H=w.getState(),A=H.onClickConnectStart,U=H.onClickConnectStop,_=H.onClickConnectEnd,I=H.connectionMode;if(!E){A==null||A(D,{nodeId:C,handleId:p,handleType:o}),w.setState({connectionStartHandle:{nodeId:C,type:o,handleId:p}});return}var Y=(0,a.g)(D.target),ne=zt(D,I,E.type==="target",E.nodeId,E.handleId||null,s,Y),Q=ne.connection,T=ne.isValid;U==null||U(D),T&&O(Q),_==null||_(D),w.setState({connectionStartHandle:null})};return i.createElement("div",jt({"data-handleid":p,"data-nodeid":C,"data-handlepos":l,className:(0,ie.Z)(["react-flow__handle","react-flow__handle-".concat(l),"nodrag",S,{source:!h,target:h,connectable:m,connecting:(E==null?void 0:E.nodeId)===C&&(E==null?void 0:E.handleId)===p&&(E==null?void 0:E.type)===o}]),onMouseDown:y,onClick:u?M:void 0,ref:e},N),f)});Wt.displayName="Handle";var pt=(0,i.memo)(Wt),_t=function(e){var n=e.data,o=e.isConnectable,r=e.targetPosition,l=r===void 0?a.P.Top:r,c=e.sourcePosition,s=c===void 0?a.P.Bottom:c;return i.createElement(i.Fragment,null,i.createElement(pt,{type:"target",position:l,isConnectable:o}),n==null?void 0:n.label,i.createElement(pt,{type:"source",position:s,isConnectable:o}))};_t.displayName="DefaultNode";var $t=(0,i.memo)(_t),Ft=function(e){var n=e.data,o=e.isConnectable,r=e.sourcePosition,l=r===void 0?a.P.Bottom:r;return i.createElement(i.Fragment,null,n==null?void 0:n.label,i.createElement(pt,{type:"source",position:l,isConnectable:o}))};Ft.displayName="InputNode";var Gt=(0,i.memo)(Ft),Qt=function(e){var n=e.data,o=e.isConnectable,r=e.targetPosition,l=r===void 0?a.P.Top:r;return i.createElement(i.Fragment,null,i.createElement(pt,{type:"target",position:l,isConnectable:o}),n==null?void 0:n.label)};Qt.displayName="OutputNode";var Jt=(0,i.memo)(Qt),ao=function(e){return{selectedNodes:Array.from(e.nodeInternals.values()).filter(function(n){return n.selected}),selectedEdges:e.edges.filter(function(n){return n.selected})}},io=function(e,n){var o=e.selectedNodes.map(function(s){return s.id}),r=n.selectedNodes.map(function(s){return s.id}),l=e.selectedEdges.map(function(s){return s.id}),c=n.selectedEdges.map(function(s){return s.id});return(0,se.Z)(o,r)&&(0,se.Z)(l,c)};function lo(t){var e=t.onSelectionChange,n=(0,a.b)(ao,io),o=n.selectedNodes,r=n.selectedEdges;return(0,i.useEffect)(function(){e({nodes:o,edges:r})},[o,r]),null}var co=(0,i.memo)(lo),so=function(e){return{setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset}};function Fe(t,e){(0,i.useEffect)(function(){typeof t!="undefined"&&e(t)},[t])}function ue(t,e,n){(0,i.useEffect)(function(){typeof e!="undefined"&&n((0,a.a)({},t,e))},[e])}var uo=function(e){var n=e.nodes,o=e.edges,r=e.defaultNodes,l=e.defaultEdges,c=e.onConnect,s=e.onConnectStart,g=e.onConnectStop,m=e.onConnectEnd,d=e.onClickConnectStart,b=e.onClickConnectStop,f=e.onClickConnectEnd,S=e.nodesDraggable,v=e.nodesConnectable,N=e.minZoom,w=e.maxZoom,C=e.nodeExtent,P=e.onNodesChange,E=e.onEdgesChange,u=e.elementsSelectable,p=e.connectionMode,h=e.snapGrid,O=e.snapToGrid,y=e.translateExtent,M=e.connectOnClick,$=e.defaultEdgeOptions,D=e.fitView,H=e.fitViewOptions,A=e.onNodesDelete,U=e.onEdgesDelete,_=e.onNodeDrag,I=e.onNodeDragStart,Y=e.onNodeDragStop,ne=e.onSelectionDrag,Q=e.onSelectionDragStart,T=e.onSelectionDragStop,ee=(0,a.b)(so,se.Z),be=ee.setNodes,me=ee.setEdges,z=ee.setDefaultNodesAndEdges,oe=ee.setMinZoom,Pe=ee.setMaxZoom,De=ee.setTranslateExtent,Me=ee.setNodeExtent,we=ee.reset,R=(0,a.u)();return(0,i.useEffect)(function(){return z(r,l),function(){we()}},[]),ue("defaultEdgeOptions",$,R.setState),ue("connectionMode",p,R.setState),ue("onConnect",c,R.setState),ue("onConnectStart",s,R.setState),ue("onConnectStop",g,R.setState),ue("onConnectEnd",m,R.setState),ue("onClickConnectStart",d,R.setState),ue("onClickConnectStop",b,R.setState),ue("onClickConnectEnd",f,R.setState),ue("nodesDraggable",S,R.setState),ue("nodesConnectable",v,R.setState),ue("elementsSelectable",u,R.setState),ue("snapToGrid",O,R.setState),ue("snapGrid",h,R.setState),ue("onNodesChange",P,R.setState),ue("onEdgesChange",E,R.setState),ue("connectOnClick",M,R.setState),ue("fitViewOnInit",D,R.setState),ue("fitViewOnInitOptions",H,R.setState),ue("onNodesDelete",A,R.setState),ue("onEdgesDelete",U,R.setState),ue("onNodeDrag",_,R.setState),ue("onNodeDragStart",I,R.setState),ue("onNodeDragStop",Y,R.setState),ue("onSelectionDrag",ne,R.setState),ue("onSelectionDragStart",Q,R.setState),ue("onSelectionDragStop",T,R.setState),Fe(n,be),Fe(o,me),Fe(r,be),Fe(l,me),Fe(N,oe),Fe(w,Pe),Fe(y,De),Fe(C,Me),null},go=".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}",vo=go,fo=".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}",mo=fo,po=function(e,n,o){return o===a.P.Left?e-n:o===a.P.Right?e+n:e},ho=function(e,n,o){return o===a.P.Top?e-n:o===a.P.Bottom?e+n:e},qt=function(e){var n=e.className,o=e.position,r=e.centerX,l=e.centerY,c=e.radius,s=c===void 0?10:c;return i.createElement("circle",{className:(0,ie.Z)(["react-flow__edgeupdater",n]),cx:po(r,s,o),cy:ho(l,s,o),r:s,stroke:"transparent",fill:"transparent"})},ct=function(t){var e=function(o){var r=o.id,l=o.className,c=o.type,s=o.data,g=o.onClick,m=o.onEdgeDoubleClick,d=o.selected,b=o.animated,f=o.label,S=o.labelStyle,v=o.labelShowBg,N=o.labelBgStyle,w=o.labelBgPadding,C=o.labelBgBorderRadius,P=o.style,E=o.source,u=o.target,p=o.sourceX,h=o.sourceY,O=o.targetX,y=o.targetY,M=o.sourcePosition,$=o.targetPosition,D=o.elementsSelectable,H=o.hidden,A=o.sourceHandleId,U=o.targetHandleId,_=o.onContextMenu,I=o.onMouseEnter,Y=o.onMouseMove,ne=o.onMouseLeave,Q=o.edgeUpdaterRadius,T=o.onEdgeUpdate,ee=o.onEdgeUpdateStart,be=o.onEdgeUpdateEnd,me=o.markerEnd,z=o.markerStart,oe=o.rfId,Pe=(0,i.useState)(!1),De=(0,a._)(Pe,2),Me=De[0],we=De[1],R=(0,a.u)(),je=function(He){var We=R.getState(),yt=We.edges,gt=We.addSelectedEdges,nt=yt.find(function(vt){return vt.id===r});D&&(R.setState({nodesSelectionActive:!1}),gt([r])),g==null||g(He,nt)},Ue=de(r,R.getState,m),Ge=de(r,R.getState,_),Ve=de(r,R.getState,I),bt=de(r,R.getState,Y),Qe=de(r,R.getState,ne),dt=function(He,We){var yt=We?u:E,gt=(We?U:A)||null,nt=We?"target":"source",vt=function(){return!0},Ht=We,Ct=R.getState().edges.find(function(ot){return ot.id===r});ee==null||ee(He,Ct,nt);var Dt=be?function(ot){return be(ot,Ct,nt)}:void 0,Zt=function(kt){return T==null?void 0:T(Ct,kt)};Ut({event:He,handleId:gt,nodeId:yt,onConnect:Zt,isTarget:Ht,getState:R.getState,setState:R.setState,isValidConnection:vt,elementEdgeUpdaterType:nt,onEdgeUpdateEnd:Dt})},ut=function(He){return dt(He,!0)},At=function(He){return dt(He,!1)},St=function(){return we(!0)},Ot=function(){return we(!1)},Mt=(0,i.useMemo)(function(){return"url(#".concat((0,a.d)(z,oe),")")},[z,oe]),Yt=(0,i.useMemo)(function(){return"url(#".concat((0,a.d)(me,oe),")")},[me,oe]);if(H)return null;var Nt=!D&&!g,xt=typeof T!="undefined",Xt=(0,ie.Z)(["react-flow__edge","react-flow__edge-".concat(c),l,{selected:d,animated:b,inactive:Nt,updating:Me}]);return i.createElement("g",{className:Xt,onClick:je,onDoubleClick:Ue,onContextMenu:Ge,onMouseEnter:Ve,onMouseMove:bt,onMouseLeave:Qe},i.createElement(t,{id:r,source:E,target:u,selected:d,animated:b,label:f,labelStyle:S,labelShowBg:v,labelBgStyle:N,labelBgPadding:w,labelBgBorderRadius:C,data:s,style:P,sourceX:p,sourceY:h,targetX:O,targetY:y,sourcePosition:M,targetPosition:$,sourceHandleId:A,targetHandleId:U,markerStart:Mt,markerEnd:Yt}),xt&&i.createElement("g",{onMouseDown:ut,onMouseEnter:St,onMouseOut:Ot},i.createElement(qt,{position:M,centerX:p,centerY:h,radius:Q})),xt&&i.createElement("g",{onMouseDown:At,onMouseEnter:St,onMouseOut:Ot},i.createElement(qt,{position:$,centerX:O,centerY:y,radius:Q})))};return e.displayName="EdgeWrapper",(0,i.memo)(e)};function en(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?en(Object(n),!0).forEach(function(o){(0,a.a)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function bo(t){var e={default:ct(t.default||qe),straight:ct(t.bezier||ft),step:ct(t.step||at),smoothstep:ct(t.step||ze),simplebezier:ct(t.simplebezier||ye)},n={},o=Object.keys(t).filter(function(r){return!["default","bezier"].includes(r)}).reduce(function(r,l){return r[l]=ct(t[l]||qe),r},n);return tn(tn({},e),o)}function nn(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=((n==null?void 0:n.x)||0)+e.x,r=((n==null?void 0:n.y)||0)+e.y,l=(n==null?void 0:n.width)||e.width,c=(n==null?void 0:n.height)||e.height;switch(t){case a.P.Top:return{x:o+l/2,y:r};case a.P.Right:return{x:o+l,y:r+c/2};case a.P.Bottom:return{x:o+l/2,y:r+c};case a.P.Left:return{x:o,y:r+c/2}}}function on(t,e){if(!t)return null;var n=null;return t.length===1||!e?n=t[0]:e&&(n=t.find(function(o){return o.id===e})),typeof n=="undefined"?null:n}var So=function(e,n,o,r,l,c){var s=nn(o,e,n),g=nn(c,r,l);return{sourceX:s.x,sourceY:s.y,targetX:g.x,targetY:g.y}};function yo(t){var e=t.sourcePos,n=t.targetPos,o=t.sourceWidth,r=t.sourceHeight,l=t.targetWidth,c=t.targetHeight,s=t.width,g=t.height,m=t.transform,d={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x+o,n.x+l),y2:Math.max(e.y+r,n.y+c)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);var b=(0,a.r)({x:(0-m[0])/m[2],y:(0-m[1])/m[2],width:s/m[2],height:g/m[2]}),f=Math.max(0,Math.min(b.x2,d.x2)-Math.max(b.x,d.x)),S=Math.max(0,Math.min(b.y2,d.y2)-Math.max(b.y,d.y)),v=Math.ceil(f*S);return v>0}function rn(t,e){var n,o,r,l,c,s=t.get(e),g=(s==null||(n=s[a.i])===null||n===void 0?void 0:n.handleBounds)||null,m=!s||!g||!s.width||!s.height||typeof((o=s.positionAbsolute)===null||o===void 0?void 0:o.x)=="undefined"||typeof((r=s.positionAbsolute)===null||r===void 0?void 0:r.y)=="undefined";return[{x:(s==null||(l=s.positionAbsolute)===null||l===void 0?void 0:l.x)||0,y:(s==null||(c=s.positionAbsolute)===null||c===void 0?void 0:c.y)||0,width:(s==null?void 0:s.width)||0,height:(s==null?void 0:s.height)||0},g,!m]}var Co=typeof document!="undefined"?document:null,Et=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{target:Co},n=(0,i.useState)(!1),o=(0,a._)(n,2),r=o[0],l=o[1],c=(0,i.useRef)(new Set([])),s=(0,i.useMemo)(function(){if(t!==null){var b=Array.isArray(t)?t:[t],f=b.filter(function(v){return typeof v=="string"}).map(function(v){return v.split("+")}),S=f.reduce(function(v,N){return v.concat.apply(v,(0,L._)(N))},[]);return[f,S]}return[[],[]]},[t]),g=(0,a._)(s,2),m=g[0],d=g[1];return(0,i.useEffect)(function(){if(t!==null){var b,f,S=function(C){if(cn(C))return!1;var P=ln(C.code,d);c.current.add(C[P]),an(m,c.current,!1)&&(C.preventDefault(),l(!0))},v=function(C){if(cn(C))return!1;var P=ln(C.code,d);an(m,c.current,!0)?(l(!1),c.current.clear()):c.current.delete(C[P])},N=function(){c.current.clear(),l(!1)};return e==null||(b=e.target)===null||b===void 0||b.addEventListener("keydown",S),e==null||(f=e.target)===null||f===void 0||f.addEventListener("keyup",v),window.addEventListener("blur",N),function(){var w,C;e==null||(w=e.target)===null||w===void 0||w.removeEventListener("keydown",S),e==null||(C=e.target)===null||C===void 0||C.removeEventListener("keyup",v),window.removeEventListener("blur",N)}}},[t,l]),r};function an(t,e,n){return t.filter(function(o){return n||o.length===e.size}).some(function(o){return o.every(function(r){return e.has(r)})})}function ln(t,e){return e.includes(t)?"code":"key"}function cn(t){var e=t.target;return["INPUT","SELECT","TEXTAREA"].includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))}var Eo=function(e){return{onNodesChange:e.onNodesChange,onEdgesChange:e.onEdgesChange}},wo=function(t){var e=t.deleteKeyCode,n=t.multiSelectionKeyCode,o=(0,a.u)(),r=(0,a.b)(Eo,se.Z),l=r.onNodesChange,c=r.onEdgesChange,s=Et(e),g=Et(n);(0,i.useEffect)(function(){var m=o.getState(),d=m.nodeInternals,b=m.edges,f=m.hasDefaultNodes,S=m.hasDefaultEdges,v=m.onNodesDelete,N=m.onEdgesDelete,w=Array.from(d.values()),C=w.reduce(function(y,M){return(!M.selected&&M.parentNode&&y.find(function($){return $.id===M.parentNode})||M.selected)&&y.push(M),y},[]),P=b.filter(function(y){return y.selected});if(s&&(C||P)){var E=(0,a.e)(C,b),u=[].concat((0,L._)(P),(0,L._)(E)),p=u.reduce(function(y,M){return y.includes(M.id)||y.push(M.id),y},[]);if((S||f)&&(S&&o.setState({edges:b.filter(function(y){return!p.includes(y.id)})}),f&&(C.forEach(function(y){d.delete(y.id)}),o.setState({nodeInternals:new Map(d)}))),p.length>0&&(N==null||N(u),c)){var h=p.map(function(y){return{id:y,type:"remove"}});c(h)}if(C.length>0&&(v==null||v(C),l)){var O=C.map(function(y){return{id:y.id,type:"remove"}});l(O)}o.setState({nodesSelectionActive:!1})}},[s,l,c]),(0,i.useEffect)(function(){o.setState({multiSelectionActive:g})},[g])};function Po(t){var e=(0,a.u)();(0,i.useEffect)(function(){var n,o=function(){if(!!t.current){var l=(0,a.f)(t.current);e.setState({width:l.width||500,height:l.height||500})}};return o(),window.onresize=o,t.current&&(n=new ResizeObserver(function(){return o()}),n.observe(t.current)),function(){window.onresize=null,n&&t.current&&n.unobserve(t.current)}},[])}var Oo=function(e,n){return e.x!==n.x||e.y!==n.y||e.zoom!==n.k},Rt=function(e){return{x:e.x,y:e.y,zoom:e.k}},wt=function(e,n){return e.target.closest(".".concat(n))},Mo=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler}},No=function(e){var n=e.onMove,o=e.onMoveStart,r=e.onMoveEnd,l=e.zoomOnScroll,c=l===void 0?!0:l,s=e.zoomOnPinch,g=s===void 0?!0:s,m=e.panOnScroll,d=m===void 0?!1:m,b=e.panOnScrollSpeed,f=b===void 0?.5:b,S=e.panOnScrollMode,v=S===void 0?a.h.Free:S,N=e.zoomOnDoubleClick,w=N===void 0?!0:N,C=e.selectionKeyPressed,P=e.elementsSelectable,E=e.panOnDrag,u=E===void 0?!0:E,p=e.defaultPosition,h=p===void 0?[0,0]:p,O=e.defaultZoom,y=O===void 0?1:O,M=e.zoomActivationKeyCode,$=e.preventScrolling,D=$===void 0?!0:$,H=e.children,A=e.noWheelClassName,U=e.noPanClassName,_=(0,a.u)(),I=(0,i.useRef)(!1),Y=(0,i.useRef)(null),ne=(0,i.useRef)({x:0,y:0,zoom:0}),Q=(0,a.b)(Mo,se.Z),T=Q.d3Zoom,ee=Q.d3Selection,be=Q.d3ZoomHandler,me=Et(M);return Po(Y),(0,i.useEffect)(function(){if(Y.current){var z,oe=_.getState(),Pe=oe.minZoom,De=oe.maxZoom,Me=oe.translateExtent,we=(0,Ie.sP)().scaleExtent([Pe,De]).translateExtent(Me),R=(0,ke.Z)(Y.current).call(we),je=(0,a.j)(h[0],Me[0][0],Me[1][0]),Ue=(0,a.j)(h[1],Me[0][1],Me[1][1]),Ge=(0,a.j)(y,Pe,De),Ve=Ie.CR.translate(je,Ue).scale(Ge);we.transform(R,Ve),_.setState({d3Zoom:we,d3Selection:R,d3ZoomHandler:R.on("wheel.zoom"),transform:[je,Ue,Ge],domNode:(z=R.node())===null||z===void 0?void 0:z.closest(".react-flow")})}},[]),(0,i.useEffect)(function(){ee&&T&&(d&&!me?ee.on("wheel",function(z){if(wt(z,A))return!1;z.preventDefault(),z.stopImmediatePropagation();var oe=ee.property("__zoom").k||1;if(z.ctrlKey&&g){var Pe=(0,Te.Z)(z),De=-z.deltaY*(z.deltaMode===1?.05:z.deltaMode?1:.002)*10,Me=oe*Math.pow(2,De);T.scaleTo(ee,Me,Pe);return}var we=z.deltaMode===1?20:1,R=v===a.h.Vertical?0:z.deltaX*we,je=v===a.h.Horizontal?0:z.deltaY*we;T.translateBy(ee,-(R/oe)*f,-(je/oe)*f)}).on("wheel.zoom",null):typeof be!="undefined"&&ee.on("wheel",function(z){if(!D||wt(z,A))return null;z.preventDefault()}).on("wheel.zoom",be))},[d,v,ee,T,be,me,g,D,A]),(0,i.useEffect)(function(){T&&(C&&!I.current?T.on("zoom",null):C||T.on("zoom",function(z){if(_.setState({transform:[z.transform.x,z.transform.y,z.transform.k]}),n){var oe=Rt(z.transform);n(z.sourceEvent,oe)}}))},[C,T,n]),(0,i.useEffect)(function(){T&&T.on("start",function(z){if(I.current=!0,o){var oe=Rt(z.transform);ne.current=oe,o(z.sourceEvent,oe)}})},[T,o]),(0,i.useEffect)(function(){T&&T.on("end",function(z){if(I.current=!1,r&&Oo(ne.current,z.transform)){var oe=Rt(z.transform);ne.current=oe,r(z.sourceEvent,oe)}})},[T,r]),(0,i.useEffect)(function(){T&&T.filter(function(z){var oe=me||c,Pe=g&&z.ctrlKey;return!u&&!oe&&!d&&!w&&!g||C||!w&&z.type==="dblclick"||wt(z,A)&&z.type==="wheel"||wt(z,U)&&z.type!=="wheel"||!g&&z.ctrlKey&&z.type==="wheel"||!oe&&!d&&!Pe&&z.type==="wheel"||!u&&(z.type==="mousedown"||z.type==="touchstart")?!1:(!z.ctrlKey||z.type==="wheel")&&!z.button})},[T,c,g,d,w,u,C,P,me]),i.createElement("div",{className:"react-flow__renderer react-flow__container",ref:Y},H)};function sn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sn(Object(n),!0).forEach(function(o){(0,a.a)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function un(t,e){return{x:t.clientX-e.left,y:t.clientY-e.top}}var xo=function(e){return{userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable}},gn={startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},Do=(0,i.memo)(function(t){var e=t.selectionKeyPressed,n=(0,a.u)(),o=(0,i.useRef)(0),r=(0,i.useRef)(0),l=(0,i.useRef)(),c=(0,i.useState)(gn),s=(0,a._)(c,2),g=s[0],m=s[1],d=(0,a.b)(xo,se.Z),b=d.userSelectionActive,f=d.elementsSelectable,S=b||e;if(!f||!S)return null;var v=function(){m(gn),n.setState({userSelectionActive:!1}),o.current=0,r.current=0},N=function(u){var p=u.target.closest(".react-flow");l.current=p.getBoundingClientRect();var h=un(u,l.current);m({width:0,height:0,startX:h.x,startY:h.y,x:h.x,y:h.y,draw:!0}),n.setState({userSelectionActive:!0,nodesSelectionActive:!1})},w=function(u){var p,h;if(!(!e||!g.draw||!l.current)){var O=un(u,l.current),y=(p=g.startX)!==null&&p!==void 0?p:0,M=(h=g.startY)!==null&&h!==void 0?h:0,$=dn(dn({},g),{},{x:O.x<y?O.x:y,y:O.y<M?O.y:M,width:Math.abs(O.x-y),height:Math.abs(O.y-M)}),D=n.getState(),H=D.nodeInternals,A=D.edges,U=D.transform,_=D.onNodesChange,I=D.onEdgesChange,Y=Array.from(H.values()),ne=(0,a.k)(H,$,U,!1,!0),Q=(0,a.e)(ne,A).map(function(me){return me.id}),T=ne.map(function(me){return me.id});if(o.current!==T.length){o.current=T.length;var ee=(0,a.l)(Y,T);ee.length&&(_==null||_(ee))}if(r.current!==Q.length){r.current=Q.length;var be=(0,a.l)(A,Q);be.length&&(I==null||I(be))}m($)}},C=function(){n.setState({nodesSelectionActive:o.current>0}),v()},P=function(){n.setState({nodesSelectionActive:!1}),v()};return i.createElement("div",{className:"react-flow__selectionpane react-flow__container",onMouseDown:N,onMouseMove:w,onMouseUp:C,onMouseLeave:P},g.draw&&i.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:g.width,height:g.height,transform:"translate(".concat(g.x,"px, ").concat(g.y,"px)")}}))});function vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vn(Object(n),!0).forEach(function(o){(0,a.a)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function mn(t,e){if(!t.parentNode)return!1;var n=e.get(t.parentNode);return n?n.selected?!0:mn(n,e):!1}function pn(t,e,n){var o=t;do{var r;if((r=o)!==null&&r!==void 0&&r.matches(e))return!0;if(o===n.current)return!1;o=o.parentElement}while(o);return!1}function ko(t,e,n){return Array.from(t.values()).filter(function(o){return(o.selected||o.id===n)&&(!o.parentNode||!mn(o,t))}).map(function(o){var r,l,c,s;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:e.x-((r=(l=o.positionAbsolute)===null||l===void 0?void 0:l.x)!==null&&r!==void 0?r:0),y:e.y-((c=(s=o.positionAbsolute)===null||s===void 0?void 0:s.y)!==null&&c!==void 0?c:0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode,width:o.width,height:o.height}})}function Bo(t,e,n,o){var r=t.extent||o,l={x:e.x-t.distance.x,y:e.y-t.distance.y};if(t.extent==="parent")if(t.parentNode&&t.width&&t.height){var c=n.get(t.parentNode);r=c!=null&&c.positionAbsolute&&c!==null&&c!==void 0&&c.width&&c!==null&&c!==void 0&&c.height?[[c.positionAbsolute.x,c.positionAbsolute.y],[c.positionAbsolute.x+c.width-t.width,c.positionAbsolute.y+c.height-t.height]]:r}else r=o;else if(t.extent&&t.parentNode){var s,g,m,d,b=n.get(t.parentNode),f=(s=b==null||(g=b.positionAbsolute)===null||g===void 0?void 0:g.x)!==null&&s!==void 0?s:0,S=(m=b==null||(d=b.positionAbsolute)===null||d===void 0?void 0:d.y)!==null&&m!==void 0?m:0;r=[[t.extent[0][0]+f,t.extent[0][1]+S],[t.extent[1][0]+f,t.extent[1][1]+S]]}var v={x:0,y:0};if(t.parentNode){var N,w,C,P,E=n.get(t.parentNode);v={x:(N=E==null||(w=E.positionAbsolute)===null||w===void 0?void 0:w.x)!==null&&N!==void 0?N:0,y:(C=E==null||(P=E.positionAbsolute)===null||P===void 0?void 0:P.y)!==null&&C!==void 0?C:0}}return t.positionAbsolute=r?(0,a.m)(l,r):l,t.position={x:t.positionAbsolute.x-v.x,y:t.positionAbsolute.y-v.y},t}function Lt(t){var e=t.nodeId,n=t.dragItems,o=t.nodeInternals,r=n.map(function(l){var c=o.get(l.id);return fn(fn({},c),{},{position:l.position,positionAbsolute:l.positionAbsolute})});return[e?r.find(function(l){return l.id===e}):r[0],r]}function It(t){return function(e,n,o){return t==null?void 0:t(e,o)}}function hn(t){var e=t.nodeRef,n=t.disabled,o=n===void 0?!1:n,r=t.noDragClassName,l=t.handleSelector,c=t.nodeId,s=t.isSelectable,g=t.selectNodesOnDrag,m=(0,i.useState)(!1),d=(0,a._)(m,2),b=d[0],f=d[1],S=(0,a.u)(),v=(0,i.useRef)(),N=(0,i.useRef)({x:null,y:null}),w=(0,i.useCallback)(function(C){var P=C.sourceEvent,E=S.getState(),u=E.transform,p=E.snapGrid,h=E.snapToGrid,O=P.touches?P.touches[0].clientX:P.clientX,y=P.touches?P.touches[0].clientY:P.clientY,M=(0,a.p)({x:O,y},u,h,p);return M},[]);return(0,i.useEffect)(function(){if(e!=null&&e.current){var C=(0,ke.Z)(e.current);if(o)C.on(".drag",null);else{var P=x().on("start",function(E){var u=S.getState(),p=u.nodeInternals,h=u.multiSelectionActive,O=u.unselectNodesAndEdges,y=u.onNodeDragStart,M=u.onSelectionDragStart,$=c?y:It(M);if(!g&&!h&&c){var D;(D=p.get(c))!==null&&D!==void 0&&D.selected||O()}c&&s&&g&&(0,a.n)({id:c,store:S});var H=w(E);if(N.current=H,v.current=ko(p,H,c),$&&v.current){var A=Lt({nodeId:c,dragItems:v.current,nodeInternals:p}),U=(0,a._)(A,2),_=U[0],I=U[1];$(E.sourceEvent,_,I)}}).on("drag",function(E){var u=S.getState(),p=u.updateNodePositions,h=u.nodeInternals,O=u.nodeExtent,y=u.onNodeDrag,M=u.onSelectionDrag,$=w(E);if((N.current.x!==$.x||N.current.y!==$.y)&&v.current){N.current=$,v.current=v.current.map(function(I){return Bo(I,$,h,O)});var D=c?y:It(M);if(p(v.current,!0,!0),f(!0),D){var H=Lt({nodeId:c,dragItems:v.current,nodeInternals:h}),A=(0,a._)(H,2),U=A[0],_=A[1];D(E.sourceEvent,U,_)}}E.on("end",function(I){if(f(!1),v.current){var Y=S.getState(),ne=Y.updateNodePositions,Q=Y.nodeInternals,T=Y.onNodeDragStop,ee=Y.onSelectionDragStop,be=c?T:It(ee);if(ne(v.current,!1,!1),be){var me=Lt({nodeId:c,dragItems:v.current,nodeInternals:Q}),z=(0,a._)(me,2),oe=z[0],Pe=z[1];be(I.sourceEvent,oe,Pe)}}})}).filter(function(E){var u=E.target,p=!E.button&&(!r||!pn(u,".".concat(r),e))&&(!l||pn(u,l,e));return p});return C.call(P),function(){C.on(".drag",null)}}}},[e,o,r,l,s,S,c,g,w]),b}function bn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bn(Object(n),!0).forEach(function(o){(0,a.a)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var jo=function(e){return zo({transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive},(0,a.o)(Array.from(e.nodeInternals.values()).filter(function(n){return n.selected})))},$o=function(e){var n=Array.from(e.nodeInternals.values()).filter(function(o){return o.selected});return(0,a.o)(n)};function Ro(t){var e=t.onSelectionContextMenu,n=t.noPanClassName,o=(0,a.u)(),r=(0,a.b)(jo,se.Z),l=r.transformString,c=r.userSelectionActive,s=(0,a.b)($o,se.Z),g=s.width,m=s.height,d=s.x,b=s.y,f=(0,i.useRef)(null);if(hn({nodeRef:f}),c||!g||!m)return null;var S=e?function(v){var N=Array.from(o.getState().nodeInternals.values()).filter(function(w){return w.selected});e(v,N)}:void 0;return i.createElement("div",{className:(0,ie.Z)(["react-flow__nodesselection","react-flow__container",n]),style:{transform:l}},i.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:S,style:{width:g,height:m,top:b,left:d}}))}var Lo=(0,i.memo)(Ro),Io=function(e){return e.nodesSelectionActive},Sn=function(e){var n=e.children,o=e.onPaneClick,r=e.onPaneContextMenu,l=e.onPaneScroll,c=e.deleteKeyCode,s=e.onMove,g=e.onMoveStart,m=e.onMoveEnd,d=e.selectionKeyCode,b=e.multiSelectionKeyCode,f=e.zoomActivationKeyCode,S=e.elementsSelectable,v=e.zoomOnScroll,N=e.zoomOnPinch,w=e.panOnScroll,C=e.panOnScrollSpeed,P=e.panOnScrollMode,E=e.zoomOnDoubleClick,u=e.panOnDrag,p=e.defaultPosition,h=e.defaultZoom,O=e.preventScrolling,y=e.onSelectionContextMenu,M=e.noWheelClassName,$=e.noPanClassName,D=(0,a.u)(),H=(0,a.b)(Io),A=Et(d);wo({deleteKeyCode:c,multiSelectionKeyCode:b});var U=function(ne){o==null||o(ne),D.getState().resetSelectedElements(),D.setState({nodesSelectionActive:!1})},_=r?function(Y){return r(Y)}:void 0,I=l?function(Y){return l(Y)}:void 0;return i.createElement(No,{onMove:s,onMoveStart:g,onMoveEnd:m,selectionKeyPressed:A,elementsSelectable:S,zoomOnScroll:v,zoomOnPinch:N,panOnScroll:w,panOnScrollSpeed:C,panOnScrollMode:P,zoomOnDoubleClick:E,panOnDrag:u,defaultPosition:p,defaultZoom:h,zoomActivationKeyCode:f,preventScrolling:O,noWheelClassName:M,noPanClassName:$},n,i.createElement(Do,{selectionKeyPressed:A}),H&&i.createElement(Lo,{onSelectionContextMenu:y,noPanClassName:$}),i.createElement("div",{className:"react-flow__pane react-flow__container",onClick:U,onContextMenu:_,onWheel:I}))};Sn.displayName="FlowRenderer";var To=(0,i.memo)(Sn);function Ao(t){var e=(0,a.b)((0,i.useCallback)(function(n){return t?(0,a.k)(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):Array.from(n.nodeInternals.values())},[t]));return e}var Yo=function(e){return{nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions}},yn=function(e){var n=(0,a.b)(Yo,se.Z),o=n.nodesDraggable,r=n.nodesConnectable,l=n.elementsSelectable,c=n.updateNodeDimensions,s=Ao(e.onlyRenderVisibleElements),g=(0,i.useRef)(),m=(0,i.useMemo)(function(){if(typeof ResizeObserver=="undefined")return null;var d=new ResizeObserver(function(b){var f=b.map(function(S){return{id:S.target.getAttribute("data-id"),nodeElement:S.target,forceUpdate:!0}});c(f)});return g.current=d,d},[]);return(0,i.useEffect)(function(){return function(){var d;g==null||(d=g.current)===null||d===void 0||d.disconnect()}},[]),i.createElement("div",{className:"react-flow__nodes react-flow__container"},s.map(function(d){var b,f,S,v,N,w,C,P=d.type||"default";e.nodeTypes[P]||(P="default");var E=e.nodeTypes[P]||e.nodeTypes.default,u=!!(d.draggable||o&&typeof d.draggable=="undefined"),p=!!(d.selectable||l&&typeof d.selectable=="undefined"),h=!!(d.connectable||r&&typeof d.connectable=="undefined");return i.createElement(E,{key:d.id,id:d.id,className:d.className,style:d.style,type:P,data:d.data,sourcePosition:d.sourcePosition||a.P.Bottom,targetPosition:d.targetPosition||a.P.Top,hidden:d.hidden,xPos:(b=(f=d.positionAbsolute)===null||f===void 0?void 0:f.x)!==null&&b!==void 0?b:0,yPos:(S=(v=d.positionAbsolute)===null||v===void 0?void 0:v.y)!==null&&S!==void 0?S:0,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:u,isSelectable:p,isConnectable:h,resizeObserver:m,dragHandle:d.dragHandle,zIndex:(N=(w=d[a.i])===null||w===void 0?void 0:w.z)!==null&&N!==void 0?N:0,isParent:!!((C=d[a.i])!==null&&C!==void 0&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height})}))};yn.displayName="NodeRenderer";var Xo=(0,i.memo)(yn),st;function Cn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cn(Object(n),!0).forEach(function(o){(0,a.a)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var Ho=(st={},(0,a.a)(st,a.P.Left,a.P.Right),(0,a.a)(st,a.P.Right,a.P.Left),(0,a.a)(st,a.P.Top,a.P.Bottom),(0,a.a)(st,a.P.Bottom,a.P.Top),st),Zo=function(t){var e,n,o,r,l,c=t.connectionNodeId,s=t.connectionHandleType,g=t.connectionLineStyle,m=t.connectionLineType,d=m===void 0?a.q.Bezier:m,b=t.isConnectable,f=t.CustomConnectionLineComponent,S=(0,a.b)((0,i.useCallback)(function(Q){return{fromNode:Q.nodeInternals.get(c),handleId:Q.connectionHandleId,toX:(Q.connectionPosition.x-Q.transform[0])/Q.transform[2],toY:(Q.connectionPosition.y-Q.transform[1])/Q.transform[2]}},[c]),se.Z),v=S.fromNode,N=S.handleId,w=S.toX,C=S.toY,P=v==null||(e=v[a.i])===null||e===void 0?void 0:e.handleBounds;if(!v||!b||!(P!=null&&P[s]))return null;var E=P[s],u=N?E.find(function(Q){return Q.id===N}):E[0],p=u?u.x+u.width/2:((n=v==null?void 0:v.width)!==null&&n!==void 0?n:0)/2,h=u?u.y+u.height/2:(o=v==null?void 0:v.height)!==null&&o!==void 0?o:0,O=((v==null||(r=v.positionAbsolute)===null||r===void 0?void 0:r.x)||0)+p,y=((v==null||(l=v.positionAbsolute)===null||l===void 0?void 0:l.y)||0)+h,M=u==null?void 0:u.position;if(!M)return null;var $=Ho[M],D,H,A,U,_,I;switch(s){case"source":D=O,H=y,A=M,U=w,_=C,I=$;break;case"target":D=w,H=C,A=$,U=O,_=y,I=M;break}if(f)return i.createElement("g",{className:"react-flow__connection"},i.createElement(f,{connectionLineType:d,connectionLineStyle:g,fromNode:v,fromHandle:u,fromX:O,fromY:y,toX:w,toY:C,fromPosition:M,toPosition:$,sourcePosition:A,targetPosition:I,sourceNode:v,sourceHandle:u,targetX:U,targetY:_,sourceX:D,sourceY:H}));var Y="",ne={sourceX:D,sourceY:H,sourcePosition:A,targetX:U,targetY:_,targetPosition:I};return d===a.q.Bezier?Y=lt(ne):d===a.q.Step?Y=Ze(En(En({},ne),{},{borderRadius:0})):d===a.q.SmoothStep?Y=Ze(ne):d===a.q.SimpleBezier?Y=ae(ne):Y="M".concat(D,",").concat(H," ").concat(U,",").concat(_),i.createElement("g",{className:"react-flow__connection"},i.createElement("path",{d:Y,className:"react-flow__connection-path",style:g}))};function Tt(t){return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(t)}var Pt,Ko=function(e){var n=e.color,o=n===void 0?"none":n,r=e.strokeWidth,l=r===void 0?1:r;return i.createElement("polyline",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:l,fill:"none",points:"-5,-4 0,0 -5,4"})},Uo=function(e){var n=e.color,o=n===void 0?"none":n,r=e.strokeWidth,l=r===void 0?1:r;return i.createElement("polyline",{stroke:o,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:l,fill:o,points:"-5,-4 0,0 -5,4 -5,-4"})},wn=(Pt={},(0,a.a)(Pt,a.M.Arrow,Ko),(0,a.a)(Pt,a.M.ArrowClosed,Uo),Pt);function Vo(t){var e=(0,i.useMemo)(function(){var n=wn.hasOwnProperty(t);return n?wn[t]:function(){return null}},[t]);return e}function Pn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pn(Object(n),!0).forEach(function(o){(0,a.a)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var _o=function(e){var n=e.id,o=e.type,r=e.color,l=e.width,c=l===void 0?12.5:l,s=e.height,g=s===void 0?12.5:s,m=e.markerUnits,d=m===void 0?"strokeWidth":m,b=e.strokeWidth,f=e.orient,S=f===void 0?"auto":f,v=Vo(o);return i.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(c),markerHeight:"".concat(g),viewBox:"-10 -10 20 20",markerUnits:d,orient:S,refX:"0",refY:"0"},i.createElement(v,{color:r,strokeWidth:b}))},Fo=function(e){var n=e.defaultColor,o=e.rfId;return function(r){var l=[];return r.edges.reduce(function(c,s){return[s.markerStart,s.markerEnd].forEach(function(g){if(g&&Tt(g)==="object"){var m=(0,a.d)(g,o);l.includes(m)||(c.push(Wo({id:m,color:g.color||n},g)),l.push(m))}}),c},[]).sort(function(c,s){return c.id.localeCompare(s.id)})}},On=function(e){var n=e.defaultColor,o=e.rfId,r=(0,a.b)((0,i.useCallback)(Fo({defaultColor:n,rfId:o}),[n,o]),function(l,c){return!(l.length!==c.length||l.some(function(s,g){return s.id!==c[g].id}))});return i.createElement("defs",null,r.map(function(l){return i.createElement(_o,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,strokeWidth:l.strokeWidth,orient:l.orient})}))};On.displayName="MarkerDefinitions";var Go=(0,i.memo)(On),Qo=[{level:0,isMaxLevel:!0,edges:[]}];function Jo(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=-1,r=t.reduce(function(c,s){var g=(0,a.s)(s.zIndex),m=g?s.zIndex:0;if(n){var d,b,f,S;m=g?s.zIndex:Math.max(((d=e.get(s.source))===null||d===void 0||(b=d[a.i])===null||b===void 0?void 0:b.z)||0,((f=e.get(s.target))===null||f===void 0||(S=f[a.i])===null||S===void 0?void 0:S.z)||0)}return c[m]?c[m].push(s):c[m]=[s],o=m>o?m:o,c},{}),l=Object.entries(r).map(function(c){var s=(0,a._)(c,2),g=s[0],m=s[1],d=+g;return{edges:m,level:d,isMaxLevel:d===o}});return l.length===0?Qo:l}function qo(t,e,n){var o=(0,a.b)((0,i.useCallback)(function(r){return t?r.edges.filter(function(l){var c=e.get(l.source),s=e.get(l.target);return(c==null?void 0:c.width)&&(c==null?void 0:c.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&yo({sourcePos:c.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:c.width,sourceHeight:c.height,targetWidth:s.width,targetHeight:s.height,width:r.width,height:r.height,transform:r.transform})}):r.edges},[t,e]));return Jo(o,e,n)}var er=function(e){return{connectionNodeId:e.connectionNodeId,connectionHandleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals}},Mn=function(e){var n=(0,a.b)(er,se.Z),o=n.connectionNodeId,r=n.connectionHandleType,l=n.nodesConnectable,c=n.elementsSelectable,s=n.width,g=n.height,m=n.connectionMode,d=n.nodeInternals,b=qo(e.onlyRenderVisibleElements,d,e.elevateEdgesOnSelect);if(!s)return null;var f=e.connectionLineType,S=e.defaultMarkerColor,v=e.connectionLineStyle,N=e.connectionLineComponent,w=e.connectionLineContainerStyle,C=o&&r;return i.createElement(i.Fragment,null,b.map(function(P){var E=P.level,u=P.edges,p=P.isMaxLevel;return i.createElement("svg",{key:E,style:{zIndex:E},width:s,height:g,className:"react-flow__edges react-flow__container"},p&&i.createElement(Go,{defaultColor:S,rfId:e.rfId}),i.createElement("g",null,u.map(function(h){var O=rn(d,h.source),y=(0,a._)(O,3),M=y[0],$=y[1],D=y[2],H=rn(d,h.target),A=(0,a._)(H,3),U=A[0],_=A[1],I=A[2];if(!D||!I)return null;var Y=h.type||"default",ne=e.edgeTypes[Y]||e.edgeTypes.default,Q=m===a.C.Strict?_.target:_.target||_.source,T=on($.source,h.sourceHandle||null),ee=on(Q,h.targetHandle||null),be=(T==null?void 0:T.position)||a.P.Bottom,me=(ee==null?void 0:ee.position)||a.P.Top;if(!T||!ee)return null;var z=So(M,T,be,U,ee,me),oe=z.sourceX,Pe=z.sourceY,De=z.targetX,Me=z.targetY;return i.createElement(ne,{key:h.id,id:h.id,className:(0,ie.Z)([h.className,e.noPanClassName]),type:Y,data:h.data,selected:!!h.selected,animated:!!h.animated,hidden:!!h.hidden,label:h.label,labelStyle:h.labelStyle,labelShowBg:h.labelShowBg,labelBgStyle:h.labelBgStyle,labelBgPadding:h.labelBgPadding,labelBgBorderRadius:h.labelBgBorderRadius,style:h.style,source:h.source,target:h.target,sourceHandleId:h.sourceHandle,targetHandleId:h.targetHandle,markerEnd:h.markerEnd,markerStart:h.markerStart,sourceX:oe,sourceY:Pe,targetX:De,targetY:Me,sourcePosition:be,targetPosition:me,elementsSelectable:c,onEdgeUpdate:e.onEdgeUpdate,onContextMenu:e.onEdgeContextMenu,onMouseEnter:e.onEdgeMouseEnter,onMouseMove:e.onEdgeMouseMove,onMouseLeave:e.onEdgeMouseLeave,onClick:e.onEdgeClick,edgeUpdaterRadius:e.edgeUpdaterRadius,onEdgeDoubleClick:e.onEdgeDoubleClick,onEdgeUpdateStart:e.onEdgeUpdateStart,onEdgeUpdateEnd:e.onEdgeUpdateEnd,rfId:e.rfId})})))}),C&&i.createElement("svg",{style:w,width:s,height:g,className:"react-flow__edges react-flow__connectionline react-flow__container"},i.createElement(Zo,{connectionNodeId:o,connectionHandleType:r,connectionLineStyle:v,connectionLineType:f,isConnectable:l,CustomConnectionLineComponent:N})))};Mn.displayName="EdgeRenderer";var tr=(0,i.memo)(Mn),nr=function(e){return"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")")};function or(t){var e=t.children,n=(0,a.b)(nr);return i.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},e)}function rr(t){var e=(0,L.u)(),n=(0,i.useRef)(!1);(0,i.useEffect)(function(){!n.current&&e.viewportInitialized&&t&&(setTimeout(function(){return t(e)},1),n.current=!0)},[t,e.viewportInitialized])}var Nn=function(e){var n=e.nodeTypes,o=e.edgeTypes,r=e.onMove,l=e.onMoveStart,c=e.onMoveEnd,s=e.onInit,g=e.onNodeClick,m=e.onEdgeClick,d=e.onNodeDoubleClick,b=e.onEdgeDoubleClick,f=e.onNodeMouseEnter,S=e.onNodeMouseMove,v=e.onNodeMouseLeave,N=e.onNodeContextMenu,w=e.onSelectionContextMenu,C=e.connectionLineType,P=e.connectionLineStyle,E=e.connectionLineComponent,u=e.connectionLineContainerStyle,p=e.selectionKeyCode,h=e.multiSelectionKeyCode,O=e.zoomActivationKeyCode,y=e.deleteKeyCode,M=e.onlyRenderVisibleElements,$=e.elementsSelectable,D=e.selectNodesOnDrag,H=e.defaultZoom,A=e.defaultPosition,U=e.preventScrolling,_=e.defaultMarkerColor,I=e.zoomOnScroll,Y=e.zoomOnPinch,ne=e.panOnScroll,Q=e.panOnScrollSpeed,T=e.panOnScrollMode,ee=e.zoomOnDoubleClick,be=e.panOnDrag,me=e.onPaneClick,z=e.onPaneScroll,oe=e.onPaneContextMenu,Pe=e.onEdgeUpdate,De=e.onEdgeContextMenu,Me=e.onEdgeMouseEnter,we=e.onEdgeMouseMove,R=e.onEdgeMouseLeave,je=e.edgeUpdaterRadius,Ue=e.onEdgeUpdateStart,Ge=e.onEdgeUpdateEnd,Ve=e.noDragClassName,bt=e.noWheelClassName,Qe=e.noPanClassName,dt=e.elevateEdgesOnSelect,ut=e.id;return rr(s),i.createElement(To,{onPaneClick:me,onPaneContextMenu:oe,onPaneScroll:z,deleteKeyCode:y,selectionKeyCode:p,multiSelectionKeyCode:h,zoomActivationKeyCode:O,elementsSelectable:$,onMove:r,onMoveStart:l,onMoveEnd:c,zoomOnScroll:I,zoomOnPinch:Y,zoomOnDoubleClick:ee,panOnScroll:ne,panOnScrollSpeed:Q,panOnScrollMode:T,panOnDrag:be,defaultPosition:A,defaultZoom:H,onSelectionContextMenu:w,preventScrolling:U,noDragClassName:Ve,noWheelClassName:bt,noPanClassName:Qe},i.createElement(or,null,i.createElement(tr,{edgeTypes:o,onEdgeClick:m,onEdgeDoubleClick:b,connectionLineType:C,connectionLineStyle:P,connectionLineComponent:E,connectionLineContainerStyle:u,onEdgeUpdate:Pe,onlyRenderVisibleElements:M,onEdgeContextMenu:De,onEdgeMouseEnter:Me,onEdgeMouseMove:we,onEdgeMouseLeave:R,onEdgeUpdateStart:Ue,onEdgeUpdateEnd:Ge,edgeUpdaterRadius:je,defaultMarkerColor:_,noPanClassName:Qe,elevateEdgesOnSelect:!!dt,rfId:ut}),i.createElement(Xo,{nodeTypes:n,onNodeClick:g,onNodeDoubleClick:d,onNodeMouseEnter:f,onNodeMouseMove:S,onNodeMouseLeave:v,onNodeContextMenu:N,selectNodesOnDrag:D,onlyRenderVisibleElements:M,noPanClassName:Qe,noDragClassName:Ve})))};Nn.displayName="GraphView";var ar=(0,i.memo)(Nn),xn=function(){return null};xn.displayName="GroupNode";function Dn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dn(Object(n),!0).forEach(function(o){(0,a.a)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var ht=function(t){var e=function(o){var r=o.id,l=o.type,c=o.data,s=o.xPos,g=o.yPos,m=o.selected,d=o.onClick,b=o.onMouseEnter,f=o.onMouseMove,S=o.onMouseLeave,v=o.onContextMenu,N=o.onDoubleClick,w=o.style,C=o.className,P=o.isDraggable,E=o.isSelectable,u=o.isConnectable,p=o.selectNodesOnDrag,h=o.sourcePosition,O=o.targetPosition,y=o.hidden,M=o.resizeObserver,$=o.dragHandle,D=o.zIndex,H=o.isParent,A=o.noPanClassName,U=o.noDragClassName,_=o.initialized,I=(0,a.u)(),Y=(0,i.useRef)(null),ne=(0,i.useRef)(h),Q=(0,i.useRef)(O),T=(0,i.useRef)(l),ee=E||P||d||b||f||S,be=(0,a.t)(r,I.getState,b),me=(0,a.t)(r,I.getState,f),z=(0,a.t)(r,I.getState,S),oe=(0,a.t)(r,I.getState,v),Pe=(0,a.t)(r,I.getState,N),De=function(R){if(E&&(!p||!P)&&(0,a.n)({id:r,store:I}),d){var je=I.getState().nodeInternals.get(r);d(R,kn({},je))}};(0,i.useEffect)(function(){if(Y.current&&!y){var we=Y.current;return M==null||M.observe(we),function(){return M==null?void 0:M.unobserve(we)}}},[y]),(0,i.useEffect)(function(){var we=T.current!==l,R=ne.current!==h,je=Q.current!==O;Y.current&&(we||R||je)&&(we&&(T.current=l),R&&(ne.current=h),je&&(Q.current=O),I.getState().updateNodeDimensions([{id:r,nodeElement:Y.current,forceUpdate:!0}]))},[r,l,h,O]);var Me=hn({nodeRef:Y,disabled:y||!P,noDragClassName:U,handleSelector:$,nodeId:r,isSelectable:E,selectNodesOnDrag:p});return y?null:i.createElement("div",{className:(0,ie.Z)(["react-flow__node","react-flow__node-".concat(l),A,C,{selected:m,selectable:E,parent:H}]),ref:Y,style:kn({zIndex:D,transform:"translate(".concat(s,"px,").concat(g,"px)"),pointerEvents:ee?"all":"none",visibility:_?"visible":"hidden"},w),onMouseEnter:be,onMouseMove:me,onMouseLeave:z,onContextMenu:oe,onClick:De,onDoubleClick:Pe,"data-id":r},i.createElement(to,{value:r},i.createElement(t,{id:r,data:c,type:l,xPos:s,yPos:g,selected:m,isConnectable:u,sourcePosition:h,targetPosition:O,dragging:Me,dragHandle:$,zIndex:D})))};return e.displayName="NodeWrapper",(0,i.memo)(e)};function Bn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bn(Object(n),!0).forEach(function(o){(0,a.a)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function ir(t){var e={input:ht(t.input||Gt),default:ht(t.default||$t),output:ht(t.output||Jt),group:ht(t.group||xn)},n={},o=Object.keys(t).filter(function(r){return!["input","default","output","group"].includes(r)}).reduce(function(r,l){return r[l]=ht(t[l]||$t),r},n);return zn(zn({},e),o)}function jn(t,e){var n=(0,i.useRef)(null),o=(0,i.useMemo)(function(){if(!1)var r;return e(t)},[t]);return o}function $n(t){if(!(!t||typeof document=="undefined")){var e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");e.appendChild(n),n.appendChild(document.createTextNode(t))}}var Rn=function(e){var n=e.children,o=!0;try{(0,a.u)()}catch(r){o=!1}return o?i.createElement(i.Fragment,null,n):i.createElement(a.v,{createStore:a.w},n)};Rn.displayName="ReactFlowWrapper";var lr=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectStop","onConnectEnd","onClickConnectStart","onClickConnectStop","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateEdgesOnSelect"];function Ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ln(Object(n),!0).forEach(function(o){(0,a.a)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}$n(vo),$n(mo);var cr={input:Gt,default:$t,output:Jt},sr={default:qe,straight:ft,step:at,smoothstep:ze,simplebezier:ye},dr=[15,15],ur=[0,0],Tn=(0,i.forwardRef)(function(t,e){var n=t.nodes,o=t.edges,r=t.defaultNodes,l=t.defaultEdges,c=t.className,s=t.nodeTypes,g=s===void 0?cr:s,m=t.edgeTypes,d=m===void 0?sr:m,b=t.onNodeClick,f=t.onEdgeClick,S=t.onInit,v=t.onMove,N=t.onMoveStart,w=t.onMoveEnd,C=t.onConnect,P=t.onConnectStart,E=t.onConnectStop,u=t.onConnectEnd,p=t.onClickConnectStart,h=t.onClickConnectStop,O=t.onClickConnectEnd,y=t.onNodeMouseEnter,M=t.onNodeMouseMove,$=t.onNodeMouseLeave,D=t.onNodeContextMenu,H=t.onNodeDoubleClick,A=t.onNodeDragStart,U=t.onNodeDrag,_=t.onNodeDragStop,I=t.onNodesDelete,Y=t.onEdgesDelete,ne=t.onSelectionChange,Q=t.onSelectionDragStart,T=t.onSelectionDrag,ee=t.onSelectionDragStop,be=t.onSelectionContextMenu,me=t.connectionMode,z=me===void 0?a.C.Strict:me,oe=t.connectionLineType,Pe=oe===void 0?a.q.Bezier:oe,De=t.connectionLineStyle,Me=t.connectionLineComponent,we=t.connectionLineContainerStyle,R=t.deleteKeyCode,je=R===void 0?"Backspace":R,Ue=t.selectionKeyCode,Ge=Ue===void 0?"Shift":Ue,Ve=t.multiSelectionKeyCode,bt=Ve===void 0?"Meta":Ve,Qe=t.zoomActivationKeyCode,dt=Qe===void 0?"Meta":Qe,ut=t.snapToGrid,At=ut===void 0?!1:ut,St=t.snapGrid,Ot=St===void 0?dr:St,Mt=t.onlyRenderVisibleElements,Yt=Mt===void 0?!1:Mt,Nt=t.selectNodesOnDrag,xt=Nt===void 0?!0:Nt,Xt=t.nodesDraggable,tt=t.nodesConnectable,He=t.elementsSelectable,We=t.minZoom,yt=t.maxZoom,gt=t.defaultZoom,nt=gt===void 0?1:gt,vt=t.defaultPosition,Ht=vt===void 0?ur:vt,Ct=t.translateExtent,Dt=t.preventScrolling,Zt=Dt===void 0?!0:Dt,ot=t.nodeExtent,kt=t.defaultMarkerColor,fr=kt===void 0?"#b1b1b7":kt,Xn=t.zoomOnScroll,mr=Xn===void 0?!0:Xn,Hn=t.zoomOnPinch,pr=Hn===void 0?!0:Hn,Zn=t.panOnScroll,hr=Zn===void 0?!1:Zn,Kn=t.panOnScrollSpeed,br=Kn===void 0?.5:Kn,Un=t.panOnScrollMode,Sr=Un===void 0?a.h.Free:Un,Vn=t.zoomOnDoubleClick,yr=Vn===void 0?!0:Vn,Wn=t.panOnDrag,Cr=Wn===void 0?!0:Wn,Er=t.onPaneClick,wr=t.onPaneScroll,Pr=t.onPaneContextMenu,Or=t.children,Mr=t.onEdgeUpdate,Nr=t.onEdgeContextMenu,xr=t.onEdgeDoubleClick,Dr=t.onEdgeMouseEnter,kr=t.onEdgeMouseMove,Br=t.onEdgeMouseLeave,zr=t.onEdgeUpdateStart,jr=t.onEdgeUpdateEnd,_n=t.edgeUpdaterRadius,$r=_n===void 0?10:_n,Rr=t.onNodesChange,Lr=t.onEdgesChange,Fn=t.noDragClassName,Ir=Fn===void 0?"nodrag":Fn,Gn=t.noWheelClassName,Tr=Gn===void 0?"nowheel":Gn,Qn=t.noPanClassName,Ar=Qn===void 0?"nopan":Qn,Jn=t.fitView,Yr=Jn===void 0?!1:Jn,Xr=t.fitViewOptions,qn=t.connectOnClick,Hr=qn===void 0?!0:qn,Zr=t.attributionPosition,Kr=t.proOptions,Ur=t.defaultEdgeOptions,eo=t.elevateEdgesOnSelect,Vr=eo===void 0?!1:eo,Bt=(0,L.a)(t,lr),Wr=jn(g,ir),_r=jn(d,bo);return i.createElement("div",In(In({},Bt),{},{ref:e,className:(0,ie.Z)(["react-flow",c])}),i.createElement(Rn,null,i.createElement(ar,{onInit:S,onMove:v,onMoveStart:N,onMoveEnd:w,onNodeClick:b,onEdgeClick:f,onNodeMouseEnter:y,onNodeMouseMove:M,onNodeMouseLeave:$,onNodeContextMenu:D,onNodeDoubleClick:H,nodeTypes:Wr,edgeTypes:_r,connectionLineType:Pe,connectionLineStyle:De,connectionLineComponent:Me,connectionLineContainerStyle:we,selectionKeyCode:Ge,deleteKeyCode:je,multiSelectionKeyCode:bt,zoomActivationKeyCode:dt,onlyRenderVisibleElements:Yt,selectNodesOnDrag:xt,defaultZoom:nt,defaultPosition:Ht,preventScrolling:Zt,zoomOnScroll:mr,zoomOnPinch:pr,zoomOnDoubleClick:yr,panOnScroll:hr,panOnScrollSpeed:br,panOnScrollMode:Sr,panOnDrag:Cr,onPaneClick:Er,onPaneScroll:wr,onPaneContextMenu:Pr,onSelectionContextMenu:be,onEdgeUpdate:Mr,onEdgeContextMenu:Nr,onEdgeDoubleClick:xr,onEdgeMouseEnter:Dr,onEdgeMouseMove:kr,onEdgeMouseLeave:Br,onEdgeUpdateStart:zr,onEdgeUpdateEnd:jr,edgeUpdaterRadius:$r,defaultMarkerColor:fr,noDragClassName:Ir,noWheelClassName:Tr,noPanClassName:Ar,elevateEdgesOnSelect:Vr,id:Bt==null?void 0:Bt.id}),i.createElement(uo,{nodes:n,edges:o,defaultNodes:r,defaultEdges:l,onConnect:C,onConnectStart:P,onConnectStop:E,onConnectEnd:u,onClickConnectStart:p,onClickConnectStop:h,onClickConnectEnd:O,nodesDraggable:Xt,nodesConnectable:tt,elementsSelectable:He,minZoom:We,maxZoom:yt,nodeExtent:ot,onNodesChange:Rr,onEdgesChange:Lr,snapToGrid:At,snapGrid:Ot,connectionMode:z,translateExtent:Ct,connectOnClick:Hr,defaultEdgeOptions:Ur,fitView:Yr,fitViewOptions:Xr,onNodesDelete:I,onEdgesDelete:Y,onNodeDragStart:A,onNodeDrag:U,onNodeDragStop:_,onSelectionDrag:T,onSelectionDragStart:Q,onSelectionDragStop:ee}),ne&&i.createElement(co,{onSelectionChange:ne}),Or,i.createElement(Z,{proOptions:Kr,position:Zr})))});Tn.displayName="ReactFlow";var An=function(e){var n=e.children;return i.createElement(a.v,{createStore:a.w},n)};An.displayName="ReactFlowProvider";function Yn(t){return function(e){var n=(0,i.useState)(e),o=(0,a._)(n,2),r=o[0],l=o[1],c=(0,i.useCallback)(function(s){return l(function(g){return t(s,g)})},[]);return[r,l,c]}}var gr=Yn(a.x),vr=Yn(a.y)},56022:function(rt,$e,W){"use strict";W.d($e,{Z:function(){return Ae}});var a=W(67294),L=W(60346),i=W(60374),ie=W(83639),se=W(61667),Ie=function(k){var re=k.x,ge=k.y,x=k.width,B=k.height,Z=k.style,j=k.color,G=k.strokeColor,Ce=k.strokeWidth,Ee=k.className,F=k.borderRadius,J=k.shapeRendering,te=Z||{},ae=te.background,Se=te.backgroundColor,ye=j||ae||Se;return a.createElement("rect",{className:(0,L.Z)(["react-flow__minimap-node",Ee]),x:re,y:ge,rx:F,ry:F,width:x,height:B,fill:ye,stroke:G,strokeWidth:Ce,shapeRendering:J})};Ie.displayName="MiniMapNode";var ke=(0,a.memo)(Ie),Te=200,Xe=150,Re=function(k){return{viewBBox:{x:-k.transform[0]/k.transform[2],y:-k.transform[1]/k.transform[2],width:k.width/k.transform[2],height:k.height/k.transform[2]},nodes:Array.from(k.nodeInternals.values())}},Oe=function(k){return k instanceof Function?k:function(){return k}},Be=function(k){var re,ge,x=k.style,B=k.className,Z=k.nodeStrokeColor,j=Z===void 0?"#555":Z,G=k.nodeColor,Ce=G===void 0?"#fff":G,Ee=k.nodeClassName,F=Ee===void 0?"":Ee,J=k.nodeBorderRadius,te=J===void 0?5:J,ae=k.nodeStrokeWidth,Se=ae===void 0?2:ae,ye=k.maskColor,X=ye===void 0?"rgb(240, 242, 243, 0.7)":ye,V=(0,ie.b)(Re,i.Z),K=V.viewBBox,q=V.nodes,le=(re=x==null?void 0:x.width)!==null&&re!==void 0?re:Te,de=(ge=x==null?void 0:x.height)!==null&&ge!==void 0?ge:Xe,ve=Oe(Ce),fe=Oe(j),he=Oe(F),ce=q.length>0?(0,ie.H)((0,ie.o)(q),K):K,xe=ce.width/le,Ye=ce.height/de,Le=Math.max(xe,Ye),_e=Le*le,Ze=Le*de,ze=5*Le,Je=ce.x-(_e-ce.width)/2-ze,Ke=ce.y-(Ze-ce.height)/2-ze,at=_e+ze*2,ft=Ze+ze*2,it=typeof window=="undefined"||!!window.chrome?"crispEdges":"geometricPrecision";return a.createElement("svg",{width:le,height:de,viewBox:"".concat(Je," ").concat(Ke," ").concat(at," ").concat(ft),style:x,className:(0,L.Z)(["react-flow__minimap",B])},q.filter(function(Ne){return!Ne.hidden&&Ne.width&&Ne.height}).map(function(Ne){var lt,mt,qe,et;return a.createElement(ke,{key:Ne.id,x:(lt=(mt=Ne.positionAbsolute)===null||mt===void 0?void 0:mt.x)!==null&&lt!==void 0?lt:0,y:(qe=(et=Ne.positionAbsolute)===null||et===void 0?void 0:et.y)!==null&&qe!==void 0?qe:0,width:Ne.width,height:Ne.height,style:Ne.style,className:he(Ne),color:ve(Ne),borderRadius:te,strokeColor:fe(Ne),strokeWidth:Se,shapeRendering:it})}),a.createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(Je-ze,",").concat(Ke-ze,"h").concat(at+ze*2,"v").concat(ft+ze*2,"h").concat(-at-ze*2,`z
        M`).concat(K.x,",").concat(K.y,"h").concat(K.width,"v").concat(K.height,"h").concat(-K.width,"z"),fill:X,fillRule:"evenodd"}))};Be.displayName="MiniMap";var Ae=(0,a.memo)(Be)},65362:function(rt,$e,W){"use strict";W.d($e,{Z:function(){return ge}});var a=W(83639),L=W(92775),i=W(67294),ie=W(60346),se=W(61667);function Ie(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},i.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function ke(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},i.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Te(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},i.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function Xe(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},i.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Re(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},i.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}var Oe=["children","className"];function Be(x,B){var Z=Object.keys(x);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(x);B&&(j=j.filter(function(G){return Object.getOwnPropertyDescriptor(x,G).enumerable})),Z.push.apply(Z,j)}return Z}function Ae(x){for(var B=1;B<arguments.length;B++){var Z=arguments[B]!=null?arguments[B]:{};B%2?Be(Object(Z),!0).forEach(function(j){(0,a.a)(x,j,Z[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(Z)):Be(Object(Z)).forEach(function(j){Object.defineProperty(x,j,Object.getOwnPropertyDescriptor(Z,j))})}return x}var pe=function(B){var Z=B.children,j=B.className,G=(0,L.a)(B,Oe);return i.createElement("button",Ae({type:"button",className:(0,ie.Z)(["react-flow__controls-button",j])},G),Z)},k=function(B){return B.nodesDraggable&&B.nodesConnectable&&B.elementsSelectable},re=function(B){var Z=B.style,j=B.showZoom,G=j===void 0?!0:j,Ce=B.showFitView,Ee=Ce===void 0?!0:Ce,F=B.showInteractive,J=F===void 0?!0:F,te=B.fitViewOptions,ae=B.onZoomIn,Se=B.onZoomOut,ye=B.onFitView,X=B.onInteractiveChange,V=B.className,K=B.children,q=(0,a.u)(),le=(0,i.useState)(!1),de=(0,a._)(le,2),ve=de[0],fe=de[1],he=(0,a.b)(k),ce=(0,L.u)(),xe=ce.zoomIn,Ye=ce.zoomOut,Le=ce.fitView;if((0,i.useEffect)(function(){fe(!0)},[]),!ve)return null;var _e=function(){xe==null||xe(),ae==null||ae()},Ze=function(){Ye==null||Ye(),Se==null||Se()},ze=function(){Le==null||Le(te),ye==null||ye()},Je=function(){q.setState({nodesDraggable:!he,nodesConnectable:!he,elementsSelectable:!he}),X==null||X(!he)};return i.createElement("div",{className:(0,ie.Z)(["react-flow__controls",V]),style:Z},G&&i.createElement(i.Fragment,null,i.createElement(pe,{onClick:_e,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in"},i.createElement(Ie,null)),i.createElement(pe,{onClick:Ze,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out"},i.createElement(ke,null))),Ee&&i.createElement(pe,{className:"react-flow__controls-fitview",onClick:ze,title:"fit view","aria-label":"fit view"},i.createElement(Te,null)),J&&i.createElement(pe,{className:"react-flow__controls-interactive",onClick:Je,title:"toggle interactivity","aria-label":"toggle interactivity"},he?i.createElement(Re,null):i.createElement(Xe,null)),K)};re.displayName="Controls";var ge=(0,i.memo)(re)},24622:function(rt,$e,W){"use strict";W.d($e,{Z:function(){return Ae}});var a=W(83639),L=W(67294),i=W(60346),ie=W(61667),se=function(k,re,ge){return L.createElement("path",{stroke:ge,strokeWidth:re,d:"M".concat(k/2," 0 V").concat(k," M0 ").concat(k/2," H").concat(k)})},Ie=function(k,re){return L.createElement("circle",{cx:k,cy:k,r:k,fill:re})},ke;function Te(pe,k){var re=Object.keys(pe);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(pe);k&&(ge=ge.filter(function(x){return Object.getOwnPropertyDescriptor(pe,x).enumerable})),re.push.apply(re,ge)}return re}function Xe(pe){for(var k=1;k<arguments.length;k++){var re=arguments[k]!=null?arguments[k]:{};k%2?Te(Object(re),!0).forEach(function(ge){(0,a.a)(pe,ge,re[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(re)):Te(Object(re)).forEach(function(ge){Object.defineProperty(pe,ge,Object.getOwnPropertyDescriptor(re,ge))})}return pe}var Re=(ke={},(0,a.a)(ke,a.G.Dots,"#81818a"),(0,a.a)(ke,a.G.Lines,"#eee"),ke),Oe=function(k){return k.transform},Be=function(k){var re=k.variant,ge=re===void 0?a.G.Dots:re,x=k.gap,B=x===void 0?15:x,Z=k.size,j=Z===void 0?.4:Z,G=k.color,Ce=k.style,Ee=k.className,F=(0,L.useRef)(null),J=(0,L.useState)(null),te=(0,a._)(J,2),ae=te[0],Se=te[1],ye=(0,a.b)(Oe),X=(0,a._)(ye,3),V=X[0],K=X[1],q=X[2];(0,L.useEffect)(function(){var xe=document.querySelectorAll(".react-flow__background"),Ye=Array.from(xe).findIndex(function(Le){return Le===F.current});Se("pattern-".concat(Ye))},[]);var le=B*q||1,de=V%le,ve=K%le,fe=ge===a.G.Lines,he=G||Re[ge],ce=fe?se(le,j,he):Ie(j*q,he);return L.createElement("svg",{className:(0,i.Z)(["react-flow__background","react-flow__container",Ee]),style:Xe(Xe({},Ce),{},{width:"100%",height:"100%"}),ref:F},ae&&L.createElement(L.Fragment,null,L.createElement("pattern",{id:ae,x:de,y:ve,width:le,height:le,patternUnits:"userSpaceOnUse"},ce),L.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(ae,")")})))};Be.displayName="Background";var Ae=(0,L.memo)(Be)},92775:function(rt,$e,W){"use strict";W.d($e,{_:function(){return Re},a:function(){return Ie},u:function(){return ge}});var a=W(83639),L=W(67294),i=W(61667),ie=W(60374);function se(x,B){if(x==null)return{};var Z={},j=Object.keys(x),G,Ce;for(Ce=0;Ce<j.length;Ce++)G=j[Ce],!(B.indexOf(G)>=0)&&(Z[G]=x[G]);return Z}function Ie(x,B){if(x==null)return{};var Z=se(x,B),j,G;if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(x);for(G=0;G<Ce.length;G++)j=Ce[G],!(B.indexOf(j)>=0)&&(!Object.prototype.propertyIsEnumerable.call(x,j)||(Z[j]=x[j]))}return Z}function ke(x){if(Array.isArray(x))return(0,a.I)(x)}function Te(x){if(typeof Symbol!="undefined"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}function Xe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Re(x){return ke(x)||Te(x)||(0,a.J)(x)||Xe()}var Oe={zoomIn:function(){},zoomOut:function(){},zoomTo:function(B){},getZoom:function(){return 1},setViewport:function(B){},getViewport:function(){return{x:0,y:0,zoom:1}},fitView:function(){},setCenter:function(B,Z){},fitBounds:function(B){},project:function(B){return B},initialized:!1},Be=function(B){return{d3Zoom:B.d3Zoom,d3Selection:B.d3Selection}},Ae=function(){var B=(0,a.u)(),Z=(0,a.b)(Be,ie.Z),j=Z.d3Zoom,G=Z.d3Selection,Ce=(0,L.useMemo)(function(){return G&&j?{zoomIn:function(F){return j.scaleBy((0,a.K)(G,F==null?void 0:F.duration),1.2)},zoomOut:function(F){return j.scaleBy((0,a.K)(G,F==null?void 0:F.duration),1/1.2)},zoomTo:function(F,J){return j.scaleTo((0,a.K)(G,J==null?void 0:J.duration),F)},getZoom:function(){return B.getState().transform[2]},setViewport:function(F,J){var te,ae,Se,ye=(0,a._)(B.getState().transform,3),X=ye[0],V=ye[1],K=ye[2],q=i.CR.translate((te=F.x)!==null&&te!==void 0?te:X,(ae=F.y)!==null&&ae!==void 0?ae:V).scale((Se=F.zoom)!==null&&Se!==void 0?Se:K);j.transform((0,a.K)(G,J==null?void 0:J.duration),q)},getViewport:function(){var F=(0,a._)(B.getState().transform,3),J=F[0],te=F[1],ae=F[2];return{x:J,y:te,zoom:ae}},fitView:function(F){return(0,a.L)(B.getState,F)},setCenter:function(F,J,te){var ae=B.getState(),Se=ae.width,ye=ae.height,X=ae.maxZoom,V=typeof(te==null?void 0:te.zoom)!="undefined"?te.zoom:X,K=Se/2-F*V,q=ye/2-J*V,le=i.CR.translate(K,q).scale(V);j.transform((0,a.K)(G,te==null?void 0:te.duration),le)},fitBounds:function(F,J){var te,ae=B.getState(),Se=ae.width,ye=ae.height,X=ae.minZoom,V=ae.maxZoom,K=(0,a.F)(F,Se,ye,X,V,(te=J==null?void 0:J.padding)!==null&&te!==void 0?te:.1),q=(0,a._)(K,3),le=q[0],de=q[1],ve=q[2],fe=i.CR.translate(le,de).scale(ve);j.transform((0,a.K)(G,J==null?void 0:J.duration),fe)},project:function(F){var J=B.getState(),te=J.transform,ae=J.snapToGrid,Se=J.snapGrid;return(0,a.p)(F,te,ae,Se)},initialized:!0}:Oe},[j,G]);return Ce},pe=["initialized"];function k(x,B){var Z=Object.keys(x);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(x);B&&(j=j.filter(function(G){return Object.getOwnPropertyDescriptor(x,G).enumerable})),Z.push.apply(Z,j)}return Z}function re(x){for(var B=1;B<arguments.length;B++){var Z=arguments[B]!=null?arguments[B]:{};B%2?k(Object(Z),!0).forEach(function(j){(0,a.a)(x,j,Z[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(Z)):k(Object(Z)).forEach(function(j){Object.defineProperty(x,j,Object.getOwnPropertyDescriptor(Z,j))})}return x}function ge(){var x=Ae(),B=x.initialized,Z=Ie(x,pe),j=(0,a.u)(),G=(0,L.useCallback)(function(){var X=j.getState(),V=X.nodeInternals,K=Array.from(V.values());return K.map(function(q){return re({},q)})},[]),Ce=(0,L.useCallback)(function(X){var V=j.getState(),K=V.nodeInternals;return K.get(X)},[]),Ee=(0,L.useCallback)(function(){var X=j.getState(),V=X.edges,K=V===void 0?[]:V;return K.map(function(q){return re({},q)})},[]),F=(0,L.useCallback)(function(X){var V=j.getState(),K=V.edges,q=K===void 0?[]:K;return q.find(function(le){return le.id===X})},[]),J=(0,L.useCallback)(function(X){var V=j.getState(),K=V.nodeInternals,q=V.setNodes,le=V.hasDefaultNodes,de=V.onNodesChange,ve=Array.from(K.values()),fe=typeof X=="function"?X(ve):X;if(le)q(fe);else if(de){var he=fe.length===0?ve.map(function(ce){return{type:"remove",id:ce.id}}):fe.map(function(ce){return{item:ce,type:"reset"}});de(he)}},[]),te=(0,L.useCallback)(function(X){var V=j.getState(),K=V.edges,q=K===void 0?[]:K,le=V.setEdges,de=V.hasDefaultEdges,ve=V.onEdgesChange,fe=typeof X=="function"?X(q):X;if(de)le(fe);else if(ve){var he=fe.length===0?q.map(function(ce){return{type:"remove",id:ce.id}}):fe.map(function(ce){return{item:ce,type:"reset"}});ve(he)}},[]),ae=(0,L.useCallback)(function(X){var V=Array.isArray(X)?X:[X],K=j.getState(),q=K.nodeInternals,le=K.setNodes,de=K.hasDefaultNodes,ve=K.onNodesChange;if(de){var fe=Array.from(q.values()),he=[].concat(fe,Re(V));le(he)}else if(ve){var ce=V.map(function(xe){return{item:xe,type:"add"}});ve(ce)}},[]),Se=(0,L.useCallback)(function(X){var V=Array.isArray(X)?X:[X],K=j.getState(),q=K.edges,le=q===void 0?[]:q,de=K.setEdges,ve=K.hasDefaultEdges,fe=K.onEdgesChange;if(ve)de([].concat(Re(le),Re(V)));else if(fe){var he=V.map(function(ce){return{item:ce,type:"add"}});fe(he)}},[]),ye=(0,L.useCallback)(function(){var X=j.getState(),V=X.nodeInternals,K=X.edges,q=K===void 0?[]:K,le=X.transform,de=Array.from(V.values()),ve=(0,a._)(le,3),fe=ve[0],he=ve[1],ce=ve[2];return{nodes:de.map(function(xe){return re({},xe)}),edges:q.map(function(xe){return re({},xe)}),viewport:{x:fe,y:he,zoom:ce}}},[]);return re(re({},Z),{},{viewportInitialized:B,getNodes:G,getNode:Ce,getEdges:Ee,getEdge:F,setNodes:J,setEdges:te,addNodes:ae,addEdges:Se,toObject:ye})}},60374:function(rt,$e,W){"use strict";W.d($e,{Z:function(){return a}});function a(L,i){if(Object.is(L,i))return!0;if(typeof L!="object"||L===null||typeof i!="object"||i===null)return!1;const ie=Object.keys(L);if(ie.length!==Object.keys(i).length)return!1;for(let se=0;se<ie.length;se++)if(!Object.prototype.hasOwnProperty.call(i,ie[se])||!Object.is(L[ie[se]],i[ie[se]]))return!1;return!0}}}]);
