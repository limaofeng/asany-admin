(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[1060],{51060:function(Pe,J,R){"use strict";R.r(J),R.d(J,{default:function(){return Ae}});var de=R(86582),he=R(93224),Z=R(2824),G=R(3182),fe=R(94043),L=R.n(fe),A=R(67294),me=Object.defineProperty,H=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,te=(c,s,l)=>s in c?me(c,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):c[s]=l,T=(c,s)=>{for(var l in s||(s={}))q.call(s,l)&&te(c,l,s[l]);if(H)for(var l of H(s))ee.call(s,l)&&te(c,l,s[l]);return c},X=(c,s)=>{var l={};for(var o in c)q.call(c,o)&&s.indexOf(o)<0&&(l[o]=c[o]);if(c!=null&&H)for(var o of H(c))s.indexOf(o)<0&&ee.call(c,o)&&(l[o]=c[o]);return l};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var z;(c=>{const s=class{constructor(e,t,n,r){if(this.version=e,this.errorCorrectionLevel=t,this.modules=[],this.isFunction=[],e<s.MIN_VERSION||e>s.MAX_VERSION)throw"Version value out of range";if(r<-1||r>7)throw"Mask value out of range";this.size=e*4+17;let i=[];for(let u=0;u<this.size;u++)i.push(!1);for(let u=0;u<this.size;u++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();const a=this.addEccAndInterleave(n);if(this.drawCodewords(a),r==-1){let u=1e9;for(let C=0;C<8;C++){this.applyMask(C),this.drawFormatBits(C);const v=this.getPenaltyScore();v<u&&(r=C,u=v),this.applyMask(C)}}m(0<=r&&r<=7),this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}static encodeText(e,t){const n=c.QrSegment.makeSegments(e);return s.encodeSegments(n,t)}static encodeBinary(e,t){const n=c.QrSegment.makeBytes(e);return s.encodeSegments([n],t)}static encodeSegments(e,t,n=1,r=40,i=-1,a=!0){if(!(s.MIN_VERSION<=n&&n<=r&&r<=s.MAX_VERSION)||i<-1||i>7)throw"Invalid value";let u,C;for(u=n;;u++){const f=s.getNumDataCodewords(u,t)*8,x=M.getTotalBits(e,u);if(x<=f){C=x;break}if(u>=r)throw"Data too long"}for(const f of[s.Ecc.MEDIUM,s.Ecc.QUARTILE,s.Ecc.HIGH])a&&C<=s.getNumDataCodewords(u,f)*8&&(t=f);let v=[];for(const f of e){o(f.mode.modeBits,4,v),o(f.numChars,f.mode.numCharCountBits(u),v);for(const x of f.getData())v.push(x)}m(v.length==C);const w=s.getNumDataCodewords(u,t)*8;m(v.length<=w),o(0,Math.min(4,w-v.length),v),o(0,(8-v.length%8)%8,v),m(v.length%8==0);for(let f=236;v.length<w;f^=236^17)o(f,8,v);let N=[];for(;N.length*8<v.length;)N.push(0);return v.forEach((f,x)=>N[x>>>3]|=f<<7-(x&7)),new s(u,t,N,i)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let r=0;r<t;r++)n==0&&r==0||n==0&&r==t-1||n==t-1&&r==0||this.drawAlignmentPattern(e[n],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let n=t;for(let i=0;i<10;i++)n=n<<1^(n>>>9)*1335;const r=(t<<10|n)^21522;m(r>>>15==0);for(let i=0;i<=5;i++)this.setFunctionModule(8,i,h(r,i));this.setFunctionModule(8,7,h(r,6)),this.setFunctionModule(8,8,h(r,7)),this.setFunctionModule(7,8,h(r,8));for(let i=9;i<15;i++)this.setFunctionModule(14-i,8,h(r,i));for(let i=0;i<8;i++)this.setFunctionModule(this.size-1-i,8,h(r,i));for(let i=8;i<15;i++)this.setFunctionModule(8,this.size-15+i,h(r,i));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^(e>>>11)*7973;const t=this.version<<12|e;m(t>>>18==0);for(let n=0;n<18;n++){const r=h(t,n),i=this.size-11+n%3,a=Math.floor(n/3);this.setFunctionModule(i,a,r),this.setFunctionModule(a,i,r)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){const i=Math.max(Math.abs(r),Math.abs(n)),a=e+r,u=t+n;0<=a&&a<this.size&&0<=u&&u<this.size&&this.setFunctionModule(a,u,i!=2&&i!=4)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,Math.max(Math.abs(r),Math.abs(n))!=1)}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){const t=this.version,n=this.errorCorrectionLevel;if(e.length!=s.getNumDataCodewords(t,n))throw"Invalid argument";const r=s.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][t],i=s.ECC_CODEWORDS_PER_BLOCK[n.ordinal][t],a=Math.floor(s.getNumRawDataModules(t)/8),u=r-a%r,C=Math.floor(a/r);let v=[];const w=s.reedSolomonComputeDivisor(i);for(let f=0,x=0;f<r;f++){let B=e.slice(x,x+C-i+(f<u?0:1));x+=B.length;const Q=s.reedSolomonComputeRemainder(B,w);f<u&&B.push(0),v.push(B.concat(Q))}let N=[];for(let f=0;f<v[0].length;f++)v.forEach((x,B)=>{(f!=C-i||B>=u)&&N.push(x[f])});return m(N.length==a),N}drawCodewords(e){if(e.length!=Math.floor(s.getNumRawDataModules(this.version)/8))throw"Invalid argument";let t=0;for(let n=this.size-1;n>=1;n-=2){n==6&&(n=5);for(let r=0;r<this.size;r++)for(let i=0;i<2;i++){const a=n-i,C=(n+1&2)==0?this.size-1-r:r;!this.isFunction[C][a]&&t<e.length*8&&(this.modules[C][a]=h(e[t>>>3],7-(t&7)),t++)}}m(t==e.length*8)}applyMask(e){if(e<0||e>7)throw"Mask value out of range";for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let r;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw"Unreachable"}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let i=0;i<this.size;i++){let a=!1,u=0,C=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[i][v]==a?(u++,u==5?e+=s.PENALTY_N1:u>5&&e++):(this.finderPenaltyAddHistory(u,C),a||(e+=this.finderPenaltyCountPatterns(C)*s.PENALTY_N3),a=this.modules[i][v],u=1);e+=this.finderPenaltyTerminateAndCount(a,u,C)*s.PENALTY_N3}for(let i=0;i<this.size;i++){let a=!1,u=0,C=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][i]==a?(u++,u==5?e+=s.PENALTY_N1:u>5&&e++):(this.finderPenaltyAddHistory(u,C),a||(e+=this.finderPenaltyCountPatterns(C)*s.PENALTY_N3),a=this.modules[v][i],u=1);e+=this.finderPenaltyTerminateAndCount(a,u,C)*s.PENALTY_N3}for(let i=0;i<this.size-1;i++)for(let a=0;a<this.size-1;a++){const u=this.modules[i][a];u==this.modules[i][a+1]&&u==this.modules[i+1][a]&&u==this.modules[i+1][a+1]&&(e+=s.PENALTY_N2)}let t=0;for(const i of this.modules)t=i.reduce((a,u)=>a+(u?1:0),t);const n=this.size*this.size,r=Math.ceil(Math.abs(t*20-n*10)/n)-1;return m(0<=r&&r<=9),e+=r*s.PENALTY_N4,m(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(this.version==1)return[];{const e=Math.floor(this.version/7)+2,t=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2;let n=[6];for(let r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}}static getNumRawDataModules(e){if(e<s.MIN_VERSION||e>s.MAX_VERSION)throw"Version number out of range";let t=(16*e+128)*e+64;if(e>=2){const n=Math.floor(e/7)+2;t-=(25*n-10)*n-55,e>=7&&(t-=36)}return m(208<=t&&t<=29648),t}static getNumDataCodewords(e,t){return Math.floor(s.getNumRawDataModules(e)/8)-s.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*s.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw"Degree out of range";let t=[];for(let r=0;r<e-1;r++)t.push(0);t.push(1);let n=1;for(let r=0;r<e;r++){for(let i=0;i<t.length;i++)t[i]=s.reedSolomonMultiply(t[i],n),i+1<t.length&&(t[i]^=t[i+1]);n=s.reedSolomonMultiply(n,2)}return t}static reedSolomonComputeRemainder(e,t){let n=t.map(r=>0);for(const r of e){const i=r^n.shift();n.push(0),t.forEach((a,u)=>n[u]^=s.reedSolomonMultiply(a,i))}return n}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw"Byte out of range";let n=0;for(let r=7;r>=0;r--)n=n<<1^(n>>>7)*285,n^=(t>>>r&1)*e;return m(n>>>8==0),n}finderPenaltyCountPatterns(e){const t=e[1];m(t<=this.size*3);const n=t>0&&e[2]==t&&e[3]==t*3&&e[4]==t&&e[5]==t;return(n&&e[0]>=t*4&&e[6]>=t?1:0)+(n&&e[6]>=t*4&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){t[0]==0&&(e+=this.size),t.pop(),t.unshift(e)}};let l=s;l.MIN_VERSION=1,l.MAX_VERSION=40,l.PENALTY_N1=3,l.PENALTY_N2=3,l.PENALTY_N3=40,l.PENALTY_N4=10,l.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],l.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],c.QrCode=l;function o(e,t,n){if(t<0||t>31||e>>>t!=0)throw"Value out of range";for(let r=t-1;r>=0;r--)n.push(e>>>r&1)}function h(e,t){return(e>>>t&1)!=0}function m(e){if(!e)throw"Assertion error"}const g=class{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw"Invalid argument";this.bitData=n.slice()}static makeBytes(e){let t=[];for(const n of e)o(n,8,t);return new g(g.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!g.isNumeric(e))throw"String contains non-numeric characters";let t=[];for(let n=0;n<e.length;){const r=Math.min(e.length-n,3);o(parseInt(e.substr(n,r),10),r*3+1,t),n+=r}return new g(g.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!g.isAlphanumeric(e))throw"String contains unencodable characters in alphanumeric mode";let t=[],n;for(n=0;n+2<=e.length;n+=2){let r=g.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n))*45;r+=g.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n+1)),o(r,11,t)}return n<e.length&&o(g.ALPHANUMERIC_CHARSET.indexOf(e.charAt(n)),6,t),new g(g.Mode.ALPHANUMERIC,e.length,t)}static makeSegments(e){return e==""?[]:g.isNumeric(e)?[g.makeNumeric(e)]:g.isAlphanumeric(e)?[g.makeAlphanumeric(e)]:[g.makeBytes(g.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw"ECI assignment value out of range";if(e<1<<7)o(e,8,t);else if(e<1<<14)o(2,2,t),o(e,14,t);else if(e<1e6)o(6,3,t),o(e,21,t);else throw"ECI assignment value out of range";return new g(g.Mode.ECI,0,t)}static isNumeric(e){return g.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return g.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(const r of e){const i=r.mode.numCharCountBits(t);if(r.numChars>=1<<i)return Infinity;n+=4+i+r.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)e.charAt(n)!="%"?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t}};let M=g;M.NUMERIC_REGEX=/^[0-9]*$/,M.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,M.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",c.QrSegment=M})(z||(z={})),(c=>{let s;(l=>{const o=class{constructor(m,g){this.ordinal=m,this.formatBits=g}};let h=o;h.LOW=new o(0,1),h.MEDIUM=new o(1,0),h.QUARTILE=new o(2,3),h.HIGH=new o(3,2),l.Ecc=h})(s=c.QrCode||(c.QrCode={}))})(z||(z={})),(c=>{let s;(l=>{const o=class{constructor(m,g){this.modeBits=m,this.numBitsCharCount=g}numCharCountBits(m){return this.numBitsCharCount[Math.floor((m+7)/17)]}};let h=o;h.NUMERIC=new o(1,[10,12,14]),h.ALPHANUMERIC=new o(2,[9,11,13]),h.BYTE=new o(4,[8,16,16]),h.KANJI=new o(8,[8,10,12]),h.ECI=new o(7,[0,0,0]),l.Mode=h})(s=c.QrSegment||(c.QrSegment={}))})(z||(z={}));var k=z;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var ne={L:k.QrCode.Ecc.LOW,M:k.QrCode.Ecc.MEDIUM,Q:k.QrCode.Ecc.QUARTILE,H:k.QrCode.Ecc.HIGH},W={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1},K=4,ge=.1;function re(c,s=0){const l=[];return c.forEach(function(o,h){let m=null;o.forEach(function(g,M){if(!g&&m!==null){l.push(`M${m+s} ${h+s}h${M-m}v1H${m+s}z`),m=null;return}if(M===o.length-1){if(!g)return;m===null?l.push(`M${M+s},${h+s} h1v1H${M+s}z`):l.push(`M${m+s},${h+s} h${M+1-m}v1H${m+s}z`);return}g&&m===null&&(m=M)})}),l.join("")}function se(c,s){return c.slice().map((l,o)=>o<s.y||o>=s.y+s.h?l:l.map((h,m)=>m<s.x||m>=s.x+s.w?h:!1))}function ie(c,s){const{imageSettings:l,size:o,includeMargin:h}=c;if(l==null)return null;const m=h?K:0,g=s.length+m*2,M=Math.floor(o*ge),e=g/o,t=(l.width||M)*e,n=(l.height||M)*e,r=l.x==null?s.length/2-t/2:l.x*e,i=l.y==null?s.length/2-n/2:l.y*e;let a=null;if(l.excavate){let u=Math.floor(r),C=Math.floor(i),v=Math.ceil(t+r-u),w=Math.ceil(n+i-C);a={x:u,y:C,w:v,h:w}}return{x:r,y:i,h:n,w:t,excavation:a}}var ve=function(){try{new Path2D().addPath(new Path2D)}catch(c){return!1}return!0}();function V(c){const s=(0,A.useRef)(null),l=(0,A.useRef)(null);function o(){const{value:w,size:N,level:f,bgColor:x,fgColor:B,includeMargin:Q}=c;if(s.current!=null){const U=s.current,D=U.getContext("2d");if(!D)return;let I=k.QrCode.encodeText(w,ne[f]).getModules();const j=Q?K:0,$=I.length+j*2,p=ie(c,I),E=l.current,y=p!=null&&E!==null&&E.complete&&E.naturalHeight!==0&&E.naturalWidth!==0;y&&p.excavation!=null&&(I=se(I,p.excavation));const S=window.devicePixelRatio||1;U.height=U.width=N*S;const F=N/$*S;D.scale(F,F),D.fillStyle=x,D.fillRect(0,0,$,$),D.fillStyle=B,ve?D.fill(new Path2D(re(I,j))):I.forEach(function(b,Y){b.forEach(function(ce,O){ce&&D.fillRect(O+j,Y+j,1,1)})}),y&&D.drawImage(E,p.x+j,p.y+j,p.w,p.h)}}(0,A.useEffect)(()=>{o()});const h=c,{value:m,size:g,level:M,bgColor:e,fgColor:t,style:n,includeMargin:r,imageSettings:i}=h,a=X(h,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),u=T({height:g,width:g},n);let C=null,v=i==null?void 0:i.src;return v!=null&&(C=A.createElement("img",{src:v,key:v,style:{display:"none"},onLoad:()=>{o()},ref:l})),A.createElement(A.Fragment,null,A.createElement("canvas",T({style:u,height:g,width:g,ref:s},a)),C)}V.defaultProps=W;function oe(c){const s=c,{value:l,size:o,level:h,bgColor:m,fgColor:g,includeMargin:M,imageSettings:e}=s,t=X(s,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let n=k.QrCode.encodeText(l,ne[h]).getModules();const r=M?K:0,i=n.length+r*2,a=ie(c,n);let u=null;e!=null&&a!=null&&(a.excavation!=null&&(n=se(n,a.excavation)),u=A.createElement("image",{xlinkHref:e.src,height:a.h,width:a.w,x:a.x+r,y:a.y+r,preserveAspectRatio:"none"}));const C=re(n,r);return A.createElement("svg",T({shapeRendering:"crispEdges",height:o,width:o,viewBox:`0 0 ${i} ${i}`},t),A.createElement("path",{fill:m,d:`M0,0 h${i}v${i}H0z`}),A.createElement("path",{fill:g,d:C}),u)}oe.defaultProps=W;var Ce=c=>{const s=c,{renderAs:l}=s,o=X(s,["renderAs"]),h=l==="svg"?oe:V;return A.createElement(h,T({},o))};Ce.defaultProps=T({renderAs:"canvas"},W);var ae=R(73727),pe=R(80129),le=R.n(pe),ue=R(28865),_=R(81303),Ee=R(50480),Me=R(75468),P=R(11974),d=R(85893);function we(c){var s=c.data,l=c.history,o=c.onDelete,h=c.onShowQRCode,m=(0,A.useCallback)(function(){var M=(0,G.Z)(L().mark(function e(t){var n,r;return L().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n="\u786E\u5B9A\u5220\u9664\u6D3B\u52A8 \u201C".concat(t.name,"\u201D \u5417\uFF1F"),a.next=3,P.u_.confirm({title:"\u786E\u5B9A\u5220\u9664",content:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{className:"tip-confirm",children:n}),(0,d.jsx)("p",{children:"\u5220\u9664\u7684\u64CD\u4F5C\u4E0D\u53EF\u9006,\u8BF7\u8C28\u614E\u64CD\u4F5C"})]}),okClassName:"btn-danger",okText:"\u5220\u9664"});case 3:if(r=a.sent,r.isConfirmed){a.next=6;break}return a.abrupt("return");case 6:return a.next=8,o(t.id);case 8:P.FN.success("\u6D3B\u52A8 \u201C".concat(t.name,"\u201D \u5220\u9664\u6210\u529F"),2e3,{placement:"bottom-start",progressBar:!0});case 9:case"end":return a.stop()}},e)}));return function(e){return M.apply(this,arguments)}}(),[o]),g=(0,A.useCallback)(function(M){M.key=="view"?l.push("/website/landing/pages/".concat(s.id)):M.key=="delete"?m(s):M.key=="preview"&&h(location.protocol+"//47.103.119.188:8002/lps/"+s.id)},[s,m,l,h]);return(0,d.jsx)(P.Lt,{overlay:(0,d.jsxs)(P.v2,{onClick:g,className:"menu-sub menu-sub-dropdown menu-gray-600 menu-state-bg-light-primary fw-bold fs-8 w-125px py-4",children:[(0,d.jsx)(P.v2.Item,{className:"px-3",children:"\u7F16\u8F91"},"view"),(0,d.jsx)(P.v2.Separator,{}),(0,d.jsx)(P.v2.Item,{className:"px-3",children:"\u9884\u89C8"},"preview"),(0,d.jsx)(P.v2.Separator,{}),(0,d.jsx)(P.v2.Item,{className:"px-3 actions-delete",children:"\u5220\u9664"},"delete")]}),placement:"bottomRight",children:(0,d.jsxs)(P.zx,{className:"fs-8",variant:"light",activeColor:"light-primary",children:["\u64CD\u4F5C",(0,d.jsx)(ue.JO,{className:"svg-icon-5 ms-2 me-n1",name:"Duotune/arr072"})]})})}function ye(c){var s,l,o=c.history,h=c.location,m=(0,A.useState)(),g=(0,Z.Z)(m,2),M=g[0],e=g[1],t=(0,A.useCallback)(function(p){e(p)},[]),n=(0,A.useCallback)(function(){e(void 0)},[]),r=(0,A.useMemo)(function(){var p=c.location.query,E=p.q,y=(0,he.Z)(p,["q"]);return E&&(y.filter={name_contains:E}),y},[c.location]),i=(0,A.useMemo)(function(){if(!r.orderBy)return{order:"descend",field:"createdAt"};var p=r.orderBy.split("_"),E=(0,Z.Z)(p,2),y=E[0],S=E[1];return{order:S=="desc"?"descend":"ascend",field:y}},[r.orderBy]),a=(0,_.hD)({refetchQueries:[_.MZ]}),u=(0,Z.Z)(a,1),C=u[0],v=(0,_.gr)({fetchPolicy:"cache-and-network",variables:r}),w=v.data,N=v.loading,f=v.previousData,x=(0,A.useMemo)(function(){return N?(f==null?void 0:f.total.totalCount)||0:(w==null?void 0:w.total.totalCount)||0},[w==null?void 0:w.total.totalCount,N,f==null?void 0:f.total]),B=(0,A.useMemo)(function(){return N?(f==null?void 0:f.landingPages)||{total:0,current:1}:(w==null?void 0:w.landingPages)||{total:0,current:1}},[w==null?void 0:w.landingPages,N,f==null?void 0:f.landingPages]),Q=(0,A.useMemo)(function(){var p;if(N){var E;return((f==null||(E=f.landingPages)===null||E===void 0?void 0:E.edges)||[]).map(function(y){return y.node})}return((w==null||(p=w.landingPages)===null||p===void 0?void 0:p.edges)||[]).map(function(y){return y.node})},[w==null?void 0:w.landingPages,N,f==null?void 0:f.landingPages]),U=(0,A.useCallback)(function(p){o.replace(h.pathname+"?"+le().stringify({q:p}))},[o,h.pathname]),D=(0,A.useCallback)(function(p,E,y){var S,F={};if((S=r.filter)!==null&&S!==void 0&&S.name_contains){var b;F.q=(b=r.filter)===null||b===void 0?void 0:b.name_contains}y&&(F.orderBy=y.field+"_"+(y.order=="ascend"?"asc":"desc")),F.page=p.current,o.replace(h.pathname+"?"+le().stringify(F))},[o,h.pathname,(s=r.filter)===null||s===void 0?void 0:s.name_contains]),I=(0,A.useCallback)((0,G.Z)(L().mark(function p(){var E,y,S,F,b,Y=arguments;return L().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:for(E=Y.length,y=new Array(E),S=0;S<E;S++)y[S]=Y[S];return O.next=3,C({variables:{ids:y}});case 3:return F=O.sent,b=F.data,O.abrupt("return",(b==null?void 0:b.deleteLandingPage)||0);case 6:case"end":return O.stop()}},p)})),[C]),j=(0,A.useCallback)(function(p){return(0,G.Z)(L().mark(function E(){var y,S;return L().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return y="\u786E\u5B9A\u5220\u9664\u9009\u4E2D\u7684, \u5171 ".concat(p.length," \u4E2A\u6D3B\u52A8\u5417\uFF1F"),b.next=3,P.u_.confirm({title:"\u786E\u5B9A\u5220\u9664",content:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{className:"tip-confirm",children:y}),(0,d.jsx)("p",{children:"\u5220\u9664\u7684\u64CD\u4F5C\u4E0D\u53EF\u9006,\u8BF7\u8C28\u614E\u64CD\u4F5C"})]}),okClassName:"btn-danger",okText:"\u5220\u9664"});case 3:if(S=b.sent,S.isConfirmed){b.next=6;break}return b.abrupt("return");case 6:return b.next=8,I.apply(void 0,(0,de.Z)(p));case 8:P.FN.success("\u6D3B\u52A8\u6279\u91CF\u5220\u9664\u6210\u529F",2e3,{placement:"bottom-start",progressBar:!0});case 9:case"end":return b.stop()}},E)}))},[I]),$=(0,A.useMemo)(function(){return function(p){return(0,d.jsx)("div",{children:(0,d.jsx)(P.zx,{color:"success",onClick:j(p),variant:!1,children:"\u6279\u91CF\u5220\u9664"})})}},[j]);return(0,d.jsxs)(Me.v,{footer:!1,children:[(0,d.jsxs)("div",{className:"d-flex flex-wrap flex-stack pb-7",children:[(0,d.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[(0,d.jsxs)("h3",{className:"fw-bolder me-5",children:["\u6D3B\u52A8 (",x,")"]}),(0,d.jsx)(P.II.Search,{onSearch:U,defaultValue:(l=r.filter)===null||l===void 0?void 0:l.name_contains,placeholder:"\u641C\u7D22",className:"border-body bg-body w-250px"})]}),(0,d.jsx)(Ee.Z,{children:(0,d.jsx)("div",{className:"d-flex my-0"})})]}),!x&&!N?(0,d.jsx)(P.Zb,{className:"mb-5 mb-xl-10",children:(0,d.jsx)(P.HY,{title:"\u8FD8\u6CA1\u6709\u6D3B\u52A8",description:"\u9A6C\u4E0A\u6DFB\u52A0\u4E00\u4E2A\u6D3B\u52A8\u8BD5\u8BD5",image:"/assets/media/illustrations/sigma-1/4.png",children:(0,d.jsx)(P.zx,{as:ae.Link,variant:"primary",to:"/website/landing/pages/new",children:"\u65B0\u5EFA\u6D3B\u52A8"})})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(P.Zb,{className:"mb-5 mb-xl-10",children:(0,d.jsx)(P.Zb.Body,{children:(0,d.jsx)(P.bH,{overlayClassName:"bg-white bg-opacity-25",loading:N,children:(0,d.jsx)(P.iA,{hover:!0,rowKey:"id",noRowsRenderer:function(){return(0,d.jsx)(P.HY,{description:"\u5217\u8868\u6570\u636E\u4E3A\u7A7A",image:"/assets/media/illustrations/sigma-1/5.png"})},rowSelection:{type:"checkbox",renderTitle:function(E){return(0,d.jsxs)(d.Fragment,{children:["\u5DF2\u9009\u4E2D",(0,d.jsx)("span",{className:"mx-2",children:E}),"\u4E2A\u6D3B\u52A8"]})},toolbar:$},columns:[{key:"name",title:"\u540D\u79F0",sorter:!0,sortOrder:i.field=="name"?i.order:void 0,render:function(E,y){return(0,d.jsx)("div",{className:"ps-2",children:(0,d.jsx)(ae.Link,{className:"text-gray-700",to:"/website/landing/pages/".concat(y.id),children:E})})}},{key:"stores",title:"\u95E8\u5E97",render:function(E){return(0,d.jsxs)("div",{className:"d-flex tw-truncate overflow-hidden pe-2",children:[(0,d.jsx)("span",{className:"tw-text-ellipsis tw-truncate overflow-hidden",children:E.map(function(y){return y.name}).join(",")}),(0,d.jsxs)("span",{children:["\u5171 ",E.length," \u5BB6\u95E8\u5E97"]})]})}},{key:"poster",title:"\u6D77\u62A5",width:80,render:function(E){return E!=null&&E.background?(0,d.jsx)("div",{className:"d-flex w-30px justify-content-center",children:(0,d.jsx)("img",{src:"//47.103.119.188:8000"+"/preview/".concat(E.background.id),className:"h-30px w-20px"})}):(0,d.jsx)(ue.JO,{className:"svg-icon-2qx text-muted",name:"Bootstrap/file-image"})}},{key:"actions",title:"\u64CD\u4F5C",width:100,render:function(E,y){return(0,d.jsx)(we,{onDelete:I,onShowQRCode:t,history:c.history,data:y})}}],pagination:B,onChange:D,dataSource:Q})})})}),(0,d.jsxs)(P.u_,{title:"\u9884\u89C8\u4E8C\u7EF4\u7801",dialogClassName:"w-250px",onCancel:n,visible:!!M,okButtonProps:{style:{display:"none"}},children:[(0,d.jsx)("div",{className:"d-inline-block",children:!!M&&(0,d.jsx)(V,{size:200,value:M})}),(0,d.jsx)("span",{children:"\u4F7F\u7528\u624B\u673A\u626B\u7801\u4E8C\u7EF4\u7801\u9884\u89C8"})]})]})]})}var Ae=ye}}]);
