"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4727,267],{51253:function(W,x,e){e.d(x,{GP:function(){return u.Z},Hk:function(){return _},xx:function(){return c.x}});var N=e(74958),u=e(5166),c=e(19260),g=e(68400),j=e.n(g),r=e(62435),A=e(93967),n=e.n(A),l=e(94589),f=e(97857),m=e.n(f),I=e(46027),S=e(77786),p=e(42687),b=e(79817),E=e(5574),T=e.n(E),s=e(96486),t=e(86074),y={aside:{minimize:!1,width:280}},z=r.createContext({state:y,dispatch:function(){}}),P=function(a){return a.AsideToggle="ASIDE_TOGGLE",a.AsideWidth="ASIDE_WIDTH",a}({});function O(a,o){switch(o.type){case"ASIDE_TOGGLE":return a.aside.minimize=!a.aside.minimize,m()({},a);case"ASIDE_WIDTH":return a.aside.width=o.payload,m()({},a);default:throw new Error}}var L=function(o){var d=(0,r.useReducer)(O,(0,s.cloneDeep)(y)),h=T()(d,2),v=h[0],M=h[1];return(0,t.jsx)(z.Provider,{value:{state:v,dispatch:M},children:o.children})},D=function(){return(0,r.useContext)(z)},i=e(65495);function K(a){var o=D(),d=o.dispatch,h=o.state.aside.minimize,v=(0,r.useCallback)(function(){d({type:P.AsideToggle})},[d]);return(0,t.jsx)(b.Button,{style:m()({marginBottom:"1.35rem",zIndex:105},a.style),onClick:v,activeColor:"primary",className:n()("micro-app-aside-toggle","btn-icon bg-body btn-color-gray-700 rounded-2 position-absolute translate-middle bottom-0 shadow-sm d-none d-lg-flex",a.className,{active:h}),children:(0,t.jsx)(I.JO,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})}var w={"drawer drawer-start":{maxWidth:992}};function F(a){var o=a.className,d=a.header,h=a.children,v=a.collapsible,M=v===void 0?!0:v,B=a.width,C=B===void 0?280:B,Q=(0,p.$Y)(),V=D(),$=V.dispatch;(0,r.useEffect)(function(){Q.aside.width(C+100),$({type:P.AsideWidth,payload:C})},[Q.aside,$,C]);var J=(0,S.CN)(w),X=(0,p.BK)(function(Y){return Y.aside.drawer});return(0,t.jsxs)("div",{className:n()("app-aside aside",o,J,{"drawer-on":X}),children:[(0,t.jsx)(i.Z,{children:(0,t.jsx)(u.Z,{header:d,resizeable:!0,className:"app-sidebar",children:h})}),M&&(0,t.jsx)(K,{className:"start-100 end-0"})]})}F.Toggle=K;var G=F,R,H=l.ZP.div(R||(R=j()([`
  --root-aside-width: `,`;
  --met-aside-width: `,`;
`])),function(a){return a.minimize?"100px":"".concat(a.width,"px")},function(a){return a.minimize?"100px":"".concat(a.width,"px")});function Z(a){var o=a.children,d=a.className,h=D(),v=h.state.aside,M=v.minimize,B=v.width,C=(0,r.useCallback)(function(Q){Q.preventDefault()},[]);return(0,t.jsx)(H,{minimize:M,width:B,className:n()("micro-app-container page-full-content",d,{"aside-minimize":M}),onContextMenu:C,children:o})}function U(a){var o=a.children,d=a.className;return(0,t.jsx)(L,{children:(0,t.jsx)(Z,{className:d,children:o})})}U.Sidebar=G;var _=U},39736:function(W,x,e){e.d(x,{Sy:function(){return m},n5:function(){return b}});var N=e(97857),u=e.n(N),c=e(68400),g=e.n(c),j=e(75063),r=e(37887),A,n,l={},f=(0,j.Ps)(A||(A=g()([`
    query projects {
  projects {
    total: totalCount
    current: currentPage
    pageSize
    edges {
      node {
        id
        logo
        name
        description
      }
    }
  }
}
    `])));function m(s){var t=u()(u()({},l),s);return r.a(f,t)}function I(s){var t=_objectSpread(_objectSpread({},l),s);return Apollo.useLazyQuery(f,t)}function S(s){var t=_objectSpread(_objectSpread({},l),s);return Apollo.useSuspenseQuery(f,t)}var p=(0,j.Ps)(n||(n=g()([`
    query project($id: ID!) {
  project(id: $id) {
    id
    logo
    name
    description
  }
}
    `])));function b(s){var t=u()(u()({},l),s);return r.a(p,t)}function E(s){var t=_objectSpread(_objectSpread({},l),s);return Apollo.useLazyQuery(p,t)}function T(s){var t=_objectSpread(_objectSpread({},l),s);return Apollo.useSuspenseQuery(p,t)}},50240:function(W,x,e){e.r(x),e.d(x,{default:function(){return f}});var N=e(5574),u=e.n(N),c=e(62435),g=e(96974),j=e(51253),r=e(79817),A=e(39736),n=e(86074);function l(m){var I=m.children,S=m.location,p=m.match.params.id,b=(0,A.n5)({variables:{id:p}}),E=b.data,T=E===void 0?{}:E,s=b.loading,t=T.project,y=(0,c.useMemo)(function(){var i=(0,g.LX)(S.pathname,{path:"/project/:id/:key",exact:!1,strict:!0});return console.log("channelMatch",i),i?"category_".concat(i.params.cid):"my-drive"},[S.pathname]),z=(0,c.useState)(y),P=u()(z,2),O=P[0],L=P[1];(0,c.useEffect)(function(){y&&L(y)},[y]);var D=(0,c.useCallback)(function(i){console.log("selectedKey",i.key),L(i.key)},[]);return(0,n.jsx)(j.Hk,{loading:s,children:t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Hk.Sidebar,{children:(0,n.jsxs)(r.BlockUI,{zIndex:10,className:"my-5 p-5",overlayClassName:"bg-white bg-opacity-25",loading:!1,children:[(0,n.jsx)("div",{className:"mx-5",children:(0,n.jsxs)("div",{className:"d-flex align-items-center",children:[(0,n.jsx)(r.Symbol.Avatar,{alt:"\u5565\u5730\u65B9",className:"me-5"}),(0,n.jsxs)("div",{className:"flex-grow-1",children:[(0,n.jsx)("a",{className:"text-dark fw-bolder text-hover-primary fs-6",children:t.name}),(0,n.jsx)("span",{className:"text-muted d-block fw-bold",children:t.description})]})]})}),(0,n.jsxs)(r.Menu,{fit:!0,accordion:!1,selectable:"AllMenu",className:"pt-6 menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 px-6 my-5 my-lg-0",selectedKeys:O?[O]:[],onSelect:D,children:[(0,n.jsx)(r.Menu.Item,{bullet:!0,icon:"Bootstrap/speedometer2",title:"\u4EEA\u8868\u76D8",url:"/projects/".concat(t.id)}),(0,n.jsx)(r.Menu.Section,{contentClassName:"pt-6 pb-0",children:"\u57FA\u7840\u529F\u80FD"}),(0,n.jsx)(r.Menu.Item,{bullet:!0,title:"\u76EE\u6807",url:"/projects/".concat(t.id,"/targets")}),(0,n.jsx)(r.Menu.Item,{bullet:!0,title:"\u4EFB\u52A1",url:"/projects/".concat(t.id,"/tasks")}),(0,n.jsx)(r.Menu.Item,{bullet:!0,title:"\u9884\u7B97",url:"/projects/".concat(t.id,"/budget")}),(0,n.jsx)(r.Menu.Item,{bullet:!0,title:"\u6210\u5458",url:"/projects/".concat(t.id,"/users")}),(0,n.jsx)(r.Menu.Item,{bullet:!0,title:"\u6587\u6863",url:"/projects/".concat(t.id,"/files")}),(0,n.jsx)(r.Menu.Item,{bullet:!0,title:"\u6D3B\u52A8",url:"/projects/".concat(t.id,"/activity")}),(0,n.jsx)(r.Menu.Section,{contentClassName:"pt-6 pb-0",children:"\u8BBE\u7F6E"}),(0,n.jsx)(r.Menu.Item,{bullet:!0,title:"\u57FA\u7840\u4FE1\u606F",url:"/projects/".concat(t.id,"/settings")})]})]})}),c.Children.map(I,function(i){return i.props.location.state={project:t,baseUrl:"/projects/"+p},i})]})})}var f=l}}]);
