(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[9364,3190],{48775:function(w,N,r){"use strict";r.d(N,{GP:function(){return E.Z},Hk:function(){return g}});var E=r(48655),m=r(39981),h=r(67294),R=r(94184),_=r.n(R),A=r(12788),o=r(11849),P=r(28865),I=r(37334),L=r(2824),Z=r(96486),M=r(85893),O={aside:{minimize:!1,width:280}},D=h.createContext({state:O,dispatch:function(){}}),u;(function(n){n.AsideToggle="ASIDE_TOGGLE",n.AsideWidth="ASIDE_WIDTH"})(u||(u={}));function s(n,v){switch(v.type){case"ASIDE_TOGGLE":return n.aside.minimize=!n.aside.minimize,(0,o.Z)({},n);case"ASIDE_WIDTH":return n.aside.width=v.payload,(0,o.Z)({},n);default:throw new Error}}var i=function(v){var S=(0,h.useReducer)(s,(0,Z.cloneDeep)(O)),y=(0,L.Z)(S,2),b=y[0],x=y[1];return(0,M.jsx)(D.Provider,{value:{state:b,dispatch:x},children:v.children})},d=function(){return(0,h.useContext)(D)},T=r(38671),k=r(8265);function l(n){var v=n.className,S=n.header,y=n.children,b=n.collapsible,x=b===void 0?!0:b,C=n.width,j=C===void 0?280:C,B=(0,k.$Y)(),U=d(),z=U.dispatch;return(0,h.useEffect)(function(){B.aside.width(j+100),z({type:u.AsideWidth,payload:j})},[B.aside,z,j]),(0,M.jsxs)("div",{className:_()("app-aside aside",v),children:[(0,M.jsx)(I.Z,{children:(0,M.jsx)(E.Z,{header:S,resizeable:!0,className:"app-sidebar",children:y})}),x&&(0,M.jsx)(e,{className:"start-100 end-0"})]})}function e(n){var v=d(),S=v.dispatch,y=v.state.aside.minimize,b=(0,h.useCallback)(function(){S({type:u.AsideToggle})},[S]);return(0,M.jsx)(T.zx,{style:(0,o.Z)({marginBottom:"1.35rem",zIndex:105},n.style),onClick:b,activeColor:"primary",className:_()("micro-app-aside-toggle","btn-icon bg-body btn-color-gray-700 rounded-2 position-absolute translate-middle bottom-0 shadow-sm d-none d-lg-flex",n.className,{active:y}),children:(0,M.jsx)(P.JO,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})}l.Toggle=e;var a=l,t=A.ZP.div.withConfig({displayName:"MicroApp__MicroAppContainer",componentId:"sc-1dngjf6-0"})(["--root-aside-width:",";--met-aside-width:",";"],function(n){return n.minimize?"100px":"".concat(n.width,"px")},function(n){return n.minimize?"100px":"".concat(n.width,"px")});function c(n){var v=n.children,S=n.className,y=d(),b=y.state.aside,x=b.minimize,C=b.width,j=(0,h.useCallback)(function(B){B.preventDefault()},[]);return(0,M.jsx)(t,{minimize:x,width:C,className:_()("micro-app-container page-full-content",S,{"aside-minimize":x}),onContextMenu:j,children:v})}function f(n){var v=n.children,S=n.className;return(0,M.jsx)(i,{children:(0,M.jsx)(c,{className:S,children:v})})}f.Sidebar=a;var g=f,p=r(53851)},8265:function(w,N,r){"use strict";r.d(N,{$Y:function(){return L},BK:function(){return Z},aM:function(){return D}});var E=r(2824),m=r(11849),h=r(67294),R=r(85893),_=h.createContext({getState:function(){return{routes:[]}},subscribe:function(){},dispatch:function(){}}),A=function(s,i){return i?i.type==="ASIDE_MINIMIZE"?(0,m.Z)((0,m.Z)({},s),{},{aside:(0,m.Z)((0,m.Z)({},s.aside),{},{minimize:!!i.payload})}):i.type==="ASIDE_WIDTH"?(0,m.Z)((0,m.Z)({},s),{},{aside:(0,m.Z)((0,m.Z)({},s.aside),{},{width:i.payload})}):i.type==="ASIDE_COLLAPSIBLE"?(0,m.Z)((0,m.Z)({},s),{},{aside:(0,m.Z)((0,m.Z)({},s.aside),{},{collapsible:i.payload})}):s:s},o=function(s){return(0,m.Z)({},s)};function P(u){var s=(0,h.useReducer)(A,u,o),i=(0,E.Z)(s,2),d=i[0],T=i[1],k=(0,h.useState)([]),l=(0,E.Z)(k,1),e=l[0],a=function(S){return function(){var y=e.indexOf(S);y>-1&&e.splice(y,1)}},t=(0,h.useCallback)(function(v){return e.unshift(v),a(v)},[e]),c=(0,h.useCallback)(function(){e.forEach(function(v){return v()})},[e]),f={getState:function(){return d},dispatch:T,subscribe:t},g=(0,h.useState)(f),p=(0,E.Z)(g,1),n=p[0];return(0,h.useEffect)(function(){n.getState=function(){return d},c()},[d]),n}var I=function(s,i){return s===i};function L(){var u=(0,h.useContext)(_),s=(0,h.useRef)({aside:{get state(){return u.getState().aside},width:function(d){u.dispatch({type:"ASIDE_WIDTH",payload:d})},minimize:function(d){u.dispatch({type:"ASIDE_MINIMIZE",payload:d})},collapsible:function(d){u.dispatch({type:"ASIDE_COLLAPSIBLE",payload:d})}}});return s.current}function Z(u){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I;return M(u,s)}function M(u){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I,i=(0,h.useContext)(_),d=(0,h.useReducer)(function(t){return t+1},0),T=(0,E.Z)(d,2),k=T[1],l=(0,h.useRef)(),e=u(i.getState());function a(){var t=u(i.getState());s(t,l.current)||(l.current=t,k())}return(0,h.useEffect)(function(){return i.subscribe(a)},[]),e}function O(){var u=useContext(_);return u.dispatch}function D(u){var s=u.children,i=u.state,d=P(i);return(0,h.useMemo)(function(){return(0,R.jsx)(_.Provider,{value:d,children:s})},[s,d])}},95901:function(w,N,r){"use strict";r.d(N,{dI:function(){return k},rB:function(){return T}});var E=r(2824),m=r(67294);function h(l){return l!=null&&l!==""}function R(l,e){var a=useState(l),t=_slicedToArray(a,2),c=t[0],f=t[1];return useEffect(function(){var g=setTimeout(function(){f(l)},e);return function(){clearTimeout(g)}},[l,e]),c}var _={USERS_LIST:"users-list"},A=r(54941),o=r(69610),P=r(36321),I=(0,A.Z)(function l(){var e=this;(0,o.Z)(this,l),this.menu=null,this.element=null,this.getParamName=function(a){var t=document.body.hasAttribute("data-kt-name"),c=t?t+"_":"";return"kt_"+c+"theme_mode_"+a},this.getMode=function(){var a,t=e.getParamName("value"),c=e.getMenuMode(),f="light";if(!localStorage)return f;var g=localStorage.getItem(t);if(g)return g;var p=(a=e.element)===null||a===void 0?void 0:a.getAttribute("data-theme");return p||(c?c==="system"?e.getSystemMode():c:f)},this.setMode=function(a,t){var c,f,g,p=a,n=t;if(!(p!=="light"&&p!=="dark")){var v=e.getParamName("value"),S=e.getParamName("menu");n==="system"&&e.getSystemMode()!==p&&(p=e.getSystemMode()),n||(n=p);var y=((c=e.menu)===null||c===void 0?void 0:c.querySelector('[data-kt-element="mode"][data-kt-value="'+n+'"]'))||null;(f=e.element)===null||f===void 0||f.setAttribute("data-kt-theme-mode-switching","true"),(g=e.element)===null||g===void 0||g.setAttribute("data-theme",p);var b=e;setTimeout(function(){var x;(x=b.element)===null||x===void 0||x.removeAttribute("data-kt-theme-mode-switching")},300),localStorage&&localStorage.setItem(v,p),y&&localStorage&&(localStorage.setItem(S,n),e.setActiveMenuItem(y)),e.flipImages()}},this.getMenuMode=function(){var a,t=e.getParamName("menu"),c=(a=e.menu)===null||a===void 0?void 0:a.querySelector('.active[data-kt-element="mode"]'),f=c==null?void 0:c.getAttribute("data-kt-value");if(f)return f;if(!t)return"";var g=localStorage?localStorage.getItem(t):null;return g||""},this.getSystemMode=function(){return window.matchMedia("(prefers-color-scheme: dark)")?"dark":"light"},this.initMode=function(){e.setMode(e.getMode(),e.getMenuMode()),e.element&&P.EventHandlerUtil.trigger(e.element,"kt.thememode.init")},this.setActiveMenuItem=function(a){var t,c=e.getParamName("menu"),f=a.getAttribute("data-kt-value"),g=(t=e.menu)===null||t===void 0?void 0:t.querySelector('.active[data-kt-element="mode"]');g&&g.classList.remove("active"),a.classList.add("active"),localStorage&&f&&c&&localStorage.setItem(c,f)},this.handleMenu=function(){var a,t;(a=e.menu)===null||a===void 0||(t=a.querySelectorAll('[data-kt-element="mode"]'))===null||t===void 0||t.forEach(function(c){c.addEventListener("click",function(f){f.preventDefault();var g=c.getAttribute("data-kt-value"),p=g==="system"?e.getSystemMode():g;p&&e.setMode(p,g)})})},this.flipImages=function(){var a;(a=document.querySelectorAll("[data-kt-img-dark]"))===null||a===void 0||a.forEach(function(t){t.tagName==="IMG"?e.getMode()==="dark"&&t.hasAttribute("data-kt-img-dark")?(t.setAttribute("data-kt-img-light",t.getAttribute("src")||""),t.setAttribute("src",t.getAttribute("data-kt-img-dark")||"")):e.getMode()==="light"&&t.hasAttribute("data-kt-img-light")&&(t.setAttribute("data-kt-img-dark",t.getAttribute("src")||""),t.setAttribute("src",t.getAttribute("data-kt-img-light")||"")):e.getMode()==="dark"&&t.hasAttribute("data-kt-img-dark")?(t.setAttribute("data-kt-img-light",t.getAttribute("src")||""),t.style.backgroundImage="url('"+t.getAttribute("data-kt-img-dark")+"')"):e.getMode()==="light"&&t.hasAttribute("data-kt-img-light")&&(t.setAttribute("data-kt-img-dark",t.getAttribute("src")||""),t.style.backgroundImage="url('"+t.getAttribute("data-kt-img-light")+"')")})},this.on=function(a,t){if(e.element)return P.EventHandlerUtil.on(e.element,a,t)},this.off=function(a,t){if(e.element)return P.EventHandlerUtil.off(e.element,a,t)},this.init=function(){e.menu=document.querySelector('[data-kt-element="theme-mode-menu"]'),e.element=document.documentElement,e.initMode(),e.menu&&e.handleMenu()}}),L=new I,Z=r(85893),M=L.getSystemMode(),O=function(e){var a=e!=="system"?e:M,t="/media/patterns/header-bg"+(a==="light"?".jpg":"-dark.png");document.body.style.backgroundImage='url("'.concat(toAbsoluteUrl(t),'")')},D="kt_theme_mode_value",u="kt_theme_mode_menu",s=function(e){if(!localStorage)return"light";var a=localStorage.getItem(e);return!a||a==="light"?"light":a==="dark"?"dark":"system"},i={mode:s(D),menuMode:s(u),updateMode:function(e){},updateMenuMode:function(e){}},d=(0,m.createContext)({mode:i.mode,menuMode:i.menuMode,updateMode:function(e){},updateMenuMode:function(e){}}),T=function(){return(0,m.useContext)(d)},k=function(e){var a=e.children,t=(0,m.useState)(i.mode),c=(0,E.Z)(t,2),f=c[0],g=c[1],p=(0,m.useState)(i.menuMode),n=(0,E.Z)(p,2),v=n[0],S=n[1],y=function(C){var j=C==="system"?M:C;g(j),localStorage&&localStorage.setItem(D,j),document.documentElement.setAttribute("data-theme",j),L.init()},b=function(C){S(C),localStorage&&localStorage.setItem(u,C)};return(0,m.useEffect)(function(){y(f),b(v)},[]),(0,Z.jsx)(d.Provider,{value:{mode:f,menuMode:v,updateMode:y,updateMenuMode:b},children:a})}},61923:function(w,N,r){"use strict";r.r(N);var E=r(2824),m=r(67294),h=r(51615),R=r(23798),_=r(48775),A=r(38671),o=r(85893);function P(I){var L=I.children,Z=I.location,M=I.match.params.id,O=(0,R.k$)({variables:{id:M},fetchPolicy:"cache-and-network"}),D=O.data,u=D===void 0?{}:D,s=O.loading,i=u.module,d=(0,m.useMemo)(function(){var t=(0,h.LX)(Z.pathname,{path:"/modules/:id/:feat",exact:!1,strict:!0});return t?t.params.feat:""},[Z.pathname]),T=(0,m.useState)(d),k=(0,E.Z)(T,2),l=k[0],e=k[1];(0,m.useEffect)(function(){!d||e(d)},[d]);var a=(0,m.useCallback)(function(t){console.log("selectedKey",t.key),e(t.key)},[]);return(0,o.jsx)(_.Hk,{className:"module-view-app",loading:s,children:i&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(_.Hk.Sidebar,{className:"module-view-app-sidebar",collapsible:!1,width:216,children:(0,o.jsxs)(A.bH,{zIndex:10,className:"mt-5 p-5",overlayClassName:"bg-white bg-opacity-25",loading:!1,children:[(0,o.jsx)("div",{className:"pb-5",children:(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)(A.mN.Avatar,{alt:"\u5565\u5730\u65B9",className:"me-5",size:40}),(0,o.jsxs)("div",{className:"flex-grow-1",children:[(0,o.jsx)("a",{className:"text-dark fw-bolder text-hover-primary fs-6",children:i.name}),(0,o.jsx)("span",{className:"text-muted d-block fw-bold fs-8",dangerouslySetInnerHTML:{__html:i.description||"&nbsp;"}})]})]})}),(0,o.jsxs)("div",{className:"module-view-app-sidebar__menu_container",children:[(0,o.jsxs)(A.v2,{fit:!0,accordion:!1,selectable:"AllMenu",className:"menu-title-gray-600 menu-icon-gray-400 menu-state-bg menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 my-5 my-lg-0",selectedKeys:l?[l]:[],onSelect:a,children:[(0,o.jsx)(A.v2.Item,{bullet:!0,icon:"Fonticon/layers",title:"\u7ED3\u6784\u5B9A\u4E49",url:"/modules/".concat(i.id,"/schema")},"schema"),(0,o.jsx)(A.v2.Item,{bullet:!0,icon:"Fonticon/alignment-right",title:"\u5185\u5BB9\u7BA1\u7406",url:"/modules/".concat(i.id,"/content")},"content"),(0,o.jsx)(A.v2.Item,{bullet:!0,icon:"Fonticon/attachments",title:"\u9759\u6001\u8D44\u6E90",url:"/modules/".concat(i.id,"/assets")},"assets")]}),(0,o.jsx)(A.v2,{fit:!0,accordion:!1,className:"menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-bg menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 my-5 my-lg-0",selectedKeys:d?[d]:[],children:(0,o.jsx)(A.v2.Item,{bullet:!0,icon:"Bootstrap/gear",title:"\u6A21\u5757\u8BBE\u7F6E",url:"/modules/".concat(i.id,"/settings")},"settings")})]})]})}),(0,o.jsxs)("div",{style:{zIndex:99},className:"position-relative d-flex flex-row flex-row-fluid",children:[(0,o.jsx)("div",{style:{position:"fixed",height:"100vh",width:"1px",zIndex:105},children:(0,o.jsx)(_.Hk.Sidebar.Toggle,{className:"start-0"})}),m.Children.map(L,function(t){return t.props.location.state={module:i,baseUrl:"/modules/"+M},t})]})]})})}N.default=P}}]);
