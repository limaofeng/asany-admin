(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[6949],{14843:function(P,F,u){"use strict";u.d(F,{u7:function(){return a.u7},pM:function(){return a.pM},dP:function(){return a.dP},zR:function(){return a.zR},bo:function(){return a.bo},CF:function(){return a.CF},hT:function(){return a.hT},X4:function(){return a.X4},rq:function(){return a.rq},qb:function(){return a.qb},a$:function(){return a.a$},mp:function(){return a.mp},WE:function(){return a.WE},HC:function(){return a.HC},cT:function(){return R},Hr:function(){return $},r3:function(){return a.r3},bI:function(){return a.bI},A6:function(){return a.A6},LV:function(){return a.LV}});var a=u(8305),l=u(39428),n=u(3182),e=u(2824),h=u(67294),d=u(51186),i=u(85893);function E(r,f){var c,g=(0,a.rz)({variables:{id:r==null?void 0:r.id},refetchQueries:[{query:a.dP,variables:{id:r==null||(c=r.application)===null||c===void 0?void 0:c.id}}]}),j=(0,e.Z)(g,1),p=j[0],D=(0,h.useCallback)((0,n.Z)((0,l.Z)().mark(function y(){var N;return(0,l.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.u_.confirm({title:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u8DEF\u7531\u5417\uFF1F",content:(0,i.jsxs)(i.Fragment,{children:["\u60A8\u5373\u5C06\u5220\u9664\u201C",(0,i.jsx)("strong",{children:r.name}),"\u201D\u3002\u5220\u9664\u64CD\u4F5C\u4E0D\u53EF\u9006\u8F6C\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF0C\u60A8\u786E\u5B9A\u5220\u9664\u5417\uFF1F"]}),okText:"\u5220 \u9664",okClassName:"btn-danger"});case 2:if(N=t.sent,!N.isConfirmed){t.next=8;break}return t.next=6,p();case 6:d.FN.success("\u5220\u9664\u6210\u529F"),f(r);case 8:case"end":return t.stop()}},y)})),[p,r,f]);return[D]}var R=E,b=u(11849),o=u(25496);function T(r,f){var c,g,j,p=d.l0.useForm(),D=(0,h.useState)(!1),y=(0,e.Z)(D,2),N=y[0],v=y[1],t=(0,a.X4)({fetchPolicy:"no-cache",refetchQueries:[{query:a.dP,variables:{id:r==null||(c=r.application)===null||c===void 0?void 0:c.id}}]}),w=(0,e.Z)(t,1),M=w[0],B=(0,a.LV)({fetchPolicy:"no-cache",refetchQueries:[{query:a.dP,variables:{id:r==null||(g=r.application)===null||g===void 0?void 0:g.id}}]}),L=(0,e.Z)(B,1),A=L[0],S=(0,h.useMemo)(function(){return r!=null&&r.id?(0,n.Z)((0,l.Z)().mark(function Z(){var m,x,C;return(0,l.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return v(!0),s.prev=1,s.next=4,p.validateFields();case 4:return m=s.sent,s.next=7,d.FN.promise((0,o.gw)(A({variables:{id:r.id,input:(0,b.Z)({},m)}}),350),{pending:"\u63D0\u4EA4\u4E2D...",success:{render:function(){return(0,i.jsxs)(i.Fragment,{children:["\u8DEF\u7531 ",(0,i.jsx)("strong",{children:m.name})," \u4FDD\u5B58\u6210\u529F"]})}},error:"\u63D0\u4EA4\u51FA\u9519"},{duration:2e3,placement:"top-center"});case 7:x=s.sent,C=x.data,f(C.updateRoute),v(!1),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(1),v(!1);case 16:case"end":return s.stop()}},Z,null,[[1,13]])})):(0,n.Z)((0,l.Z)().mark(function Z(){var m,x,C;return(0,l.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return v(!0),s.prev=1,s.next=4,p.validateFields();case 4:return m=s.sent,s.next=7,d.FN.promise((0,o.gw)(M({variables:{input:(0,b.Z)((0,b.Z)({},m),{},{application:r.application.id})}}),350),{pending:"\u63D0\u4EA4\u4E2D...",success:{render:function(){return(0,i.jsxs)(i.Fragment,{children:["\u8DEF\u7531 ",(0,i.jsx)("strong",{children:m.name})," \u65B0\u589E\u6210\u529F"]})}},error:"\u63D0\u4EA4\u51FA\u9519"},{duration:2e3,placement:"top-center"});case 7:x=s.sent,C=x.data,f(C.createRoute),v(!1),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(1),v(!1);case 16:case"end":return s.stop()}},Z,null,[[1,13]])}))},[M,r==null||(j=r.application)===null||j===void 0?void 0:j.id,r==null?void 0:r.id,p,f,A]);return[S,{form:p,submitting:N}]}var $=T},6949:function(P,F,u){"use strict";u.r(F);var a=u(14843),l=u(18071),n=u(51186),e=u(85893);function h(){var d=(0,a.HC)(),i=d.data,E=i===void 0?{apps:[]}:i,R=d.loading,b=E.apps;return(0,e.jsx)(l.v,{header:{title:"\u5E94\u7528\u7BA1\u7406"},loading:R,children:(0,e.jsx)(n.X2,{gutter:{default:6,xl:9},children:b.map(function(o){return(0,e.jsx)(n.JX,{md:6,xl:4,children:(0,e.jsxs)(n.Zb,{as:"a",to:"/apps/".concat(o.id),className:"border-hover-primary",children:[(0,e.jsxs)(n.Zb.Header,{border:!1,className:"pt-9",children:[(0,e.jsx)(n.Zb.Title,{className:"m-0",children:(0,e.jsx)(n.mN.Avatar,{size:50,labelClassName:"fs-2",className:"bg-light",src:"/assets/media/svg/brand-logos/plurk.svg",gap:3})}),(0,e.jsx)(n.Zb.Toolbar,{children:(0,e.jsx)(n.Ct,{lightStyle:"primary",className:"fw-bolder me-auto px-4 py-3",children:"In Progress"})})]}),(0,e.jsxs)(n.Zb.Body,{className:"p-9",children:[(0,e.jsx)("div",{className:"fs-3 fw-bolder text-dark",children:o.title}),(0,e.jsx)("p",{className:"text-gray-400 fw-bold fs-5 mt-1 mb-7",children:o.description}),(0,e.jsxs)("div",{className:"d-flex flex-wrap mb-5",children:[(0,e.jsxs)("div",{className:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-7 mb-3",children:[(0,e.jsx)("div",{className:"fs-6 text-gray-800 fw-bolder",children:"Sep 22, 2021"}),(0,e.jsx)("div",{className:"fw-bold text-gray-400",children:"Due Date"})]}),(0,e.jsxs)("div",{className:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 mb-3",children:[(0,e.jsx)("div",{className:"fs-6 text-gray-800 fw-bolder",children:"$284,900.00"}),(0,e.jsx)("div",{className:"fw-bold text-gray-400",children:"Budget"})]})]}),(0,e.jsx)(n.u,{title:"This project 50% completed",children:(0,e.jsx)("div",{className:"h-4px w-100 bg-light mb-5",children:(0,e.jsx)(n.Ex,{percent:50})})}),(0,e.jsxs)(n.mN.Group,{maxCount:5,children:[(0,e.jsx)(n.mN.Avatar,{labelClassName:"fs-2",size:35,shape:"circle",src:"/assets/media/avatars/150-1.jpg"}),(0,e.jsx)(n.mN.Avatar,{labelClassName:"fs-2",size:35,shape:"circle",src:"/assets/media/avatars/150-2.jpg"}),(0,e.jsx)(n.mN.Avatar,{labelClassName:"fs-2",size:35,shape:"circle",alt:"Susan Redwood"})]})]})]})},o.id)})})})}F.default=h}}]);
