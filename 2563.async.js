"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2563],{86528:function(N,x,o){o.r(x),o.d(x,{default:function(){return S}});var z=o(97857),r=o.n(z),A=o(19632),v=o.n(A),E=o(5574),$=o.n(E),l=o(62435),f=o(96974),F=o(12845),I=o(73588),T=o(88896),B=o(82471),P=["7z","arj","deb","pkg","rar","rpm","tar.gz","z","zip"],Q=["fnt","fon","otf","ttf"],h=["ods","xls","xlsm","xlsx"],n={video:["3g2","3gp","avi","flv","h264","m4v","mkv","mov","mp4","mpg","mpeg","rm","swf","vob","wmv"],audio:["aif","cda","mid","mp3","mpa","ogg","wav","wma","wpl"],image:["ai","bmp","gif","jpeg","jpg","png","ps","psd","svg","tif","tiff"],document:["doc","docx","odt","pdf","rtf","tex","txt","wpd"].concat(h),spreadsheet:h,compressed:P,font:Q},D=o(86074);function R(){var m,c,p,X=(0,F.useParams)(),j=X.id,a=(0,f.TH)(),g=(0,F.useModel)("cloud-drive.index",function(e){var u=e.state;return u.driveId}),b=(0,B.f4)(),M=$()(b,2),C=M[0],s=M[1].data;(0,l.useEffect)(function(){g&&C({variables:{id:g}})},[g,C]);var t=(0,l.useMemo)(function(){var e;return(s==null?void 0:s.cloudDrive)||((e=a.state)===null||e===void 0?void 0:e.cloudDrive)},[s==null?void 0:s.cloudDrive,(m=a.state)===null||m===void 0?void 0:m.cloudDrive]),d=(0,l.useMemo)(function(){return a.pathname.startsWith("/drive/mime-types")?t==null?void 0:t.rootFolder:j||(t==null?void 0:t.rootFolder)},[j,t==null?void 0:t.rootFolder,a.pathname]),i=(0,l.useMemo)(function(){var e=(0,f.LX)("/drive/:type/:value",a.pathname),u=(0,f.LX)("/drive/:type",a.pathname),H=(e==null?void 0:e.params.type)||(u==null?void 0:u.params.type),K=e==null?void 0:e.params.value;return H==="mime-types"?K:"my-drive"},[a.pathname]),L=(0,l.useMemo)(function(){return i==="image"?{isDirectory:!1,folder:{subfolders:!0,id:d},extension_in:n.image}:i==="document"?{isDirectory:!1,folder:{subfolders:!0,id:d},extension_in:n.document}:i==="video"?{isDirectory:!1,folder:{subfolders:!0,id:d},extension_in:n.video}:i==="audio"?{isDirectory:!1,folder:{subfolders:!0,id:d},extension_in:n.audio}:i==="other"?{isDirectory:!1,folder:{subfolders:!0,id:d},extension_notIn:[].concat(v()(n.image),v()(n.audio),v()(n.video),v()(n.document))}:{folder:{id:d}}},[i,d]),y=(0,l.useMemo)(function(){if(t){var e=r()(r()({},t),{},{id:t.rootFolder,isRootFolder:!1});return i==="image"?r()(r()({},e),{},{name:"\u5168\u90E8\u56FE\u7247"}):i==="document"?r()(r()({},e),{},{name:"\u5168\u90E8\u6587\u6863"}):i==="video"?r()(r()({},e),{},{name:"\u5168\u90E8\u89C6\u9891"}):i==="audio"?r()(r()({},e),{},{name:"\u5168\u90E8\u97F3\u9891"}):i==="other"?r()(r()({},e),{},{name:"\u5176\u4ED6\u6587\u4EF6"}):r()(r()({},e),{},{isRootFolder:!0,name:"\u5168\u90E8\u6587\u4EF6"})}},[t,i]);return console.log("rootFolder",y),console.log("folder",d),console.log("fileFilter",L),(0,D.jsx)(I.vs,{className:"app-drive-main",header:!1,footer:!1,children:y&&(0,D.jsx)(T.Z,{folder:d,filter:L,orderBy:(c=a.state)===null||c===void 0?void 0:c.orderBy,rootFolder:y,currentFolder:(p=a.state)===null||p===void 0?void 0:p.currentFolder},"list-files")})}var S=R}}]);
