"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2563],{86528:function(K,h,e){e.r(h),e.d(h,{default:function(){return S}});var L=e(97857),r=e.n(L),z=e(19632),v=e.n(z),A=e(5574),E=e.n(A),s=e(62435),f=e(96974),y=e(12845),I=e(73588),T=e(88896),B=e(82471),P=["7z","arj","deb","pkg","rar","rpm","tar.gz","z","zip"],Q=["fnt","fon","otf","ttf"],x=["ods","xls","xlsm","xlsx"],d={video:["3g2","3gp","avi","flv","h264","m4v","mkv","mov","mp4","mpg","mpeg","rm","swf","vob","wmv"],audio:["aif","cda","mid","mp3","mpa","ogg","wav","wma","wpl"],image:["ai","bmp","gif","jpeg","jpg","png","ps","psd","svg","tif","tiff"],document:["doc","docx","odt","pdf","rtf","tex","txt","wpd"].concat(x),spreadsheet:x,compressed:P,font:Q},F=e(86074);function R(){var m,c,X=(0,y.useParams)(),D=X.id,a=(0,f.TH)(),p=(0,y.useModel)("cloud-drive.index",function(o){var u=o.state;return u.driveId}),$=(0,B.f4)(),j=E()($,2),M=j[0],l=j[1].data;(0,s.useEffect)(function(){p&&M({variables:{id:p}})},[p,M]);var t=(0,s.useMemo)(function(){return l==null?void 0:l.cloudDrive},[l==null?void 0:l.cloudDrive]),n=(0,s.useMemo)(function(){return a.pathname.startsWith("/drive/mime-types")?t==null?void 0:t.rootFolder:D||(t==null?void 0:t.rootFolder)},[D,t==null?void 0:t.rootFolder,a.pathname]),i=(0,s.useMemo)(function(){var o=(0,f.LX)("/drive/:type/:value",a.pathname),u=(0,f.LX)("/drive/:type",a.pathname),b=(o==null?void 0:o.params.type)||(u==null?void 0:u.params.type),H=o==null?void 0:o.params.value;return b==="mime-types"?H:"my-drive"},[a.pathname]),C=(0,s.useMemo)(function(){return i==="image"?{isDirectory:!1,folder:{subfolders:!0,id:n},extension_in:d.image}:i==="document"?{isDirectory:!1,folder:{subfolders:!0,id:n},extension_in:d.document}:i==="video"?{isDirectory:!1,folder:{subfolders:!0,id:n},extension_in:d.video}:i==="audio"?{isDirectory:!1,folder:{subfolders:!0,id:n},extension_in:d.audio}:i==="other"?{isDirectory:!1,folder:{subfolders:!0,id:n},extension_notIn:[].concat(v()(d.image),v()(d.audio),v()(d.video),v()(d.document))}:{folder:{id:n}}},[i,n]),g=(0,s.useMemo)(function(){if(t){var o=r()(r()({},t),{},{id:t.rootFolder,isRootFolder:!1});return i==="image"?r()(r()({},o),{},{name:"\u5168\u90E8\u56FE\u7247"}):i==="document"?r()(r()({},o),{},{name:"\u5168\u90E8\u6587\u6863"}):i==="video"?r()(r()({},o),{},{name:"\u5168\u90E8\u89C6\u9891"}):i==="audio"?r()(r()({},o),{},{name:"\u5168\u90E8\u97F3\u9891"}):i==="other"?r()(r()({},o),{},{name:"\u5176\u4ED6\u6587\u4EF6"}):r()(r()({},o),{},{isRootFolder:!0,name:"\u5168\u90E8\u6587\u4EF6"})}},[t,i]);return console.log("cloudDrive",t),console.log("rootFolder",g),console.log("folder",n),console.log("where",C),(0,F.jsx)(I.vs,{className:"app-drive-main",header:!1,footer:!1,children:g&&(0,F.jsx)(T.Z,{folder:n,where:C,orderBy:(m=a.state)===null||m===void 0?void 0:m.orderBy,rootFolder:g,currentFolder:(c=a.state)===null||c===void 0?void 0:c.currentFolder},"list-files")})}var S=R}}]);
