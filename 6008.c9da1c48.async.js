"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6008,267],{51253:function(O,g,e){e.d(g,{GP:function(){return j.Z},Hk:function(){return V},xx:function(){return u.x}});var $=e(74958),j=e(5166),u=e(19260),T=e(68400),h=e.n(T),s=e(62435),I=e(93967),t=e.n(I),E=e(94589),D=e(97857),m=e.n(D),B=e(46027),A=e(77786),f=e(42687),N=e(79817),M=e(5574),H=e.n(M),L=e(96486),n=e(86074),d={aside:{minimize:!1,width:280}},b=s.createContext({state:d,dispatch:function(){}}),x=function(a){return a.AsideToggle="ASIDE_TOGGLE",a.AsideWidth="ASIDE_WIDTH",a}({});function S(a,i){switch(i.type){case"ASIDE_TOGGLE":return a.aside.minimize=!a.aside.minimize,m()({},a);case"ASIDE_WIDTH":return a.aside.width=i.payload,m()({},a);default:throw new Error}}var C=function(i){var l=(0,s.useReducer)(S,(0,L.cloneDeep)(d)),c=H()(l,2),o=c[0],v=c[1];return(0,n.jsx)(b.Provider,{value:{state:o,dispatch:v},children:i.children})},p=function(){return(0,s.useContext)(b)},r=e(65495);function K(a){var i=p(),l=i.dispatch,c=i.state.aside.minimize,o=(0,s.useCallback)(function(){l({type:x.AsideToggle})},[l]);return(0,n.jsx)(N.Button,{style:m()({marginBottom:"1.35rem",zIndex:105},a.style),onClick:o,activeColor:"primary",className:t()("micro-app-aside-toggle","btn-icon bg-body btn-color-gray-700 rounded-2 position-absolute translate-middle bottom-0 shadow-sm d-none d-lg-flex",a.className,{active:c}),children:(0,n.jsx)(B.JO,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})}var Z={"drawer drawer-start":{maxWidth:992}};function P(a){var i=a.className,l=a.header,c=a.children,o=a.collapsible,v=o===void 0?!0:o,w=a.width,y=w===void 0?280:w,z=(0,f.$Y)(),J=p(),G=J.dispatch;(0,s.useEffect)(function(){z.aside.width(y+100),G({type:x.AsideWidth,payload:y})},[z.aside,G,y]);var X=(0,A.CN)(Z),Y=(0,f.BK)(function(k){return k.aside.drawer});return(0,n.jsxs)("div",{className:t()("app-aside aside",i,X,{"drawer-on":Y}),children:[(0,n.jsx)(r.Z,{children:(0,n.jsx)(j.Z,{header:l,resizeable:!0,className:"app-sidebar",children:c})}),v&&(0,n.jsx)(K,{className:"start-100 end-0"})]})}P.Toggle=K;var R=P,W,Q=E.ZP.div(W||(W=h()([`
  --root-aside-width: `,`;
  --met-aside-width: `,`;
`])),function(a){return a.minimize?"100px":"".concat(a.width,"px")},function(a){return a.minimize?"100px":"".concat(a.width,"px")});function U(a){var i=a.children,l=a.className,c=p(),o=c.state.aside,v=o.minimize,w=o.width,y=(0,s.useCallback)(function(z){z.preventDefault()},[]);return(0,n.jsx)(Q,{minimize:v,width:w,className:t()("micro-app-container page-full-content",l,{"aside-minimize":v}),onContextMenu:y,children:i})}function F(a){var i=a.children,l=a.className;return(0,n.jsx)(C,{children:(0,n.jsx)(U,{className:l,children:i})})}F.Sidebar=R;var V=F},25936:function(O,g,e){e.r(g),e.d(g,{default:function(){return D}});var $=e(5574),j=e.n($),u=e(62435),T=e(96974),h=e(51253),s=e(79817),I=e(70694),t=e(86074);function E(m){var B=m.children,A=m.location,f=m.match.params.id,N=(0,I.k$)({variables:{id:f},fetchPolicy:"cache-and-network"}),M=N.data,H=M===void 0?{}:M,L=N.loading,n=H.module,d=(0,u.useMemo)(function(){var r=(0,T.LX)(A.pathname,{path:"/modules/:id/:feat",exact:!1,strict:!0});return r?r.params.feat:""},[A.pathname]),b=(0,u.useState)(d),x=j()(b,2),S=x[0],C=x[1];(0,u.useEffect)(function(){d&&C(d)},[d]);var p=(0,u.useCallback)(function(r){console.log("selectedKey",r.key),C(r.key)},[]);return(0,t.jsx)(h.Hk,{className:"module-view-app",loading:L,children:n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Hk.Sidebar,{className:"module-view-app-sidebar",collapsible:!1,width:216,children:(0,t.jsxs)(s.BlockUI,{zIndex:10,className:"mt-5 p-5",overlayClassName:"bg-white bg-opacity-25",loading:!1,children:[(0,t.jsx)("div",{className:"pb-5",children:(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)(s.Symbol.Avatar,{alt:"\u5565\u5730\u65B9",className:"me-5",size:40}),(0,t.jsxs)("div",{className:"flex-grow-1",children:[(0,t.jsx)("a",{className:"text-dark fw-bolder text-hover-primary fs-6",children:n.name}),(0,t.jsx)("span",{className:"text-muted d-block fw-bold fs-8",dangerouslySetInnerHTML:{__html:n.description||"&nbsp;"}})]})]})}),(0,t.jsxs)("div",{className:"module-view-app-sidebar__menu_container",children:[(0,t.jsxs)(s.Menu,{fit:!0,accordion:!1,selectable:"AllMenu",className:"menu-title-gray-600 menu-icon-gray-400 menu-state-bg menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 my-5 my-lg-0",selectedKeys:S?[S]:[],onSelect:p,children:[(0,t.jsx)(s.Menu.Item,{bullet:!0,icon:"Fonticon/layers",title:"\u7ED3\u6784\u5B9A\u4E49",url:"/modules/".concat(n.id,"/schema")},"schema"),(0,t.jsx)(s.Menu.Item,{bullet:!0,icon:"Fonticon/alignment-right",title:"\u5185\u5BB9\u7BA1\u7406",url:"/modules/".concat(n.id,"/content")},"content"),(0,t.jsx)(s.Menu.Item,{bullet:!0,icon:"Fonticon/attachments",title:"\u9759\u6001\u8D44\u6E90",url:"/modules/".concat(n.id,"/assets")},"assets")]}),(0,t.jsx)(s.Menu,{fit:!0,accordion:!1,className:"menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-bg menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 my-5 my-lg-0",selectedKeys:d?[d]:[],children:(0,t.jsx)(s.Menu.Item,{bullet:!0,icon:"Bootstrap/gear",title:"\u6A21\u5757\u8BBE\u7F6E",url:"/modules/".concat(n.id,"/settings")},"settings")})]})]})}),(0,t.jsxs)("div",{style:{zIndex:99},className:"position-relative d-flex flex-row flex-row-fluid",children:[(0,t.jsx)("div",{style:{position:"fixed",height:"100vh",width:"1px",zIndex:105},children:(0,t.jsx)(h.Hk.Sidebar.Toggle,{className:"start-0"})}),u.Children.map(B,function(r){return r.props.location.state={module:n,baseUrl:"/modules/"+f},r})]})]})})}var D=E}}]);
