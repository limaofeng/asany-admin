"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6008,1201],{51253:function(Z,I,t){t.d(I,{GP:function(){return v.Z},Hk:function(){return Q},xx:function(){return p.x}});var O=t(74958),v=t(5166),p=t(19260),u=t(68400),d=t.n(u),l=t(62435),b=t(93967),r=t.n(b),T=t(94589),L=t(97857),f=t.n(L),w=t(46027),D=t(10582),M=t(42687),z=t(79817),C=t(5574),s=t.n(C),n=t(96486),e=t(86074),i={aside:{minimize:!1,width:280}},A=l.createContext({state:i,dispatch:function(){}}),y=function(a){return a.AsideToggle="ASIDE_TOGGLE",a.AsideWidth="ASIDE_WIDTH",a}({});function x(a,m){switch(m.type){case"ASIDE_TOGGLE":return a.aside.minimize=!a.aside.minimize,f()({},a);case"ASIDE_WIDTH":return a.aside.width=m.payload,f()({},a);default:throw new Error}}var c=function(m){var h=(0,l.useReducer)(x,(0,n.cloneDeep)(i)),j=s()(h,2),S=j[0],N=j[1];return(0,e.jsx)(A.Provider,{value:{state:S,dispatch:N},children:m.children})},g=function(){return(0,l.useContext)(A)},o=t(65495);function W(a){var m=g(),h=m.dispatch,j=m.state.aside.minimize,S=(0,l.useCallback)(function(){h({type:y.AsideToggle})},[h]);return(0,e.jsx)(z.Button,{style:f()({marginBottom:"1.35rem",zIndex:105},a.style),onClick:S,activeColor:"primary",className:r()("micro-app-aside-toggle","btn-icon bg-body btn-color-gray-700 rounded-2 position-absolute translate-middle bottom-0 shadow-sm d-none d-lg-flex",a.className,{active:j}),children:(0,e.jsx)(w.JO,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})}var F={"drawer drawer-start":{maxWidth:992}};function K(a){var m=a.className,h=a.header,j=a.children,S=a.collapsible,N=S===void 0?!0:S,U=a.width,B=U===void 0?280:U,_=(0,M.$Y)(),V=g(),G=V.dispatch;(0,l.useEffect)(function(){_.aside.width(B+100),G({type:y.AsideWidth,payload:B})},[_.aside,G,B]);var Y=(0,D.CN)(F),J=(0,M.BK)(function(X){return X.aside.drawer});return(0,e.jsxs)("div",{className:r()("app-aside aside",m,Y,{"drawer-on":J}),children:[(0,e.jsx)(o.Z,{children:(0,e.jsx)(v.Z,{header:h,resizeable:!0,className:"app-sidebar",children:j})}),N&&(0,e.jsx)(W,{className:"start-100 end-0"})]})}K.Toggle=W;var H=K,P,E=T.ZP.div(P||(P=d()([`
  --root-aside-width: `,`;
  --met-aside-width: `,`;
`])),function(a){return a.minimize?"100px":"".concat(a.width,"px")},function(a){return a.minimize?"100px":"".concat(a.width,"px")});function $(a){var m=a.children,h=a.className,j=g(),S=j.state.aside,N=S.minimize,U=S.width,B=(0,l.useCallback)(function(_){_.preventDefault()},[]);return(0,e.jsx)(E,{minimize:N,width:U,className:r()("micro-app-container page-full-content",h,{"aside-minimize":N}),onContextMenu:B,children:m})}function R(a){var m=a.children,h=a.className;return(0,e.jsx)(c,{children:(0,e.jsx)($,{className:h,children:m})})}R.Sidebar=H;var Q=R},42687:function(Z,I,t){t.d(I,{$Y:function(){return w},BK:function(){return M},aM:function(){return C}});var O=t(5574),v=t.n(O),p=t(97857),u=t.n(p),d=t(62435),l=t(86074),b=d.createContext({getState:function(){return{routes:[]}},subscribe:function(){},dispatch:function(){}}),r=function(n,e){return e?e.type==="ASIDE_MINIMIZE"?u()(u()({},n),{},{aside:u()(u()({},n.aside),{},{minimize:!!e.payload})}):e.type==="ASIDE_WIDTH"?u()(u()({},n),{},{aside:u()(u()({},n.aside),{},{width:e.payload})}):e.type==="ASIDE_COLLAPSIBLE"?u()(u()({},n),{},{aside:u()(u()({},n.aside),{},{collapsible:e.payload})}):e.type==="ASIDE_DRAWER"?u()(u()({},n),{},{aside:u()(u()({},n.aside),{},{drawer:e.payload})}):n:n},T=function(n){return u()({},n)};function L(s){var n=(0,d.useReducer)(r,s,T),e=v()(n,2),i=e[0],A=e[1],y=(0,d.useState)([]),x=v()(y,1),c=x[0],g=function($){return function(){var R=c.indexOf($);R>-1&&c.splice(R,1)}},o=(0,d.useCallback)(function(E){return c.unshift(E),g(E)},[c]),W=(0,d.useCallback)(function(){c.forEach(function(E){return E()})},[c]),F={getState:function(){return i},dispatch:A,subscribe:o},K=(0,d.useState)(F),H=v()(K,1),P=H[0];return(0,d.useEffect)(function(){P.getState=function(){return i},W()},[i]),P}var f=function(n,e){return n===e};function w(){var s=(0,d.useContext)(b),n=(0,d.useRef)({aside:{get state(){return s.getState().aside},width:function(i){s.dispatch({type:"ASIDE_WIDTH",payload:i})},minimize:function(i){s.dispatch({type:"ASIDE_MINIMIZE",payload:i})},collapsible:function(i){s.dispatch({type:"ASIDE_COLLAPSIBLE",payload:i})},drawer:function(i){s.dispatch({type:"ASIDE_DRAWER",payload:i})}}});return n.current}function D(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,e=(0,d.useContext)(b),i=(0,d.useReducer)(function(o){return o+1},0),A=v()(i,2),y=A[1],x=(0,d.useRef)(),c=s(e.getState());function g(){var o=s(e.getState());n(o,x.current)||(x.current=o,y())}return(0,d.useEffect)(function(){return e.subscribe(g)},[]),c}function M(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;return D(s,n)}function z(){var s=useContext(b);return s.dispatch}function C(s){var n=s.children,e=s.state,i=L(e);return(0,d.useMemo)(function(){return(0,l.jsx)(b.Provider,{value:i,children:n})},[n,i])}},25936:function(Z,I,t){t.r(I),t.d(I,{default:function(){return L}});var O=t(5574),v=t.n(O),p=t(62435),u=t(96974),d=t(51253),l=t(79817),b=t(70694),r=t(86074);function T(f){var w=f.children,D=f.location,M=f.match.params.id,z=(0,b.k$)({variables:{id:M},fetchPolicy:"cache-and-network"}),C=z.data,s=C===void 0?{}:C,n=z.loading,e=s.module,i=(0,p.useMemo)(function(){var o=(0,u.LX)(D.pathname,{path:"/modules/:id/:feat",exact:!1,strict:!0});return o?o.params.feat:""},[D.pathname]),A=(0,p.useState)(i),y=v()(A,2),x=y[0],c=y[1];(0,p.useEffect)(function(){i&&c(i)},[i]);var g=(0,p.useCallback)(function(o){console.log("selectedKey",o.key),c(o.key)},[]);return(0,r.jsx)(d.Hk,{className:"module-view-app",loading:n,children:e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Hk.Sidebar,{className:"module-view-app-sidebar",collapsible:!1,width:216,children:(0,r.jsxs)(l.BlockUI,{zIndex:10,className:"mt-5 p-5",overlayClassName:"bg-white bg-opacity-25",loading:!1,children:[(0,r.jsx)("div",{className:"pb-5",children:(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)(l.Symbol.Avatar,{alt:"\u5565\u5730\u65B9",className:"me-5",size:40}),(0,r.jsxs)("div",{className:"flex-grow-1",children:[(0,r.jsx)("a",{className:"text-dark fw-bolder text-hover-primary fs-6",children:e.name}),(0,r.jsx)("span",{className:"text-muted d-block fw-bold fs-8",dangerouslySetInnerHTML:{__html:e.description||"&nbsp;"}})]})]})}),(0,r.jsxs)("div",{className:"module-view-app-sidebar__menu_container",children:[(0,r.jsxs)(l.Menu,{fit:!0,accordion:!1,selectable:"AllMenu",className:"menu-title-gray-600 menu-icon-gray-400 menu-state-bg menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 my-5 my-lg-0",selectedKeys:x?[x]:[],onSelect:g,children:[(0,r.jsx)(l.Menu.Item,{bullet:!0,icon:"Fonticon/layers",title:"\u7ED3\u6784\u5B9A\u4E49",url:"/modules/".concat(e.id,"/schema")},"schema"),(0,r.jsx)(l.Menu.Item,{bullet:!0,icon:"Fonticon/alignment-right",title:"\u5185\u5BB9\u7BA1\u7406",url:"/modules/".concat(e.id,"/content")},"content"),(0,r.jsx)(l.Menu.Item,{bullet:!0,icon:"Fonticon/attachments",title:"\u9759\u6001\u8D44\u6E90",url:"/modules/".concat(e.id,"/assets")},"assets")]}),(0,r.jsx)(l.Menu,{fit:!0,accordion:!1,className:"menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-bg menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 my-5 my-lg-0",selectedKeys:i?[i]:[],children:(0,r.jsx)(l.Menu.Item,{bullet:!0,icon:"Bootstrap/gear",title:"\u6A21\u5757\u8BBE\u7F6E",url:"/modules/".concat(e.id,"/settings")},"settings")})]})]})}),(0,r.jsxs)("div",{style:{zIndex:99},className:"position-relative d-flex flex-row flex-row-fluid",children:[(0,r.jsx)("div",{style:{position:"fixed",height:"100vh",width:"1px",zIndex:105},children:(0,r.jsx)(d.Hk.Sidebar.Toggle,{className:"start-0"})}),p.Children.map(w,function(o){return o.props.location.state={module:e,baseUrl:"/modules/"+M},o})]})]})})}var L=T}}]);
