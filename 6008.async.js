"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6008,1201],{51253:function($,M,e){e.d(M,{GP:function(){return v.Z},Hk:function(){return H},xx:function(){return p.x}});var O=e(74958),v=e(5166),p=e(19260),d=e(68400),u=e.n(d),o=e(62435),b=e(93967),r=e.n(b),T=e(94589),L=e(97857),f=e.n(L),z=e(46027),I=e(42687),D=e(10811),P=e(5574),C=e.n(P),s=e(96486),t=e(86074),n={aside:{minimize:!1,width:280}},i=o.createContext({state:n,dispatch:function(){}}),S=function(a){return a.AsideToggle="ASIDE_TOGGLE",a.AsideWidth="ASIDE_WIDTH",a}({});function A(a,m){switch(m.type){case"ASIDE_TOGGLE":return a.aside.minimize=!a.aside.minimize,f()({},a);case"ASIDE_WIDTH":return a.aside.width=m.payload,f()({},a);default:throw new Error}}var y=function(m){var h=(0,o.useReducer)(A,(0,s.cloneDeep)(n)),j=C()(h,2),x=j[0],N=j[1];return(0,t.jsx)(i.Provider,{value:{state:x,dispatch:N},children:m.children})},c=function(){return(0,o.useContext)(i)},E=e(65495);function l(a){var m=c(),h=m.dispatch,j=m.state.aside.minimize,x=(0,o.useCallback)(function(){h({type:S.AsideToggle})},[h]);return(0,t.jsx)(D.Button,{style:f()({marginBottom:"1.35rem",zIndex:105},a.style),onClick:x,activeColor:"primary",className:r()("micro-app-aside-toggle","btn-icon bg-body btn-color-gray-700 rounded-2 position-absolute translate-middle bottom-0 shadow-sm d-none d-lg-flex",a.className,{active:j}),children:(0,t.jsx)(z.JO,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})}function R(a){var m=a.className,h=a.header,j=a.children,x=a.collapsible,N=x===void 0?!0:x,W=a.width,B=W===void 0?280:W,K=(0,I.$Y)(),G=c(),Z=G.dispatch;return(0,o.useEffect)(function(){K.aside.width(B+100),Z({type:S.AsideWidth,payload:B})},[K.aside,Z,B]),(0,t.jsxs)("div",{className:r()("app-aside aside",m),children:[(0,t.jsx)(E.Z,{children:(0,t.jsx)(v.Z,{header:h,resizeable:!0,className:"app-sidebar",children:j})}),N&&(0,t.jsx)(l,{className:"start-100 end-0"})]})}R.Toggle=l;var U=R,w,F=T.ZP.div(w||(w=u()([`
  --root-aside-width: `,`;
  --met-aside-width: `,`;
`])),function(a){return a.minimize?"100px":"".concat(a.width,"px")},function(a){return a.minimize?"100px":"".concat(a.width,"px")});function _(a){var m=a.children,h=a.className,j=c(),x=j.state.aside,N=x.minimize,W=x.width,B=(0,o.useCallback)(function(K){K.preventDefault()},[]);return(0,t.jsx)(F,{minimize:N,width:W,className:r()("micro-app-container page-full-content",h,{"aside-minimize":N}),onContextMenu:B,children:m})}function g(a){var m=a.children,h=a.className;return(0,t.jsx)(y,{children:(0,t.jsx)(_,{className:h,children:m})})}g.Sidebar=U;var H=g},42687:function($,M,e){e.d(M,{$Y:function(){return z},BK:function(){return D},aM:function(){return C}});var O=e(5574),v=e.n(O),p=e(97857),d=e.n(p),u=e(62435),o=e(86074),b=u.createContext({getState:function(){return{routes:[]}},subscribe:function(){},dispatch:function(){}}),r=function(t,n){return n?n.type==="ASIDE_MINIMIZE"?d()(d()({},t),{},{aside:d()(d()({},t.aside),{},{minimize:!!n.payload})}):n.type==="ASIDE_WIDTH"?d()(d()({},t),{},{aside:d()(d()({},t.aside),{},{width:n.payload})}):n.type==="ASIDE_COLLAPSIBLE"?d()(d()({},t),{},{aside:d()(d()({},t.aside),{},{collapsible:n.payload})}):t:t},T=function(t){return d()({},t)};function L(s){var t=(0,u.useReducer)(r,s,T),n=v()(t,2),i=n[0],S=n[1],A=(0,u.useState)([]),y=v()(A,1),c=y[0],E=function(H){return function(){var a=c.indexOf(H);a>-1&&c.splice(a,1)}},l=(0,u.useCallback)(function(g){return c.unshift(g),E(g)},[c]),R=(0,u.useCallback)(function(){c.forEach(function(g){return g()})},[c]),U={getState:function(){return i},dispatch:S,subscribe:l},w=(0,u.useState)(U),F=v()(w,1),_=F[0];return(0,u.useEffect)(function(){_.getState=function(){return i},R()},[i]),_}var f=function(t,n){return t===n};function z(){var s=(0,u.useContext)(b),t=(0,u.useRef)({aside:{get state(){return s.getState().aside},width:function(i){s.dispatch({type:"ASIDE_WIDTH",payload:i})},minimize:function(i){s.dispatch({type:"ASIDE_MINIMIZE",payload:i})},collapsible:function(i){s.dispatch({type:"ASIDE_COLLAPSIBLE",payload:i})}}});return t.current}function I(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,n=(0,u.useContext)(b),i=(0,u.useReducer)(function(l){return l+1},0),S=v()(i,2),A=S[1],y=(0,u.useRef)(),c=s(n.getState());function E(){var l=s(n.getState());t(l,y.current)||(y.current=l,A())}return(0,u.useEffect)(function(){return n.subscribe(E)},[]),c}function D(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;return I(s,t)}function P(){var s=useContext(b);return s.dispatch}function C(s){var t=s.children,n=s.state,i=L(n);return(0,u.useMemo)(function(){return(0,o.jsx)(b.Provider,{value:i,children:t})},[t,i])}},25936:function($,M,e){e.r(M),e.d(M,{default:function(){return L}});var O=e(5574),v=e.n(O),p=e(62435),d=e(96974),u=e(51253),o=e(10811),b=e(70694),r=e(86074);function T(f){var z=f.children,I=f.location,D=f.match.params.id,P=(0,b.k$)({variables:{id:D},fetchPolicy:"cache-and-network"}),C=P.data,s=C===void 0?{}:C,t=P.loading,n=s.module,i=(0,p.useMemo)(function(){var l=(0,d.LX)(I.pathname,{path:"/modules/:id/:feat",exact:!1,strict:!0});return l?l.params.feat:""},[I.pathname]),S=(0,p.useState)(i),A=v()(S,2),y=A[0],c=A[1];(0,p.useEffect)(function(){i&&c(i)},[i]);var E=(0,p.useCallback)(function(l){console.log("selectedKey",l.key),c(l.key)},[]);return(0,r.jsx)(u.Hk,{className:"module-view-app",loading:t,children:n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Hk.Sidebar,{className:"module-view-app-sidebar",collapsible:!1,width:216,children:(0,r.jsxs)(o.BlockUI,{zIndex:10,className:"mt-5 p-5",overlayClassName:"bg-white bg-opacity-25",loading:!1,children:[(0,r.jsx)("div",{className:"pb-5",children:(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)(o.Symbol.Avatar,{alt:"\u5565\u5730\u65B9",className:"me-5",size:40}),(0,r.jsxs)("div",{className:"flex-grow-1",children:[(0,r.jsx)("a",{className:"text-dark fw-bolder text-hover-primary fs-6",children:n.name}),(0,r.jsx)("span",{className:"text-muted d-block fw-bold fs-8",dangerouslySetInnerHTML:{__html:n.description||"&nbsp;"}})]})]})}),(0,r.jsxs)("div",{className:"module-view-app-sidebar__menu_container",children:[(0,r.jsxs)(o.Menu,{fit:!0,accordion:!1,selectable:"AllMenu",className:"menu-title-gray-600 menu-icon-gray-400 menu-state-bg menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 my-5 my-lg-0",selectedKeys:y?[y]:[],onSelect:E,children:[(0,r.jsx)(o.Menu.Item,{bullet:!0,icon:"Fonticon/layers",title:"\u7ED3\u6784\u5B9A\u4E49",url:"/modules/".concat(n.id,"/schema")},"schema"),(0,r.jsx)(o.Menu.Item,{bullet:!0,icon:"Fonticon/alignment-right",title:"\u5185\u5BB9\u7BA1\u7406",url:"/modules/".concat(n.id,"/content")},"content"),(0,r.jsx)(o.Menu.Item,{bullet:!0,icon:"Fonticon/attachments",title:"\u9759\u6001\u8D44\u6E90",url:"/modules/".concat(n.id,"/assets")},"assets")]}),(0,r.jsx)(o.Menu,{fit:!0,accordion:!1,className:"menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-bg menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 my-5 my-lg-0",selectedKeys:i?[i]:[],children:(0,r.jsx)(o.Menu.Item,{bullet:!0,icon:"Bootstrap/gear",title:"\u6A21\u5757\u8BBE\u7F6E",url:"/modules/".concat(n.id,"/settings")},"settings")})]})]})}),(0,r.jsxs)("div",{style:{zIndex:99},className:"position-relative d-flex flex-row flex-row-fluid",children:[(0,r.jsx)("div",{style:{position:"fixed",height:"100vh",width:"1px",zIndex:105},children:(0,r.jsx)(u.Hk.Sidebar.Toggle,{className:"start-0"})}),p.Children.map(z,function(l){return l.props.location.state={module:n,baseUrl:"/modules/"+D},l})]})]})})}var L=T}}]);
