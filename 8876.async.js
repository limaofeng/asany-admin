"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8876],{58876:function(O,D,r){r.r(D);var u=r(49817),A=r(85947),a=r(86074);function $(i){var p,f=i.isLast,h=i.route,s=i.url,t=i.params,M=(0,A.zR)({variables:{id:t.id}}),F=M.data,j=M.loading;return(0,a.jsx)(u.Z,{className:i.className,href:f?void 0:s,children:j?(0,a.jsx)(a.Fragment,{children:"\u52A0\u8F7D\u4E2D..."}):(0,a.jsx)(a.Fragment,{children:F==null||(p=F.app)===null||p===void 0?void 0:p.title})},h.id)}D.default=$},85947:function(O,D,r){r.d(D,{u7:function(){return u.u7},pM:function(){return u.pM},dP:function(){return u.dP},zR:function(){return u.zR},bo:function(){return u.bo},CF:function(){return u.CF},hT:function(){return u.hT},X4:function(){return u.X4},rq:function(){return u.rq},qb:function(){return u.qb},a$:function(){return u.a$},mp:function(){return u.mp},WE:function(){return u.WE},HC:function(){return u.HC},cT:function(){return F},Hr:function(){return W},r3:function(){return u.r3},bI:function(){return u.bI},A6:function(){return u.A6},LV:function(){return u.LV}});var u=r(10557),A=r(15009),a=r.n(A),$=r(99289),i=r.n($),p=r(5574),f=r.n(p),h=r(62435),s=r(10811),t=r(86074);function M(e,m){var o,C=(0,u.rz)({variables:{id:e==null?void 0:e.id},refetchQueries:[{query:u.dP,variables:{id:e==null||(o=e.application)===null||o===void 0?void 0:o.id}}]}),R=f()(C,1),d=R[0],y=(0,h.useCallback)(i()(a()().mark(function T(){var b;return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,s.Modal.confirm({title:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u8DEF\u7531\u5417\uFF1F",content:(0,t.jsxs)(t.Fragment,{children:["\u60A8\u5373\u5C06\u5220\u9664\u201C",(0,t.jsx)("strong",{children:e.name}),"\u201D\u3002\u5220\u9664\u64CD\u4F5C\u4E0D\u53EF\u9006\u8F6C\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF0C\u60A8\u786E\u5B9A\u5220\u9664\u5417\uFF1F"]}),okText:"\u5220 \u9664",okClassName:"btn-danger"});case 2:if(b=l.sent,!b.isConfirmed){l.next=8;break}return l.next=6,d();case 6:s.Toast.success("\u5220\u9664\u6210\u529F"),m(e);case 8:case"end":return l.stop()}},T)})),[d,e,m]);return[y]}var F=M,j=r(97857),P=r.n(j),L=r(12708);function U(e,m){var o,C,R,d=s.Form.useForm(),y=(0,h.useState)(!1),T=f()(y,2),b=T[0],c=T[1],l=(0,u.X4)({fetchPolicy:"no-cache",refetchQueries:[{query:u.dP,variables:{id:e==null||(o=e.application)===null||o===void 0?void 0:o.id}}]}),z=f()(l,1),I=z[0],Q=(0,u.LV)({fetchPolicy:"no-cache",refetchQueries:[{query:u.dP,variables:{id:e==null||(C=e.application)===null||C===void 0?void 0:C.id}}]}),H=f()(Q,1),S=H[0],K=(0,h.useMemo)(function(){return e!=null&&e.id?i()(a()().mark(function B(){var v,E,g;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c(!0),n.prev=1,n.next=4,d.validateFields();case 4:return v=n.sent,n.next=7,s.Toast.promise((0,L.gw)(S({variables:{id:e.id,input:P()({},v)}}),350),{pending:"\u63D0\u4EA4\u4E2D...",success:{render:function(){return(0,t.jsxs)(t.Fragment,{children:["\u8DEF\u7531 ",(0,t.jsx)("strong",{children:v.name})," \u4FDD\u5B58\u6210\u529F"]})}},error:"\u63D0\u4EA4\u51FA\u9519"},{duration:2e3,placement:"top-center"});case 7:E=n.sent,g=E.data,m(g.updateRoute),c(!1),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),c(!1);case 16:case"end":return n.stop()}},B,null,[[1,13]])})):i()(a()().mark(function B(){var v,E,g;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c(!0),n.prev=1,n.next=4,d.validateFields();case 4:return v=n.sent,n.next=7,s.Toast.promise((0,L.gw)(I({variables:{input:P()(P()({},v),{},{application:e.application.id})}}),350),{pending:"\u63D0\u4EA4\u4E2D...",success:{render:function(){return(0,t.jsxs)(t.Fragment,{children:["\u8DEF\u7531 ",(0,t.jsx)("strong",{children:v.name})," \u65B0\u589E\u6210\u529F"]})}},error:"\u63D0\u4EA4\u51FA\u9519"},{duration:2e3,placement:"top-center"});case 7:E=n.sent,g=E.data,m(g.createRoute),c(!1),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),c(!1);case 16:case"end":return n.stop()}},B,null,[[1,13]])}))},[I,e==null||(R=e.application)===null||R===void 0?void 0:R.id,e==null?void 0:e.id,d,m,S]);return[K,{form:d,submitting:b}]}var W=U}}]);
