"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4958],{74958:function(q,C,e){e.r(C),e.d(C,{default:function(){return Ze}});var N=e(5574),S=e.n(N),O=e(97857),v=e.n(O),f=e(13769),Z=e.n(f),L=e(68400),j=e.n(L),n=e(62435),z=e(8330),$=e(96974),w=e(44173),I=e(12845),V=e(46810),_=e(93967),o=e.n(_),Y=e(11290),P=e(94589),B=e(12708),U=e(60665),F=e(35005),p=e(46027),J=e(50603),W=e(10582),G=e(79817),re=e(89424),ce=e(8606),de=e(65495),a=e(86074);function me(t,r){var l=t.url,c=l===void 0?"/":l,d=t.logo,u=d===void 0?"/assets/media/logos/demo7.svg":d;return(0,a.jsx)("div",{ref:r,className:"aside-logo d-none d-lg-flex flex-column align-items-center flex-column-auto py-10",children:(0,a.jsx)("a",{href:c,children:(0,a.jsx)("img",{alt:"Logo",src:u,className:"h-30px"})})})}var ve=n.forwardRef(me),fe=ve,oe=e(5166),D=e(42687),he=n.forwardRef(function(t,r){var l,c=t.menus,d=t.activeKey,u=t.onSelect,y=(0,n.useState)(!1),g=S()(y,2),E=g[0],m=g[1],T=(0,n.useState)(!1),x=S()(T,2),b=x[0],M=x[1],H=(0,W.ot)(),h=H.data,Q=(0,J.ZC)("cn.asany.ui.admin.user.UserAccountMenu"),i=(0,J.ZC)("cn.asany.ui.admin.user.Notifications"),R=(0,n.useCallback)(function(){m(!1)},[]),K=(0,n.useCallback)(function(){M(!1)},[]),ee=function(ne){return function(){u(ne.id)}};return(0,a.jsxs)("div",{ref:r,className:"aside-footer d-flex flex-column align-items-center flex-column-auto",children:[c.map(function(A){return(0,a.jsx)("div",{className:"d-flex align-items-center mb-2",children:(0,a.jsx)(G.Tooltip,{title:A.name,placement:"right",children:(0,a.jsx)("div",{onClick:ee(A),className:o()("btn btn-icon btn-active-color-primary btn-color-gray-400 btn-active-light",{active:d===A.id}),title:A.name,children:(0,a.jsx)(p.ZP,{name:A.icon,className:"svg-icon-2 svg-icon-lg-1"})})})},A.id)}),(0,a.jsx)("div",{className:"d-flex align-items-center mb-2",children:(0,a.jsx)("div",{className:"btn btn-icon btn-active-color-primary btn-color-gray-400 btn-active-light",children:(0,a.jsx)(re.Z,{placement:"top-start",zIndex:100,visible:b,onVisibleChange:M,arrowProps:{style:{display:"none"}},overlayClassName:"overlay-zero-gap overlay-no-arrow overlay-no-border",content:(0,a.jsx)(i,{close:K,visible:b}),children:(0,a.jsx)(G.Tooltip,{title:"\u901A\u77E5",placement:"right",children:(0,a.jsx)(p.ZP,{name:"Duotune/gen007",className:"svg-icon-2 svg-icon-lg-1"})})})})}),(0,a.jsx)("div",{className:"d-flex align-items-center mb-10",children:(0,a.jsx)(re.Z,{placement:"top-start",zIndex:100,visible:E,onVisibleChange:m,arrowProps:{style:{display:"none"}},overlayClassName:"overlay-zero-gap overlay-no-arrow",content:(0,a.jsx)(Q,{close:R}),children:(0,a.jsx)(G.Tooltip,{title:"\u7528\u6237\u8D44\u6599",placement:"right",children:(0,a.jsx)(G.Symbol.Avatar,{size:40,src:(0,B.Fz)(h==null||(l=h.avatar)===null||l===void 0?void 0:l.id,{size:"300x300"}),className:"cursor-pointer",alt:h==null?void 0:h.name})})})})]})}),X=["/drive","/calendar","/contacts","/mail"],xe={"drawer drawer-start":{maxWidth:992}};function se(t){var r=t.logo,l=t.menuRender,c=t.activeKey,d=t.onSelect,u=(0,n.useRef)(null),y=(0,n.useRef)(null),g=(0,n.useRef)(null),E=(0,n.useRef)(null);(0,ce.useScroll)(E,u,[y,g]);var m=(0,D.BK)(function(s){return s.aside.collapsible}),T=(0,D.BK)(function(s){return s.aside.minimize}),x=(0,D.BK)(function(s){return s.aside.menus||[]}),b=(0,D.$Y)(),M=(0,n.useCallback)(function(){b.aside.minimize(!T)},[b,T]),H=(0,n.useCallback)(function(s){d(s)},[d]),h=(0,n.useMemo)(function(){return x.filter(function(s){return X.includes(s.path)}).filter(function(s){return!s.hideInMenu}).sort(function(s,Ie){return X.findIndex(function(te){return te===s.path})-X.findIndex(function(te){return te===Ie.path})})},[x]),Q=(0,n.useMemo)(function(){return x.filter(function(s){return!X.includes(s.path)}).filter(function(s){return!s.hideInMenu})},[x]),i=l===!1,R=(0,W.CN)(xe),K=(0,D.BK)(function(s){return s.aside.drawer}),ee=(0,G.useDrawer)({placement:"left",visible:K}),A=S()(ee,2),ne=A[0],ue=A[1],k=ue.visible,ae=ue.className;(0,n.useEffect)(function(){k!==K&&(b.aside.drawer(k),console.log("drawerVisible",k,K))},[k]);var Le=(0,n.useMemo)(function(){return R["drawer drawer-start"]?ae:ae.split(" ").filter(function(s){return!["drawer","drawer-start"].includes(s)}).join(" ")},[R,ae]);return(0,a.jsxs)("div",{className:o()("aside",Le,{"aside-extended":!T,"drawer-on":K,"no-secondary":i}),children:[ne,(0,a.jsxs)("div",{className:"aside-primary d-flex flex-column align-items-lg-center flex-row-auto",children:[(0,a.jsx)(fe,{ref:y,url:"/",logo:r}),(0,a.jsx)("div",{ref:u,className:"aside-nav d-flex flex-column align-items-center flex-column-fluid w-100 pt-5 pt-lg-0",children:(0,a.jsx)("div",{ref:E,className:"hover-scroll-overlay-y mb-5 scroll-ms px-5",children:(0,a.jsx)(U.Z,{onSelect:H,activeKey:c,className:"flex-column",as:"ul",children:Q.map(function(s){return(0,a.jsx)(U.Z.Item,{className:"mb-2",as:"li",children:(0,a.jsx)(G.Tooltip,{title:s.name,placement:"right",children:(0,a.jsx)(U.Z.Link,{eventKey:s.id,className:"btn btn-icon btn-active-color-primary btn-color-gray-400 btn-active-light",children:s.icon&&(0,a.jsx)(p.ZP,{name:s.icon,className:"svg-icon-2x"})})})},s.id)})})})}),(0,a.jsx)(he,{ref:g,menus:h,onSelect:H,activeKey:c})]}),!i&&(0,a.jsx)(de.Z,{children:l}),!i&&m&&(0,a.jsx)(F.Z,{style:{marginBottom:"1.35rem",zIndex:10},onClick:M,className:o()("btn-icon bg-body btn-color-gray-700 rounded-2 btn-active-primary position-absolute translate-middle start-100 end-0 bottom-0 shadow-sm d-none d-lg-flex",{active:T}),children:(0,a.jsx)(p.ZP,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})]})}se.Workspace=oe.Z;var ye=se,ge=e(19260);function je(t){var r=t.menu,l=t.component,c=(0,J.ZC)(l.template,l.blocks);return(0,a.jsx)(c,{menu:r})}var pe=je;function Me(t){return t.component?(0,a.jsx)(pe,{menu:t,component:t.component}):(0,a.jsx)(oe.Z,{children:(0,a.jsx)(ge.Z,{title:t.name,menus:t.children})})}var Re=Me,Ne=function(r){var l,c,d,u={};return r!=null&&r.hideFooter&&(u.footerRender=!1),(r==null?void 0:r.layout)===!1?(u.pure=!0,u):(r!=null&&(l=r.layout)!==null&&l!==void 0&&l.hideMenu&&(u.menuRender=!1),r!=null&&(c=r.layout)!==null&&c!==void 0&&c.hideFooter&&(u.footerRender=!1),r!=null&&(d=r.layout)!==null&&d!==void 0&&d.hideNav&&(u.headerRender=!1),u)},Se=Ne,Ee=["children","pure","activeKey","onSelect","menuRender"],le,ie=!1,be=P.ZP.div(le||(le=j()([`
  --root-aside-width: `,`;
  --met-aside-width: `,`;
`])),function(t){return t.minimize?"100px":"".concat(t.width,"px")},function(t){return t.minimize?"100px":"".concat(t.width,"px")});function Ke(t){var r=t.children,l=t.menuRender,c=t.activeKey,d=t.onSelect,u=(0,D.BK)(function(m){return m.aside.width}),y=(0,D.BK)(function(m){return m.aside.minimize}),g=(0,D.BK)(function(m){return m.logo}),E=o()("header-fixed header-tablet-and-mobile-fixed aside-fixed",{"aside-secondary-enabled":l!==!1});return(0,n.useEffect)(function(){return E.split(" ").forEach(function(m){document.body.classList.add(m)}),function(){E.split(" ").forEach(function(m){console.log("menuRender remove",m),document.body.classList.remove(m)})}},[E]),(0,a.jsx)(be,{width:u,minimize:y||l===!1,"data-kt-aside-minimize":y||l===!1?"on":"off",className:"theme-metronic",children:(0,a.jsxs)("div",{className:"d-flex flex-column flex-root",children:[(0,a.jsx)(w.Ix,{}),(0,a.jsxs)("div",{className:"page d-flex flex-row flex-column-fluid",children:[(0,a.jsx)(ye,{menuRender:l,onSelect:d,activeKey:c,logo:g}),r]})]})})}function Ae(t){var r=t.children,l=t.pure,c=t.activeKey,d=t.onSelect,u=t.menuRender,y=Z()(t,Ee);return l?r:(0,a.jsx)(Ke,v()(v()({},y),{},{activeKey:c,onSelect:d,menuRender:u,children:r}))}function Ce(t){var r=(0,I.useRouteProps)(),l=(0,I.useLocation)(),c=(0,$.s0)(),d=(0,I.useSelectedRoutes)(),u=(0,I.useApp)(),y=u.menus,g=(0,n.useRef)({}),E=(0,n.useReducer)(function(i){return i+1},0),m=S()(E,2),T=m[1],x=(0,n.useMemo)(function(){return B.G_(y.map(function(i){return v()(v()({},i),{},{key:i.id,routes:[]})}),{idKey:"id",childrenKey:"routes",pidKey:"parent.id",sort:function(R,K){return R.index-K.index}})},[y]),b=r,M=(0,n.useMemo)(function(){return b?Se(b):{}},[b]),H=(0,n.useCallback)(function(i){g.current.activeMenuKey=i;var R=x.find(function(K){return K.id===i});R.path?c(R.path):T()},[I.history,x]),h=(0,n.useMemo)(function(){var i=(0,V.nG)(l.pathname,x,!0);return i[0]},[l.pathname,x]);(0,n.useEffect)(function(){!h||g.current.activeMenuKey===h.id||(g.current.activeMenuKey=h.id,T())},[h]);var Q=(0,n.useMemo)(function(){if(M.menuRender===!1)return!1;if(M.menuRender)return M.menuRender;var i=h;return!i||!i.component&&!(i.children||[]).length?!1:Re(i)},[M.menuRender,h]);return(0,a.jsxs)(D.aM,{state:{logo:"/assets/media/logos/coffee_machine_1.svg",menus:x,routes:d.map(function(i){return i.route}),aside:{menus:x,minimize:!1,pure:M.pure,width:200}},children:[(0,a.jsx)(Ae,v()(v()({},t),{},{activeKey:g.current.activeMenuKey,onSelect:H,menuRender:Q,pure:M.pure,children:(0,a.jsx)($.j3,{})})),ie,ie&&(0,a.jsx)(z.l,{keys:["control","shift","command","c"],onClickElement:function(R){console.debug(R)}})]})}var Ze=Ce},65495:function(q,C,e){var N=e(62435),S=e(86074);function O(f){var Z=f.children;return(0,S.jsx)("div",{className:"aside-secondary d-flex flex-row-fluid",children:Z})}var v=N.memo(O);C.Z=v},5166:function(q,C,e){e.d(C,{Z:function(){return _}});var N=e(62435),S=e(93967),O=e.n(S),v=e(1861),f=e(12845),Z=e(46810),L=e(76525),j=e(86074);function n(o){if(o.type==="SECTION")return(0,j.jsx)(L.Z.Section,{title:o.name},o.id);if(o.type==="URL")return(0,j.jsx)(L.Z.Item,{bullet:!0,icon:o.icon,title:o.name,url:o.path},o.id);if(o.type==="SEPARATOR")return(0,j.jsx)(L.Z.Separator,{},o.id);if(o.type==="MENU")return(0,j.jsx)(L.Z.SubMenu,{bullet:!0,icon:o.icon,title:o.name,children:(o.routes||[]).map(n)},o.id);throw new Error("\u4E0D\u652F\u6301\u7684 MenuType"+o.type)}var z=[];function $(o){var Y=o.menus,P=Y===void 0?z:Y,B=(0,f.useLocation)(),U=(0,N.useMemo)(function(){return(0,Z.nG)(B.pathname,P,!0)},[P,B.pathname]),F=U.map(function(p){return p.key});return(0,j.jsx)(L.Z,{className:"menu-fit menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 px-6 my-5 my-lg-0",selectedKeys:F,children:P.filter(function(p){return!p.hideInMenu}).map(n)})}var w=$,I=e(42687);function V(o){var Y=o.className,P=o.width,B=P===void 0?280:P,U=o.children,F=o.collapsible,p=F===void 0?!0:F,J=o.header,W=(0,I.$Y)();return(0,N.useEffect)(function(){W.aside.width(B+100)},[W.aside,B]),(0,N.useEffect)(function(){W.aside.collapsible(p)},[W.aside,p]),(0,j.jsxs)("div",{className:O()("aside-workspace",Y),children:[J,(0,j.jsx)(v.E,{className:"d-flex h-100 flex-column custom-scrollbar",options:{scrollbars:{autoHide:"scroll"}},children:U})]})}V.MenuBar=w;var _=V},19260:function(q,C,e){e.d(C,{x:function(){return Z}});var N=e(62435),S=e(12845),O=e(46810),v=e(76525),f=e(86074);function Z(n){if(n.type==="SECTION")return(0,f.jsx)(v.Z.Section,{children:n.name},n.id);if(n.type==="URL")return(0,f.jsx)(v.Z.Item,{bullet:!0,icon:n.icon,title:n.name,url:n.path},n.id);if(n.type==="SEPARATOR")return(0,f.jsx)(v.Z.Separator,{});if(n.type==="MENU")return(0,f.jsx)(v.Z.SubMenu,{bullet:!0,icon:n.icon,title:n.name,children:(n.children||[]).map(Z)},n.id);throw new Error("\u4E0D\u652F\u6301\u7684 MenuType"+n.type)}function L(n){var z=n.menus,$=n.title,w=(0,S.useLocation)(),I=(0,N.useMemo)(function(){return(0,O.nG)(w.pathname,z,!0)},[z,w.pathname]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"m-0",children:(0,f.jsx)("h1",{className:"text-gray-800 fw-bold mb-6 mx-5",children:$})}),(0,f.jsx)(v.Z,{className:"menu-fit menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 px-6 my-5 my-lg-0",selectedKeys:I.map(function(V){return V.key}),children:z.map(Z)})]})}var j=N.memo(L);C.Z=j}}]);
