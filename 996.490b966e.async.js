(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[996],{91896:function(Z,O,n){"use strict";n.d(O,{Z:function(){return u}});function u(){return u=Object.assign?Object.assign.bind():function(m){for(var g=1;g<arguments.length;g++){var B=arguments[g];for(var t in B)Object.prototype.hasOwnProperty.call(B,t)&&(m[t]=B[t])}return m},u.apply(this,arguments)}},92957:function(Z,O,n){"use strict";n.d(O,{ry:function(){return e},Tk:function(){return N},RE:function(){return M},x:function(){return Y}});var u=n(11849),m=n(20310),g=n(76058),B=n(64718),t=n(21919),s,L,H,z,f={},a=(0,g.Ps)(s||(s=(0,m.Z)([`
    fragment OrganizationProfile on Organization {
  id
  code
  name
  logo
  description
  email
  url
  location {
    province
    city
    district
    street
  }
}
    `]))),e=(0,g.Ps)(L||(L=(0,m.Z)([`
    query organization($id: ID!) {
  organization(id: $id) {
    ...OrganizationProfile
  }
}
    `,""])),a);function N(C){var I=(0,u.Z)((0,u.Z)({},f),C);return B.a(e,I)}function J(C){var I=_objectSpread(_objectSpread({},f),C);return Apollo.useLazyQuery(e,I)}var S=(0,g.Ps)(H||(H=(0,m.Z)([`
    mutation updateOrganizationProfile($id: ID!, $input: UpdateOrganizationProfileUpdateInput!) {
  updateOrganizationProfile(id: $id, input: $input) {
    ...OrganizationProfile
  }
}
    `,""])),a);function M(C){var I=(0,u.Z)((0,u.Z)({},f),C);return t.D(S,I)}var P=(0,g.Ps)(z||(z=(0,m.Z)([`
    mutation renameOrganizationCode($id: ID!, $code: String!) {
  renameOrganizationCode(id: $id, code: $code) {
    ...OrganizationProfile
  }
}
    `,""])),a);function Y(C){var I=(0,u.Z)((0,u.Z)({},f),C);return t.D(P,I)}},50996:function(Z,O,n){"use strict";n.r(O),n.d(O,{default:function(){return w}});var u=n(39428),m=n(11849),g=n(91896),B=n(3182),t=n(2824),s=n(67294),L=n(27375),H=n.n(L),z=n(94184),f=n.n(z),a=n(74200),e=n(85893);function N(d){var i=d.data,o=d.visible,r=d.onCancel,x=(0,s.useState)(!0),c=(0,t.Z)(x,2),Q=c[0],E=c[1],h=(0,s.useCallback)(function(l,y){E(y.code!=(i==null?void 0:i.code))},[i]),D=(0,s.useCallback)(function(){},[]);return(0,e.jsxs)(a.u_,{dialogClassName:f()("delete-organization-modal w-450px"),visible:o,onCancel:r,title:"\u786E\u5B9A\u5220\u9664\u7EC4\u7EC7\u5417\uFF1F",footer:!1,children:[(0,e.jsx)(a.bZ,{type:"danger",message:"\u8BF7\u4ED4\u7EC6\u9605\u8BFB\u4EE5\u4E0B\u4E8B\u9879"}),(0,e.jsxs)("div",{className:"inner-body",children:[(0,e.jsxs)("p",{children:["\u60A8\u5373\u5C06\u6C38\u4E45\u5220\u9664\u7EC4\u7EC7: ",(0,e.jsx)("b",{children:i==null?void 0:i.code}),"\uFF0C\u4EE5\u53CA\u4E0E\u7EC4\u7EC7\u5173\u8054\u7684\u6240\u6709\u5185\u5BB9\u3002\u4E00\u65E6\u786E\u8BA4 \u5220\u9664\uFF0C\u6B64\u64CD\u4F5C\u4FBF\u65E0\u6CD5\u64A4\u9500\u548C\u6062\u590D\u3002"]}),(0,e.jsx)(a.Z0,{className:"my-5"}),(0,e.jsxs)(a.l0,{onFinish:D,onValuesChange:h,children:[(0,e.jsx)(a.l0.Item,{className:"mb-5",name:"code",label:"\u8F93\u5165\u7EC4\u7EC7\u4EE3\u7801\u4EE5\u786E\u8BA4\u5220\u9664",children:(0,e.jsx)(a.II,{solid:!0})}),(0,e.jsx)(a.zx,{htmlType:"submit",className:"confirm-delete-account",disabled:Q,variant:"light-danger",children:"\u5220\u9664\u7EC4\u7EC7"})]})]})]})}var J=N,S=n(92957),M=n(25496);function P(d){var i=d.data,o=d.visible,r=d.onCancel,x=(0,s.useState)(1),c=(0,t.Z)(x,2),Q=c[0],E=c[1],h=(0,S.x)(),D=(0,t.Z)(h,2),l=D[0],y=D[1].loading,b=(0,s.useCallback)(function(){var j=(0,B.Z)((0,u.Z)().mark(function A(k){return(0,u.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,l({variables:{id:i.id,code:k.code}});case 2:return a.FN.success("\u7EC4\u7EC7\u4EE3\u7801\u4FEE\u6539\u6210\u529F",3e3,{placement:"top-center",progressBar:!0}),F.next=5,(0,M._v)(300);case 5:E(1),r();case 7:case"end":return F.stop()}},A)}));return function(A){return j.apply(this,arguments)}}(),[i,r,l]),v=(0,s.useCallback)((0,B.Z)((0,u.Z)().mark(function j(){return(0,u.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,(0,M._v)(300);case 2:E(2);case 3:case"end":return k.stop()}},j)})),[]),p=(0,s.useCallback)(function(){E(1),r()},[r]);return(0,e.jsx)(a.u_,{dialogClassName:f()("rename-organization-modal w-450px",{"waiting-to-continue":Q==1}),visible:o,onCancel:p,title:Q==1?"\u786E\u5B9A\u4FEE\u6539\u7EC4\u7EC7\u4EE3\u7801\u5417\uFF1F":"\u8F93\u5165\u65B0\u7684\u7EC4\u7EC7\u4EE3\u7801",footer:!1,children:Q==1?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(a.bZ,{type:"danger",message:"\u8BF7\u4ED4\u7EC6\u9605\u8BFB\u4EE5\u4E0B\u6CE8\u610F\u4E8B\u9879, \u4E86\u89E3\u53EF\u80FD\u9020\u6210\u7684\u526F\u4F5C\u7528"}),(0,e.jsxs)("div",{className:"inner-body",children:[(0,e.jsx)("ul",{className:"mb-6 ms-6",children:(0,e.jsx)("li",{children:"\u4FEE\u6539\u7EC4\u7EC7\u4EE3\u7801\u53EF\u80FD\u9700\u8981\u51E0\u5206\u949F\u624D\u80FD\u5B8C\u6210\u3002"})}),(0,e.jsx)(a.zx,{onClick:v,className:"confirm-to-continue",variant:"light-danger",children:"\u6211\u660E\u767D\u4E86\uFF0C\u7EE7\u7EED\u4FEE\u6539"})]})]}):(0,e.jsxs)(a.l0,{onFinish:b,initialValues:i,children:[(0,e.jsxs)("div",{className:"mb-5",children:[(0,e.jsx)(a.l0.Item,{name:"code",rules:[{required:!0,message:"\u7EC4\u7EC7\u4EE3\u7801\u4E0D\u80FD\u4E3A\u7A7A"},{min:6,message:"\u81F3\u5C11\u5F97\u5305\u542B6\u4E2A\u5B57\u7B26"},{pattern:/^[a-zA-Z]\w{5,19}$/,message:"\u7EC4\u7EC7\u4EE3\u7801\u53EA\u80FD\u4E3A\u5B57\u6BCD\u6216\u8005\u6570\u5B57\uFF0C\u800C\u4E14\u5FC5\u987B\u4EE5\u5B57\u6BCD\u5F00\u5934"}],help:"\u7EC4\u7EC7\u4EE3\u7801\u53EA\u80FD\u4E3A\u5B57\u6BCD\u6216\u8005\u6570\u5B57\uFF0C\u800C\u4E14\u5FC5\u987B\u4EE5\u5B57\u6BCD\u5F00\u5934",children:(0,e.jsx)(a.II,{})}),(0,e.jsx)("p",{className:"text-small mt-2",children:"\u8F93\u5165\u4E00\u4E2A\u65B0\u7684\u7EC4\u7EC7\u4EE3\u7801"})]}),(0,e.jsx)(a.zx,{htmlType:"submit",loading:y,className:"change-name-save",children:"\u4FEE\u6539\u7EC4\u7EC7\u4EE3\u7801"})]})})}var Y=P,C=n(18071);function I(d){var i=d.data,o=(0,s.useState)(!1),r=(0,t.Z)(o,2),x=r[0],c=r[1],Q=(0,s.useState)(!1),E=(0,t.Z)(Q,2),h=E[0],D=E[1],l=(0,s.useCallback)(function(){c(!0)},[]),y=(0,s.useCallback)(function(){c(!1)},[]),b=(0,s.useCallback)(function(){D(!0)},[]),v=(0,s.useCallback)(function(){D(!1)},[]);return(0,e.jsxs)(a.Zb,{className:"mb-5 mb-xl-10",children:[(0,e.jsx)(a.Zb.Header,{children:(0,e.jsx)(a.Zb.Title,{className:"text-danger",children:"\u5371\u9669\u533A\u57DF"})}),(0,e.jsx)(a.Zb.Body,{children:(0,e.jsxs)("div",{className:"w-800px danger-zone rounded border border-danger",children:[(0,e.jsxs)("div",{className:"p-5 border-bottom border-secondary d-flex align-items-center",children:[(0,e.jsxs)("div",{className:"flex-row-fluid",children:[(0,e.jsx)("div",{className:"fw-bolder",children:"\u4FEE\u6539\u7EC4\u7EC7\u4EE3\u7801"}),(0,e.jsx)("span",{className:"text-small",children:"\u4FEE\u6539\u7EC4\u7EC7\u4EE3\u7801\u53EF\u80FD\u4F1A\u4EA7\u751F\u610F\u60F3\u4E0D\u5230\u7684\u526F\u4F5C\u7528"})]}),(0,e.jsx)(a.zx,{onClick:l,type:"solid",variant:"danger",children:"\u4FEE\u6539\u7EC4\u7EC7\u4EE3\u7801"}),(0,e.jsx)(Y,{data:i,visible:x,onCancel:y})]}),(0,e.jsxs)("div",{className:"p-5 border-bottom border-secondary d-flex align-items-center",children:[(0,e.jsxs)("div",{className:"flex-row-fluid",children:[(0,e.jsx)("div",{className:"fw-bolder",children:"\u5220\u9664\u7EC4\u7EC7"}),(0,e.jsx)("span",{className:"text-small",children:"\u5E10\u6237\u5220\u9664\u540E\uFF0C\u5C06\u65E0\u6CD5\u6062\u590D\u3002\u8BF7\u8C28\u614E\u64CD\u4F5C"})]}),(0,e.jsx)(a.zx,{onClick:b,type:"solid",variant:"danger",children:"\u5220\u9664\u7EC4\u7EC7"}),(0,e.jsx)(J,{data:i,visible:h,onCancel:v})]})]})})]})}function R(d){var i=d.match,o=a.l0.useForm(),r=(0,S.Tk)({variables:{id:i.params.id}}),x=r.data,c=r.loading,Q=(0,S.RE)({refetchQueries:[{query:S.ry,variables:{id:i.params.id}}]}),E=(0,t.Z)(Q,2),h=E[0],D=E[1].loading,l=x==null?void 0:x.organization;(0,s.useEffect)(function(){!l||o.setFieldsValue(l)},[l,o]);var y=(0,s.useCallback)((0,B.Z)((0,u.Z)().mark(function b(){var v,p;return(0,u.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,o.getFieldsValue();case 2:return v=A.sent,p=(0,g.Z)({},v),A.next=6,h({variables:{id:l==null?void 0:l.id,input:(0,m.Z)({},p)}});case 6:a.FN.success("\u8D44\u6599\u66F4\u65B0\u6210\u529F",3e3,{placement:"bottom-start",progressBar:!0});case 7:case"end":return A.stop()}},b)})),[o,l,h]);return(0,e.jsxs)(C.vs,{className:"page-organization-settings-profile",header:{title:"\u901A\u7528\u8BBE\u7F6E"},footer:!1,children:[(0,e.jsxs)(a.Zb,{className:"mb-5 mb-xl-10",children:[(0,e.jsx)(a.Zb.Header,{children:(0,e.jsx)(a.Zb.Title,{children:"\u901A\u7528\u8BBE\u7F6E"})}),(0,e.jsx)(a.Zb.Body,{children:(0,e.jsxs)(a.bH,{overlayClassName:"bg-white bg-opacity-25",loading:c,children:[(0,e.jsxs)(a.l0,{form:o,className:"mw-800px row d-flex flex-shrink-0 flex-column-reverse flex-md-row",children:[(0,e.jsx)("div",{className:"mw-500px col-12 col-md-8",children:(0,e.jsxs)("div",{className:"mw-400px",children:[(0,e.jsx)(a.l0.Item,{className:"mb-5",name:"name",label:"\u663E\u793A\u540D\u79F0",children:(0,e.jsx)(a.II,{solid:!0})}),(0,e.jsx)(a.l0.Item,{className:"my-5",name:"email",label:"\u90AE\u7BB1",help:"\u7EC4\u7EC7\u8054\u7CFB\u90AE\u7BB1",children:(0,e.jsx)(a.II,{solid:!0})}),(0,e.jsx)(a.l0.Item,{className:"my-5",name:"description",label:"\u63CF\u8FF0",help:"\u8BF7\u7528\u5C11\u4E8E250\u5B57\u7B26\u63CF\u8FF0\u7EC4\u7EC7\u4FE1\u606F",children:(0,e.jsx)(a.II.TextArea,{solid:!0,autoSize:{minRows:4,maxRows:8},showCount:!0,maxLength:250})}),(0,e.jsx)(a.l0.Item,{className:"my-5",name:"url",label:"URL",help:"\u7EC4\u7EC7\u7F51\u5740",children:(0,e.jsx)(a.II,{solid:!0})}),(0,e.jsx)(a.l0.Item,{className:"my-5",name:"location",label:"\u6240\u5728\u5730\u533A",children:(0,e.jsx)(a.H6,{ends:function(v){var p=v.path.split("/").filter(function(j){return!!j}).length;return v.type=="city"||p==2},resultType:"object",solid:!0,placeholder:"\u9009\u62E9\u7EC4\u7EC7\u6240\u5728\u7684\u5730\u533A"})})]})}),(0,e.jsx)("div",{className:"col-12 col-md-4",children:(0,e.jsx)("div",{className:"row",children:(0,e.jsx)(a.l0.Item,{className:"mb-5",name:"logo",label:"\u7EC4\u7EC7\u6807\u5FD7",help:"\u5141\u8BB8\u7684\u6587\u4EF6\u7C7B\u578B:png, jpg, jpeg",children:(0,e.jsx)(a.gq.Image,{width:125,height:125,space:"7VE4SSrk",crop:{height:300,zoomable:!1,aspectRatio:1},backgroundImage:H()})})})})]}),(0,e.jsx)(a.zx,{loading:D,onClick:y,children:"\u66F4\u65B0\u8D44\u6599"})]})})]}),(0,e.jsx)(I,{data:l})]})}var w=R},27375:function(Z){Z.exports="data:image/png;base64,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"}}]);
