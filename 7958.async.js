"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7958],{58301:function(b,u,i){var g=i(5574),O=i.n(g),h=i(62435),y=i(12845),o=i(38018),c=i(9566),m={total:0,current:1,pageSize:10,totalPages:0,hasNextPage:!1,hasPreviousPage:!1};function P(M,s){var I,l=(0,y.useNavigate)(),_=(0,c.Z)(),v=(0,h.useMemo)(function(){return(s==null?void 0:s.toVariables)&&(s==null?void 0:s.toVariables(_))||{}},[_,s]),U=(0,h.useMemo)(function(){if(!v.orderBy)return{order:"descend",field:"createdAt"};var e=v.orderBy.split("_"),a=O()(e,2),d=a[0],f=a[1];return{order:f==="desc"?"descend":"ascend",field:d}},[v.orderBy]),x=M({fetchPolicy:"cache-and-network",variables:v}),E=x.data,B=x.loading,D=x.previousData,T=x.refetch,r=(0,h.useMemo)(function(){return B?(D==null?void 0:D.result.pageInfo)||m:(E==null?void 0:E.result.pageInfo)||m},[E==null?void 0:E.result.pageInfo.total,B,D==null?void 0:D.result.pageInfo.total]),n=(0,h.useCallback)(function(e,a,d){var f=(s==null?void 0:s.toQuery)&&s.toQuery(v,e,a,d)||"";l(location.pathname+"?"+o.stringify(f),{replace:!0})},[history,location.pathname,(I=v.filter)===null||I===void 0?void 0:I.name_contains]),t=(E==null?void 0:E.result.edges.map(function(e){return e.node}))||[];return[t,{loading:B,pageInfo:r,sorter:U,onChange:n,refetch:T}]}u.Z=P},9566:function(b,u,i){var g=i(12845),O=i(38018);function h(){var y=(0,g.useLocation)();return O.parse(y.search)}u.Z=h},17958:function(b,u,i){i.r(u);var g=i(15009),O=i.n(g),h=i(99289),y=i.n(h),o=i(5574),c=i.n(o),m=i(62435),P=i(58301),M=i(73588),s=i(10811),I=i(91726),l=i(86074);function _(){var v=(0,P.Z)(I.Ew,{toQuery:function(e,a,d,f){var F,j={};if((F=e.filter)!==null&&F!==void 0&&F.name_contains){var C;j.q=(C=e.filter)===null||C===void 0?void 0:C.name_contains}return f&&(j.orderBy=f.field+"_"+(f.order==="ascend"?"asc":"desc")),j.page=a.current,j},toVariables:function(e){return e.q&&(e.filter={name_contains:e.q},delete e.q),e}}),U=c()(v,2),x=U[0],E=U[1],B=E.loading,D=E.pageInfo,T=E.sorter,r=E.onChange,n=(0,m.useCallback)(function(t){return y()(O()().mark(function e(){return O()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:console.log("ids",t);case 1:case"end":return d.stop()}},e)}))},[]);return(0,l.jsx)(M.vs,{header:{title:"\u8BBE\u5907\u5217\u8868"},children:!D.total&&!B?(0,l.jsx)(s.Card,{className:"mb-5 mb-xl-10",children:(0,l.jsx)(s.Empty,{title:"\u8FD8\u6CA1\u6709\u8BBE\u5907",description:"\u9A6C\u4E0A\u6DFB\u52A0\u901A\u8FC7\u8BBE\u5907\u4E8C\u7EF4\u7801\u6DFB\u52A0\u8BBE\u5907\u5427\uFF01",image:"/assets/media/illustrations/sigma-1/4.png"})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.Card,{className:"mb-5 mb-xl-10",children:(0,l.jsx)(s.Card.Body,{children:(0,l.jsx)(s.BlockUI,{overlayClassName:"bg-white bg-opacity-25",loading:B,children:(0,l.jsx)(s.Table,{hover:!0,rowKey:"id",rowSelection:{type:"checkbox",renderTitle:function(e){return(0,l.jsxs)(l.Fragment,{children:["\u5DF2\u9009\u4E2D",(0,l.jsx)("span",{className:"mx-2",children:e}),"\u4E2A\u8BBE\u5907"]})},toolbar:function(e){return(0,l.jsx)("div",{children:(0,l.jsx)(s.Button,{color:"success",onClick:n(e),variant:!1,children:"\u6279\u91CF\u5220\u9664"})})}},noRowsRenderer:function(){return(0,l.jsx)(s.Empty,{description:"\u5217\u8868\u6570\u636E\u4E3A\u7A7A",image:"/assets/media/illustrations/sigma-1/5.png"})},columns:[{key:"no",title:"\u8D44\u4EA7\u7F16\u53F7",sorter:!0,sortOrder:T.field==="no"?T.order:void 0,width:180},{key:"name",title:"\u8BBE\u5907\u540D\u79F0",sorter:!0,sortOrder:T.field==="name"?T.order:void 0,render:function(e,a){var d;return(0,l.jsxs)("div",{className:"text-gray-700",children:[a==null||(d=a.brand)===null||d===void 0?void 0:d.name," | ",e]})}},{key:"warrantyStatus",title:"\u4FDD\u4FEE\u72B6\u6001",width:80,render:function(e){var a={INACTIVE:"\u672A\u6FC0\u6D3B",ACTIVE:"\u6FC0\u6D3B",EXPIRED:"\u5DF2\u8FC7\u671F",CANCELED:"\u5DF2\u4F5C\u5E9F"};return(0,l.jsx)("div",{className:"text-gray-700",children:a[e]})}},{key:"warrantyEndDate",title:"\u4FDD\u4FEE\u622A\u6B62\u65E5\u671F",width:120,render:function(e){return(0,l.jsx)("div",{className:"text-gray-700",children:e})}},{key:"address",title:"\u8BBE\u5907\u4F4D\u7F6E",width:200,render:function(e){return(0,l.jsx)("div",{className:"text-gray-700",children:e==null?void 0:e.fullAddress})}},{key:"createdAt",title:"\u521B\u5EFA\u65F6\u95F4",width:120}],pagination:D,onChange:r,dataSource:x})})})})})})}u.default=_},38018:function(b,u,i){var g=i(5574).default,O=i(64599).default,h=i(52677).default,y=i(19632).default,o=i(62072),c=i(44020),m=i(13615),P=i(92806),M=function(n){return n==null};function s(r){switch(r.arrayFormat){case"index":return function(n){return function(t,e){var a=t.length;return e===void 0||r.skipNull&&e===null||r.skipEmptyString&&e===""?t:e===null?[].concat(y(t),[[_(n,r),"[",a,"]"].join("")]):[].concat(y(t),[[_(n,r),"[",_(a,r),"]=",_(e,r)].join("")])}};case"bracket":return function(n){return function(t,e){return e===void 0||r.skipNull&&e===null||r.skipEmptyString&&e===""?t:e===null?[].concat(y(t),[[_(n,r),"[]"].join("")]):[].concat(y(t),[[_(n,r),"[]=",_(e,r)].join("")])}};case"comma":case"separator":return function(n){return function(t,e){return e==null||e.length===0?t:t.length===0?[[_(n,r),"=",_(e,r)].join("")]:[[t,_(e,r)].join(r.arrayFormatSeparator)]}};default:return function(n){return function(t,e){return e===void 0||r.skipNull&&e===null||r.skipEmptyString&&e===""?t:e===null?[].concat(y(t),[_(n,r)]):[].concat(y(t),[[_(n,r),"=",_(e,r)].join("")])}}}}function I(r){var n;switch(r.arrayFormat){case"index":return function(t,e,a){if(n=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!n){a[t]=e;return}a[t]===void 0&&(a[t]={}),a[t][n[1]]=e};case"bracket":return function(t,e,a){if(n=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),!n){a[t]=e;return}if(a[t]===void 0){a[t]=[e];return}a[t]=[].concat(a[t],e)};case"comma":case"separator":return function(t,e,a){var d=typeof e=="string"&&e.includes(r.arrayFormatSeparator),f=typeof e=="string"&&!d&&v(e,r).includes(r.arrayFormatSeparator);e=f?v(e,r):e;var F=d||f?e.split(r.arrayFormatSeparator).map(function(j){return v(j,r)}):e===null?e:v(e,r);a[t]=F};default:return function(t,e,a){if(a[t]===void 0){a[t]=e;return}a[t]=[].concat(a[t],e)}}}function l(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function _(r,n){return n.encode?n.strict?o(r):encodeURIComponent(r):r}function v(r,n){return n.decode?c(r):r}function U(r){return Array.isArray(r)?r.sort():h(r)==="object"?U(Object.keys(r)).sort(function(n,t){return Number(n)-Number(t)}).map(function(n){return r[n]}):r}function x(r){var n=r.indexOf("#");return n!==-1&&(r=r.slice(0,n)),r}function E(r){var n="",t=r.indexOf("#");return t!==-1&&(n=r.slice(t)),n}function B(r){r=x(r);var n=r.indexOf("?");return n===-1?"":r.slice(n+1)}function D(r,n){return n.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):n.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function T(r,n){n=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},n),l(n.arrayFormatSeparator);var t=I(n),e=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return e;var a=O(r.split("&")),d;try{for(a.s();!(d=a.n()).done;){var f=d.value;if(f!==""){var F=m(n.decode?f.replace(/\+/g," "):f,"="),j=g(F,2),C=j[0],A=j[1];A=A===void 0?null:["comma","separator"].includes(n.arrayFormat)?A:v(A,n),t(v(C,n),A,e)}}}catch(L){a.e(L)}finally{a.f()}for(var p=0,K=Object.keys(e);p<K.length;p++){var W=K[p],R=e[W];if(h(R)==="object"&&R!==null)for(var S=0,V=Object.keys(R);S<V.length;S++){var $=V[S];R[$]=D(R[$],n)}else e[W]=D(R,n)}return n.sort===!1?e:(n.sort===!0?Object.keys(e).sort():Object.keys(e).sort(n.sort)).reduce(function(L,w){var N=e[w];return N&&h(N)==="object"&&!Array.isArray(N)?L[w]=U(N):L[w]=N,L},Object.create(null))}u.extract=B,u.parse=T,u.stringify=function(r,n){if(!r)return"";n=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},n),l(n.arrayFormatSeparator);for(var t=function(A){return n.skipNull&&M(r[A])||n.skipEmptyString&&r[A]===""},e=s(n),a={},d=0,f=Object.keys(r);d<f.length;d++){var F=f[d];t(F)||(a[F]=r[F])}var j=Object.keys(a);return n.sort!==!1&&j.sort(n.sort),j.map(function(C){var A=r[C];return A===void 0?"":A===null?_(C,n):Array.isArray(A)?A.reduce(e(C),[]).join("&"):_(C,n)+"="+_(A,n)}).filter(function(C){return C.length>0}).join("&")},u.parseUrl=function(r,n){n=Object.assign({decode:!0},n);var t=m(r,"#"),e=g(t,2),a=e[0],d=e[1];return Object.assign({url:a.split("?")[0]||"",query:T(B(r),n)},n&&n.parseFragmentIdentifier&&d?{fragmentIdentifier:v(d,n)}:{})},u.stringifyUrl=function(r,n){n=Object.assign({encode:!0,strict:!0},n);var t=x(r.url).split("?")[0]||"",e=u.extract(r.url),a=u.parse(e,{sort:!1}),d=Object.assign(a,r.query),f=u.stringify(d,n);f&&(f="?".concat(f));var F=E(r.url);return r.fragmentIdentifier&&(F="#".concat(_(r.fragmentIdentifier,n))),"".concat(t).concat(f).concat(F)},u.pick=function(r,n,t){t=Object.assign({parseFragmentIdentifier:!0},t);var e=u.parseUrl(r,t),a=e.url,d=e.query,f=e.fragmentIdentifier;return u.stringifyUrl({url:a,query:P(d,n),fragmentIdentifier:f},t)},u.exclude=function(r,n,t){var e=Array.isArray(n)?function(a){return!n.includes(a)}:function(a,d){return!n(a,d)};return u.pick(r,e,t)}},13615:function(b){b.exports=function(u,i){if(!(typeof u=="string"&&typeof i=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(i==="")return[u];var g=u.indexOf(i);return g===-1?[u]:[u.slice(0,g),u.slice(g+i.length)]}},62072:function(b){b.exports=function(u){return encodeURIComponent(u).replace(/[!'()*]/g,function(i){return"%".concat(i.charCodeAt(0).toString(16).toUpperCase())})}},44020:function(b){var u="%[a-f0-9]{2}",i=new RegExp("("+u+")|([^%]+?)","gi"),g=new RegExp("("+u+")+","gi");function O(o,c){try{return[decodeURIComponent(o.join(""))]}catch(M){}if(o.length===1)return o;c=c||1;var m=o.slice(0,c),P=o.slice(c);return Array.prototype.concat.call([],O(m),O(P))}function h(o){try{return decodeURIComponent(o)}catch(P){for(var c=o.match(i)||[],m=1;m<c.length;m++)o=O(c,m).join(""),c=o.match(i)||[];return o}}function y(o){for(var c={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},m=g.exec(o);m;){try{c[m[0]]=decodeURIComponent(m[0])}catch(l){var P=h(m[0]);P!==m[0]&&(c[m[0]]=P)}m=g.exec(o)}c["%C2"]="\uFFFD";for(var M=Object.keys(c),s=0;s<M.length;s++){var I=M[s];o=o.replace(new RegExp(I,"g"),c[I])}return o}b.exports=function(o){if(typeof o!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof o+"`");try{return o=o.replace(/\+/g," "),decodeURIComponent(o)}catch(c){return y(o)}}},92806:function(b){b.exports=function(u,i){for(var g={},O=Object.keys(u),h=Array.isArray(i),y=0;y<O.length;y++){var o=O[y],c=u[o];(h?i.indexOf(o)!==-1:i(o,c,u))&&(g[o]=c)}return g}}}]);
