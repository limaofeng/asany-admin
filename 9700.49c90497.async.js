(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[9700,3190],{48775:function(k,j,n){"use strict";n.d(j,{GP:function(){return y.Z},Hk:function(){return g}});var y=n(48655),c=n(39981),d=n(67294),N=n(94184),D=n.n(N),L=n(12788),E=n(11849),T=n(28865),p=n(37334),O=n(2824),z=n(96486),_=n(85893),m={aside:{minimize:!1,width:280}},I=d.createContext({state:m,dispatch:function(){}}),i;(function(r){r.AsideToggle="ASIDE_TOGGLE",r.AsideWidth="ASIDE_WIDTH"})(i||(i={}));function o(r,f){switch(f.type){case"ASIDE_TOGGLE":return r.aside.minimize=!r.aside.minimize,(0,E.Z)({},r);case"ASIDE_WIDTH":return r.aside.width=f.payload,(0,E.Z)({},r);default:throw new Error}}var u=function(f){var b=(0,d.useReducer)(o,(0,z.cloneDeep)(m)),P=(0,O.Z)(b,2),x=P[0],C=P[1];return(0,_.jsx)(I.Provider,{value:{state:x,dispatch:C},children:f.children})},v=function(){return(0,d.useContext)(I)},M=n(74200),A=n(8265);function s(r){var f=r.className,b=r.header,P=r.children,x=r.collapsible,C=x===void 0?!0:x,Z=r.width,R=Z===void 0?280:Z,U=(0,A.$Y)(),W=v(),$=W.dispatch;return(0,d.useEffect)(function(){U.aside.width(R+100),$({type:i.AsideWidth,payload:R})},[U.aside,$,R]),(0,_.jsxs)("div",{className:D()("app-aside aside",f),children:[(0,_.jsx)(p.Z,{children:(0,_.jsx)(y.Z,{header:b,resizeable:!0,className:"app-sidebar",children:P})}),C&&(0,_.jsx)(e,{className:"start-100 end-0"})]})}function e(r){var f=v(),b=f.dispatch,P=f.state.aside.minimize,x=(0,d.useCallback)(function(){b({type:i.AsideToggle})},[b]);return(0,_.jsx)(M.zx,{style:(0,E.Z)({marginBottom:"1.35rem",zIndex:105},r.style),onClick:x,activeColor:"primary",className:D()("micro-app-aside-toggle","btn-icon bg-body btn-color-gray-700 rounded-2 position-absolute translate-middle bottom-0 shadow-sm d-none d-lg-flex",r.className,{active:P}),children:(0,_.jsx)(T.JO,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})}s.Toggle=e;var a=s,t=L.ZP.div.withConfig({displayName:"MicroApp__MicroAppContainer",componentId:"sc-1dngjf6-0"})(["--root-aside-width:",";--met-aside-width:",";"],function(r){return r.minimize?"100px":"".concat(r.width,"px")},function(r){return r.minimize?"100px":"".concat(r.width,"px")});function l(r){var f=r.children,b=r.className,P=v(),x=P.state.aside,C=x.minimize,Z=x.width,R=(0,d.useCallback)(function(U){U.preventDefault()},[]);return(0,_.jsx)(t,{minimize:C,width:Z,className:D()("micro-app-container page-full-content",b,{"aside-minimize":C}),onContextMenu:R,children:f})}function h(r){var f=r.children,b=r.className;return(0,_.jsx)(u,{children:(0,_.jsx)(l,{className:b,children:f})})}h.Sidebar=a;var g=h,S=n(53851)},8265:function(k,j,n){"use strict";n.d(j,{$Y:function(){return O},BK:function(){return z},aM:function(){return I}});var y=n(2824),c=n(11849),d=n(67294),N=n(85893),D=d.createContext({getState:function(){return{routes:[]}},subscribe:function(){},dispatch:function(){}}),L=function(o,u){return u?u.type==="ASIDE_MINIMIZE"?(0,c.Z)((0,c.Z)({},o),{},{aside:(0,c.Z)((0,c.Z)({},o.aside),{},{minimize:!!u.payload})}):u.type==="ASIDE_WIDTH"?(0,c.Z)((0,c.Z)({},o),{},{aside:(0,c.Z)((0,c.Z)({},o.aside),{},{width:u.payload})}):u.type==="ASIDE_COLLAPSIBLE"?(0,c.Z)((0,c.Z)({},o),{},{aside:(0,c.Z)((0,c.Z)({},o.aside),{},{collapsible:u.payload})}):o:o},E=function(o){return(0,c.Z)({},o)};function T(i){var o=(0,d.useReducer)(L,i,E),u=(0,y.Z)(o,2),v=u[0],M=u[1],A=(0,d.useState)([]),s=(0,y.Z)(A,1),e=s[0],a=function(b){return function(){var P=e.indexOf(b);P>-1&&e.splice(P,1)}},t=(0,d.useCallback)(function(f){return e.unshift(f),a(f)},[e]),l=(0,d.useCallback)(function(){e.forEach(function(f){return f()})},[e]),h={getState:function(){return v},dispatch:M,subscribe:t},g=(0,d.useState)(h),S=(0,y.Z)(g,1),r=S[0];return(0,d.useEffect)(function(){r.getState=function(){return v},l()},[v]),r}var p=function(o,u){return o===u};function O(){var i=(0,d.useContext)(D),o=(0,d.useRef)({aside:{get state(){return i.getState().aside},width:function(v){i.dispatch({type:"ASIDE_WIDTH",payload:v})},minimize:function(v){i.dispatch({type:"ASIDE_MINIMIZE",payload:v})},collapsible:function(v){i.dispatch({type:"ASIDE_COLLAPSIBLE",payload:v})}}});return o.current}function z(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;return _(i,o)}function _(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p,u=(0,d.useContext)(D),v=(0,d.useReducer)(function(t){return t+1},0),M=(0,y.Z)(v,2),A=M[1],s=(0,d.useRef)(),e=i(u.getState());function a(){var t=i(u.getState());o(t,s.current)||(s.current=t,A())}return(0,d.useEffect)(function(){return u.subscribe(a)},[]),e}function m(){var i=useContext(D);return i.dispatch}function I(i){var o=i.children,u=i.state,v=T(u);return(0,d.useMemo)(function(){return(0,N.jsx)(D.Provider,{value:v,children:o})},[o,v])}},95901:function(k,j,n){"use strict";n.d(j,{dI:function(){return A},rB:function(){return M}});var y=n(2824),c=n(67294);function d(s){return s!=null&&s!==""}function N(s,e){var a=useState(s),t=_slicedToArray(a,2),l=t[0],h=t[1];return useEffect(function(){var g=setTimeout(function(){h(s)},e);return function(){clearTimeout(g)}},[s,e]),l}var D={USERS_LIST:"users-list"},L=n(54941),E=n(69610),T=n(36321),p=(0,L.Z)(function s(){var e=this;(0,E.Z)(this,s),this.menu=null,this.element=null,this.getParamName=function(a){var t=document.body.hasAttribute("data-kt-name"),l=t?t+"_":"";return"kt_"+l+"theme_mode_"+a},this.getMode=function(){var a,t=e.getParamName("value"),l=e.getMenuMode(),h="light";if(!localStorage)return h;var g=localStorage.getItem(t);if(g)return g;var S=(a=e.element)===null||a===void 0?void 0:a.getAttribute("data-theme");return S||(l?l==="system"?e.getSystemMode():l:h)},this.setMode=function(a,t){var l,h,g,S=a,r=t;if(!(S!=="light"&&S!=="dark")){var f=e.getParamName("value"),b=e.getParamName("menu");r==="system"&&e.getSystemMode()!==S&&(S=e.getSystemMode()),r||(r=S);var P=((l=e.menu)===null||l===void 0?void 0:l.querySelector('[data-kt-element="mode"][data-kt-value="'+r+'"]'))||null;(h=e.element)===null||h===void 0||h.setAttribute("data-kt-theme-mode-switching","true"),(g=e.element)===null||g===void 0||g.setAttribute("data-theme",S);var x=e;setTimeout(function(){var C;(C=x.element)===null||C===void 0||C.removeAttribute("data-kt-theme-mode-switching")},300),localStorage&&localStorage.setItem(f,S),P&&localStorage&&(localStorage.setItem(b,r),e.setActiveMenuItem(P)),e.flipImages()}},this.getMenuMode=function(){var a,t=e.getParamName("menu"),l=(a=e.menu)===null||a===void 0?void 0:a.querySelector('.active[data-kt-element="mode"]'),h=l==null?void 0:l.getAttribute("data-kt-value");if(h)return h;if(!t)return"";var g=localStorage?localStorage.getItem(t):null;return g||""},this.getSystemMode=function(){return window.matchMedia("(prefers-color-scheme: dark)")?"dark":"light"},this.initMode=function(){e.setMode(e.getMode(),e.getMenuMode()),e.element&&T.EventHandlerUtil.trigger(e.element,"kt.thememode.init")},this.setActiveMenuItem=function(a){var t,l=e.getParamName("menu"),h=a.getAttribute("data-kt-value"),g=(t=e.menu)===null||t===void 0?void 0:t.querySelector('.active[data-kt-element="mode"]');g&&g.classList.remove("active"),a.classList.add("active"),localStorage&&h&&l&&localStorage.setItem(l,h)},this.handleMenu=function(){var a,t;(a=e.menu)===null||a===void 0||(t=a.querySelectorAll('[data-kt-element="mode"]'))===null||t===void 0||t.forEach(function(l){l.addEventListener("click",function(h){h.preventDefault();var g=l.getAttribute("data-kt-value"),S=g==="system"?e.getSystemMode():g;S&&e.setMode(S,g)})})},this.flipImages=function(){var a;(a=document.querySelectorAll("[data-kt-img-dark]"))===null||a===void 0||a.forEach(function(t){t.tagName==="IMG"?e.getMode()==="dark"&&t.hasAttribute("data-kt-img-dark")?(t.setAttribute("data-kt-img-light",t.getAttribute("src")||""),t.setAttribute("src",t.getAttribute("data-kt-img-dark")||"")):e.getMode()==="light"&&t.hasAttribute("data-kt-img-light")&&(t.setAttribute("data-kt-img-dark",t.getAttribute("src")||""),t.setAttribute("src",t.getAttribute("data-kt-img-light")||"")):e.getMode()==="dark"&&t.hasAttribute("data-kt-img-dark")?(t.setAttribute("data-kt-img-light",t.getAttribute("src")||""),t.style.backgroundImage="url('"+t.getAttribute("data-kt-img-dark")+"')"):e.getMode()==="light"&&t.hasAttribute("data-kt-img-light")&&(t.setAttribute("data-kt-img-dark",t.getAttribute("src")||""),t.style.backgroundImage="url('"+t.getAttribute("data-kt-img-light")+"')")})},this.on=function(a,t){if(e.element)return T.EventHandlerUtil.on(e.element,a,t)},this.off=function(a,t){if(e.element)return T.EventHandlerUtil.off(e.element,a,t)},this.init=function(){e.menu=document.querySelector('[data-kt-element="theme-mode-menu"]'),e.element=document.documentElement,e.initMode(),e.menu&&e.handleMenu()}}),O=new p,z=n(85893),_=O.getSystemMode(),m=function(e){var a=e!=="system"?e:_,t="/media/patterns/header-bg"+(a==="light"?".jpg":"-dark.png");document.body.style.backgroundImage='url("'.concat(toAbsoluteUrl(t),'")')},I="kt_theme_mode_value",i="kt_theme_mode_menu",o=function(e){if(!localStorage)return"light";var a=localStorage.getItem(e);return!a||a==="light"?"light":a==="dark"?"dark":"system"},u={mode:o(I),menuMode:o(i),updateMode:function(e){},updateMenuMode:function(e){}},v=(0,c.createContext)({mode:u.mode,menuMode:u.menuMode,updateMode:function(e){},updateMenuMode:function(e){}}),M=function(){return(0,c.useContext)(v)},A=function(e){var a=e.children,t=(0,c.useState)(u.mode),l=(0,y.Z)(t,2),h=l[0],g=l[1],S=(0,c.useState)(u.menuMode),r=(0,y.Z)(S,2),f=r[0],b=r[1],P=function(Z){var R=Z==="system"?_:Z;g(R),localStorage&&localStorage.setItem(I,R),document.documentElement.setAttribute("data-theme",R),O.init()},x=function(Z){b(Z),localStorage&&localStorage.setItem(i,Z)};return(0,c.useEffect)(function(){P(h),x(f)},[]),(0,z.jsx)(v.Provider,{value:{mode:h,menuMode:f,updateMode:P,updateMenuMode:x},children:a})}},2893:function(k,j,n){"use strict";n.r(j);var y=n(67294),c=n(27754),d=n(51615),N=n(73727),D=n(92957),L=n(48775),E=n(74200),T=n(25496),p=n(85893);function O(m,I){if(m.type==="SECTION")return(0,p.jsx)(E.v2.Section,{children:m.name},m.id);if(m.type==="URL")return(0,p.jsx)(E.v2.Item,{as:N.Link,bullet:!0,icon:m.icon,title:m.name,url:(0,d.Gn)(m.path,I)},m.id);if(m.type==="SEPARATOR")return(0,p.jsx)(E.v2.Separator,{className:"my-1"},m.id);if(m.type==="MENU")return(0,p.jsx)(E.v2.SubMenu,{bullet:!0,icon:m.icon,title:m.name,children:(m.routes||[]).map(function(i){return O(i,I)})},m.id);throw new Error("\u4E0D\u652F\u6301\u7684 MenuType"+m.type)}var z=[];function _(m){var I,i=m.menu,o=(i==null?void 0:i.routes)||z,u=(0,d.TH)(),v=(0,y.useMemo)(function(){return(0,c.nG)(u.pathname,o,!0)},[o,u.pathname]),M=(0,d.$B)({path:"/organizations/:id/settings",strict:!0,sensitive:!0}),A=(0,D.Tk)({variables:{id:M==null?void 0:M.params.id},fetchPolicy:"cache-and-network"}),s=A.data,e=s==null?void 0:s.organization;return(0,p.jsxs)(L.GP,{children:[(0,p.jsxs)("div",{className:"mt-5 px-10 pt-5 mb-6 d-flex align-items-center",children:[(0,p.jsx)(E.mN.Avatar,{size:50,className:"me-5",src:(0,T.Fz)(e==null||(I=e.logo)===null||I===void 0?void 0:I.id,{size:"300x300"}),alt:e==null?void 0:e.name}),(0,p.jsxs)("div",{className:"d-flex flex-column",children:[(0,p.jsx)("div",{className:"fw-bolder d-flex align-items-center fs-5",children:e==null?void 0:e.name}),(0,p.jsx)("a",{href:"#",className:"fw-bold text-muted text-hover-primary fs-7",children:e==null?void 0:e.code})]})]}),(0,p.jsx)(E.v2,{className:"menu-fit menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 px-6 pb-6 my-5 my-lg-0",selectedKeys:v.map(function(a){return a.key}),children:o.filter(function(a){return!a.hideInMenu}).map(function(a){return O(a,(M==null?void 0:M.params)||{id:"id"})})})]})}j.default=_},92957:function(k,j,n){"use strict";n.d(j,{ry:function(){return _},Tk:function(){return m},RE:function(){return o},x:function(){return v}});var y=n(11849),c=n(20310),d=n(76058),N=n(64718),D=n(21919),L,E,T,p,O={},z=(0,d.Ps)(L||(L=(0,c.Z)([`
    fragment OrganizationProfile on Organization {
  id
  code
  name
  logo
  description
  email
  url
  location {
    province
    city
    district
    street
  }
}
    `]))),_=(0,d.Ps)(E||(E=(0,c.Z)([`
    query organization($id: ID!) {
  organization(id: $id) {
    ...OrganizationProfile
  }
}
    `,""])),z);function m(M){var A=(0,y.Z)((0,y.Z)({},O),M);return N.a(_,A)}function I(M){var A=_objectSpread(_objectSpread({},O),M);return Apollo.useLazyQuery(_,A)}var i=(0,d.Ps)(T||(T=(0,c.Z)([`
    mutation updateOrganizationProfile($id: ID!, $input: UpdateOrganizationProfileUpdateInput!) {
  updateOrganizationProfile(id: $id, input: $input) {
    ...OrganizationProfile
  }
}
    `,""])),z);function o(M){var A=(0,y.Z)((0,y.Z)({},O),M);return D.D(i,A)}var u=(0,d.Ps)(p||(p=(0,c.Z)([`
    mutation renameOrganizationCode($id: ID!, $code: String!) {
  renameOrganizationCode(id: $id, code: $code) {
    ...OrganizationProfile
  }
}
    `,""])),z);function v(M){var A=(0,y.Z)((0,y.Z)({},O),M);return D.D(u,A)}}}]);
