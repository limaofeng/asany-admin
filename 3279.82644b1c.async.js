(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[3279],{3279:function(L,x,s){"use strict";s.r(x);var f=s(2824),_=s(67294),b=s(28865),P=s(73727),j=s(5539),v=s(64458),C=s(47594),a=s(69851),t=s(75468),e=s(85893);function O(y){var M=y.match.params.id,h=(0,_.useRef)({}),d=(0,_.useState)(!1),i=(0,f.Z)(d,2),o=i[0],m=i[1],u=(0,_.useState)(!1),n=(0,f.Z)(u,2),c=n[0],g=n[1],D=(0,v.vO)({variables:{id:M}}),E=D.data,p=D.loading,N=(0,_.useCallback)(function(){m(!0)},[]),A=(0,_.useCallback)(function(){m(!1)},[]),I=E||{channel:h.current},l=I.channel;return p||(h.current=l),(0,e.jsxs)(t.v,{header:{title:"\u65B0\u95FB\u52A8\u6001"},children:[(0,e.jsxs)(t.w,{children:[(0,e.jsx)(t.w.Title,{children:(0,e.jsx)("span",{className:"text-gray-800 text-hover-primary fs-2 fw-bolder me-3",children:l==null?void 0:l.name})}),(0,e.jsx)(t.w.Description,{children:l==null?void 0:l.description}),(0,e.jsx)(t.w.Cover,{children:(0,e.jsx)("img",{className:"mw-50px mw-lg-75px",src:"/assets/media/svg/brand-logos/volicity-9.svg",alt:"image"})}),(0,e.jsxs)(t.w.Toolbar,{children:[(0,e.jsx)(a.zx,{as:P.Link,className:"me-3",size:"sm",variantStyle:"background",variant:"light",activeTextColor:"primary",to:"/cms/articles/new",children:"\u65B0\u5EFA\u4FE1\u606F"}),(0,e.jsx)(a.zx,{onClick:N,className:"me-3",size:"sm",children:"\u6DFB\u52A0\u5B50\u680F\u76EE"}),(0,e.jsx)(C.e,{data:{parent:l==null?void 0:l.id},visible:o,onCancel:A}),(0,e.jsx)("div",{className:"me-0",children:(0,e.jsx)(a.Lt,{overlay:(0,e.jsx)(a.v2,{className:"menu-sub menu-sub-dropdown menu-gray-600 menu-state-bg-light-primary fw-bold w-125px py-4",children:(0,e.jsx)(a.v2.Item,{className:"px-3 actions-delete",children:"\u5220\u9664"},"delete")}),placement:"bottomRight",onVisibleChange:g,visible:c,children:(0,e.jsx)(a.zx,{size:"sm",variantStyle:"background",variant:"light",activeTextColor:"primary",icon:(0,e.jsx)("i",{className:"bi bi-three-dots fs-3"})})})})]}),(0,e.jsxs)(t.w.Body,{children:[(0,e.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,e.jsx)(a.kN,{className:"min-w-125px py-3 px-4 me-6 mb-3",label:"Due Date",children:(0,e.jsx)("div",{className:"d-flex align-items-center",children:(0,e.jsx)("div",{className:"fs-4 fw-bolder",children:"29 Jan, 2021"})})}),(0,e.jsxs)(a.kN,{className:"min-w-125px py-3 px-4 me-6 mb-3",label:"Open Tasks",children:[(0,e.jsx)(b.ZP,{name:"Duotune/arr065",className:"svg-icon-3 svg-icon-danger me-2"}),(0,e.jsx)(a.I0,{className:"fs-4 fw-bolder",value:75,children:"100"})]}),(0,e.jsxs)(a.kN,{className:"min-w-125px py-3 px-4 me-6 mb-3",label:"Budget Spent",children:[(0,e.jsx)(b.ZP,{name:"Duotune/arr066",className:"svg-icon-3 svg-icon-success me-2"}),(0,e.jsx)(a.I0,{className:"fs-4 fw-bolder",value:15e3,prefix:"$",children:"0"})]})]}),(0,e.jsx)(a.n5.Users,{size:8,users:[{avatar:"",name:"Alan Warden"},{avatar:"/assets/media/avatars/150-12.jpg",name:"Michael Eberon"},{avatar:"/assets/media/avatars/150-13.jpg",name:"Michelle Swanston"},{avatar:"/assets/media/avatars/150-5.jpg",name:"Francis Mitcham"},{avatar:"",name:"Susan Redwood"},{avatar:"/assets/media/avatars/150-3.jpg",name:"Melody Macy"},{avatar:"",name:"Perry Matthew"},{avatar:"/assets/media/avatars/150-7.jpg",name:"Barry Walter"},{avatar:"",name:"Peter"}]})]}),(0,e.jsx)(t.w.Footer,{className:"h-45px",children:(0,e.jsxs)(a.JL,{selectedKey:"settings",className:"fs-5 fw-bolder",children:[(0,e.jsx)(a.JL.Item,{children:"\u6587\u7AE0"},"article"),(0,e.jsx)(a.JL.Item,{children:"\u8BBE\u7F6E"},"settings")]})})]}),(0,e.jsx)(j.default,{query:{filter:{channel_startsWith:M}},style:"small"})]})}x.default=O},47594:function(L,x,s){"use strict";s.d(x,{e:function(){return M}});var f=s(3182),_=s(2824),b=s(86582),P=s(94043),j=s.n(P),v=s(67294),C=s(64458),a=s(69851),t=s(19228),e=s(85893),O=a.gq.UploadAvatar;function y(h){var d=h.form,i=(0,C.$C)(),o=i.data,m=o===void 0?{channels:[]}:o,u=i.loading,n=m.channels;return console.log(n,u),(0,e.jsxs)(a.l0,{form:d,children:[(0,e.jsxs)("div",{className:"row mb-10",children:[(0,e.jsxs)("div",{className:"col-md-8",children:[(0,e.jsx)(a.l0.Item,{name:"parent",className:"d-flex flex-column mb-7",label:"\u6240\u5C5E\u680F\u76EE",children:(0,e.jsx)(a.ub,{solid:!0,options:[{value:"root",label:"\u6839\u680F\u76EE"}].concat((0,b.Z)(n.map(function(c){return{value:c.id,label:c.fullName}})))})}),(0,e.jsx)(a.l0.Item,{name:"name",className:"d-flex flex-column mb-7",label:"\u540D\u79F0",rules:[{required:!0,message:"\b\b\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(a.II,{solid:!0})}),(0,e.jsx)(a.l0.Item,{name:"slug",className:"d-flex flex-column mb-7",label:"\u7F16\u7801",children:(0,e.jsx)(a.II,{solid:!0})})]}),(0,e.jsx)("div",{className:"col-md-4",children:(0,e.jsx)(a.l0.Item,{name:"cover",className:"d-flex flex-column mb-7",label:"\u680F\u76EE\u5C01\u9762",children:(0,e.jsx)(O,{width:180,height:180})})})]}),(0,e.jsx)(a.l0.Item,{name:"description",className:"d-flex flex-column mb-7",label:"\u63CF\u8FF0",required:!0,children:(0,e.jsx)(a.II.TextArea,{solid:!0})})]})}var M=function(d){var i=d.data,o=d.visible,m=d.onCancel,u=d.onSuccess,n=a.l0.useForm(),c=(0,v.useState)(!1),g=(0,_.Z)(c,2),D=g[0],E=g[1],p=(0,C.OX)({fetchPolicy:"no-cache"}),N=(0,_.Z)(p,1),A=N[0],I=(0,v.useCallback)((0,f.Z)(j().mark(function l(){var B;return j().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return E(!0),r.prev=1,r.next=4,n.validateFields();case 4:return B=r.sent,r.next=7,(0,t.gw)(A({variables:{input:B}}),350);case 7:E(!1),m&&m(new Event("look",{bubbles:!0,cancelable:!1})),a.u_.success({title:"\u4FDD\u5B58\u6210\u529F",content:"\u680F\u76EE <strong>".concat(B.name,"</strong> \u4FDD\u5B58\u6210\u529F"),timer:3e3,timerProgressBar:!0}),u&&u(),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),E(!1);case 16:case"end":return r.stop()}},l,null,[[1,13]])})),[A,u,m,n]);return(0,v.useEffect)(function(){!i||n.setFieldsValue(i)},[i,n]),(0,e.jsx)(a.u_,{centered:!0,maskClosable:!1,visible:o,onCancel:m,onOk:I,confirmLoading:D,dialogClassName:"mw-650px",title:"\u521B\u5EFA\u680F\u76EE",children:(0,e.jsx)(y,{form:n})})}}}]);
