"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4727,1201],{51253:function(F,x,n){n.d(x,{GP:function(){return m.Z},Hk:function(){return H},xx:function(){return _.x}});var O=n(74958),m=n(5166),_=n(19260),l=n(68400),i=n.n(l),u=n(62435),h=n(93967),r=n.n(h),v=n(94589),b=n(97857),f=n.n(b),T=n(46027),P=n(42687),y=n(10811),I=n(5574),C=n.n(I),s=n(96486),t=n(86074),e={aside:{minimize:!1,width:280}},o=u.createContext({state:e,dispatch:function(){}}),A=function(a){return a.AsideToggle="ASIDE_TOGGLE",a.AsideWidth="ASIDE_WIDTH",a}({});function M(a,p){switch(p.type){case"ASIDE_TOGGLE":return a.aside.minimize=!a.aside.minimize,f()({},a);case"ASIDE_WIDTH":return a.aside.width=p.payload,f()({},a);default:throw new Error}}var S=function(p){var j=(0,u.useReducer)(M,(0,s.cloneDeep)(e)),D=C()(j,2),E=D[0],N=D[1];return(0,t.jsx)(o.Provider,{value:{state:E,dispatch:N},children:p.children})},c=function(){return(0,u.useContext)(o)},L=n(65495);function d(a){var p=c(),j=p.dispatch,D=p.state.aside.minimize,E=(0,u.useCallback)(function(){j({type:A.AsideToggle})},[j]);return(0,t.jsx)(y.Button,{style:f()({marginBottom:"1.35rem",zIndex:105},a.style),onClick:E,activeColor:"primary",className:r()("micro-app-aside-toggle","btn-icon bg-body btn-color-gray-700 rounded-2 position-absolute translate-middle bottom-0 shadow-sm d-none d-lg-flex",a.className,{active:D}),children:(0,t.jsx)(T.JO,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})}function z(a){var p=a.className,j=a.header,D=a.children,E=a.collapsible,N=E===void 0?!0:E,K=a.width,B=K===void 0?280:K,U=(0,P.$Y)(),G=c(),Z=G.dispatch;return(0,u.useEffect)(function(){U.aside.width(B+100),Z({type:A.AsideWidth,payload:B})},[U.aside,Z,B]),(0,t.jsxs)("div",{className:r()("app-aside aside",p),children:[(0,t.jsx)(L.Z,{children:(0,t.jsx)(m.Z,{header:j,resizeable:!0,className:"app-sidebar",children:D})}),N&&(0,t.jsx)(d,{className:"start-100 end-0"})]})}z.Toggle=d;var Q=z,R,$=v.ZP.div(R||(R=i()([`
  --root-aside-width: `,`;
  --met-aside-width: `,`;
`])),function(a){return a.minimize?"100px":"".concat(a.width,"px")},function(a){return a.minimize?"100px":"".concat(a.width,"px")});function W(a){var p=a.children,j=a.className,D=c(),E=D.state.aside,N=E.minimize,K=E.width,B=(0,u.useCallback)(function(U){U.preventDefault()},[]);return(0,t.jsx)($,{minimize:N,width:K,className:r()("micro-app-container page-full-content",j,{"aside-minimize":N}),onContextMenu:B,children:p})}function g(a){var p=a.children,j=a.className;return(0,t.jsx)(S,{children:(0,t.jsx)(W,{className:j,children:p})})}g.Sidebar=Q;var H=g},42687:function(F,x,n){n.d(x,{$Y:function(){return T},BK:function(){return y},aM:function(){return C}});var O=n(5574),m=n.n(O),_=n(97857),l=n.n(_),i=n(62435),u=n(86074),h=i.createContext({getState:function(){return{routes:[]}},subscribe:function(){},dispatch:function(){}}),r=function(t,e){return e?e.type==="ASIDE_MINIMIZE"?l()(l()({},t),{},{aside:l()(l()({},t.aside),{},{minimize:!!e.payload})}):e.type==="ASIDE_WIDTH"?l()(l()({},t),{},{aside:l()(l()({},t.aside),{},{width:e.payload})}):e.type==="ASIDE_COLLAPSIBLE"?l()(l()({},t),{},{aside:l()(l()({},t.aside),{},{collapsible:e.payload})}):t:t},v=function(t){return l()({},t)};function b(s){var t=(0,i.useReducer)(r,s,v),e=m()(t,2),o=e[0],A=e[1],M=(0,i.useState)([]),S=m()(M,1),c=S[0],L=function(H){return function(){var a=c.indexOf(H);a>-1&&c.splice(a,1)}},d=(0,i.useCallback)(function(g){return c.unshift(g),L(g)},[c]),z=(0,i.useCallback)(function(){c.forEach(function(g){return g()})},[c]),Q={getState:function(){return o},dispatch:A,subscribe:d},R=(0,i.useState)(Q),$=m()(R,1),W=$[0];return(0,i.useEffect)(function(){W.getState=function(){return o},z()},[o]),W}var f=function(t,e){return t===e};function T(){var s=(0,i.useContext)(h),t=(0,i.useRef)({aside:{get state(){return s.getState().aside},width:function(o){s.dispatch({type:"ASIDE_WIDTH",payload:o})},minimize:function(o){s.dispatch({type:"ASIDE_MINIMIZE",payload:o})},collapsible:function(o){s.dispatch({type:"ASIDE_COLLAPSIBLE",payload:o})}}});return t.current}function P(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,e=(0,i.useContext)(h),o=(0,i.useReducer)(function(d){return d+1},0),A=m()(o,2),M=A[1],S=(0,i.useRef)(),c=s(e.getState());function L(){var d=s(e.getState());t(d,S.current)||(S.current=d,M())}return(0,i.useEffect)(function(){return e.subscribe(L)},[]),c}function y(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;return P(s,t)}function I(){var s=useContext(h);return s.dispatch}function C(s){var t=s.children,e=s.state,o=b(e);return(0,i.useMemo)(function(){return(0,u.jsx)(h.Provider,{value:o,children:t})},[t,o])}},39736:function(F,x,n){n.d(x,{Sy:function(){return f},n5:function(){return I}});var O=n(97857),m=n.n(O),_=n(68400),l=n.n(_),i=n(75063),u=n(37887),h,r,v={},b=(0,i.Ps)(h||(h=l()([`
    query projects {
  projects {
    total: totalCount
    current: currentPage
    pageSize
    edges {
      node {
        id
        logo
        name
        description
      }
    }
  }
}
    `])));function f(t){var e=m()(m()({},v),t);return u.a(b,e)}function T(t){var e=_objectSpread(_objectSpread({},v),t);return Apollo.useLazyQuery(b,e)}function P(t){var e=_objectSpread(_objectSpread({},v),t);return Apollo.useSuspenseQuery(b,e)}var y=(0,i.Ps)(r||(r=l()([`
    query project($id: ID!) {
  project(id: $id) {
    id
    logo
    name
    description
  }
}
    `])));function I(t){var e=m()(m()({},v),t);return u.a(y,e)}function C(t){var e=_objectSpread(_objectSpread({},v),t);return Apollo.useLazyQuery(y,e)}function s(t){var e=_objectSpread(_objectSpread({},v),t);return Apollo.useSuspenseQuery(y,e)}},50240:function(F,x,n){n.r(x),n.d(x,{default:function(){return b}});var O=n(5574),m=n.n(O),_=n(62435),l=n(96974),i=n(51253),u=n(10811),h=n(39736),r=n(86074);function v(f){var T=f.children,P=f.location,y=f.match.params.id,I=(0,h.n5)({variables:{id:y}}),C=I.data,s=C===void 0?{}:C,t=I.loading,e=s.project,o=(0,_.useMemo)(function(){var d=(0,l.LX)(P.pathname,{path:"/project/:id/:key",exact:!1,strict:!0});return console.log("channelMatch",d),d?"category_".concat(d.params.cid):"my-drive"},[P.pathname]),A=(0,_.useState)(o),M=m()(A,2),S=M[0],c=M[1];(0,_.useEffect)(function(){o&&c(o)},[o]);var L=(0,_.useCallback)(function(d){console.log("selectedKey",d.key),c(d.key)},[]);return(0,r.jsx)(i.Hk,{loading:t,children:e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Hk.Sidebar,{children:(0,r.jsxs)(u.BlockUI,{zIndex:10,className:"my-5 p-5",overlayClassName:"bg-white bg-opacity-25",loading:!1,children:[(0,r.jsx)("div",{className:"mx-5",children:(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)(u.Symbol.Avatar,{alt:"\u5565\u5730\u65B9",className:"me-5"}),(0,r.jsxs)("div",{className:"flex-grow-1",children:[(0,r.jsx)("a",{className:"text-dark fw-bolder text-hover-primary fs-6",children:e.name}),(0,r.jsx)("span",{className:"text-muted d-block fw-bold",children:e.description})]})]})}),(0,r.jsxs)(u.Menu,{fit:!0,accordion:!1,selectable:"AllMenu",className:"pt-6 menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 px-6 my-5 my-lg-0",selectedKeys:S?[S]:[],onSelect:L,children:[(0,r.jsx)(u.Menu.Item,{bullet:!0,icon:"Bootstrap/speedometer2",title:"\u4EEA\u8868\u76D8",url:"/projects/".concat(e.id)}),(0,r.jsx)(u.Menu.Section,{contentClassName:"pt-6 pb-0",children:"\u57FA\u7840\u529F\u80FD"}),(0,r.jsx)(u.Menu.Item,{bullet:!0,title:"\u76EE\u6807",url:"/projects/".concat(e.id,"/targets")}),(0,r.jsx)(u.Menu.Item,{bullet:!0,title:"\u4EFB\u52A1",url:"/projects/".concat(e.id,"/tasks")}),(0,r.jsx)(u.Menu.Item,{bullet:!0,title:"\u9884\u7B97",url:"/projects/".concat(e.id,"/budget")}),(0,r.jsx)(u.Menu.Item,{bullet:!0,title:"\u6210\u5458",url:"/projects/".concat(e.id,"/users")}),(0,r.jsx)(u.Menu.Item,{bullet:!0,title:"\u6587\u6863",url:"/projects/".concat(e.id,"/files")}),(0,r.jsx)(u.Menu.Item,{bullet:!0,title:"\u6D3B\u52A8",url:"/projects/".concat(e.id,"/activity")}),(0,r.jsx)(u.Menu.Section,{contentClassName:"pt-6 pb-0",children:"\u8BBE\u7F6E"}),(0,r.jsx)(u.Menu.Item,{bullet:!0,title:"\u57FA\u7840\u4FE1\u606F",url:"/projects/".concat(e.id,"/settings")})]})]})}),_.Children.map(T,function(d){return d.props.location.state={project:e,baseUrl:"/projects/"+y},d})]})})}var b=v}}]);
