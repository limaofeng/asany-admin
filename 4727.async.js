"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4727,1201],{51253:function(Q,A,t){t.d(A,{GP:function(){return c.Z},Hk:function(){return G},xx:function(){return h.x}});var O=t(74958),c=t(5166),h=t(19260),i=t(68400),d=t.n(i),u=t(62435),_=t(93967),r=t.n(_),v=t(94589),b=t(97857),f=t.n(b),T=t(46027),P=t(10582),y=t(42687),C=t(79817),L=t(5574),s=t.n(L),n=t(96486),e=t(86074),o={aside:{minimize:!1,width:280}},D=u.createContext({state:o,dispatch:function(){}}),S=function(a){return a.AsideToggle="ASIDE_TOGGLE",a.AsideWidth="ASIDE_WIDTH",a}({});function E(a,p){switch(p.type){case"ASIDE_TOGGLE":return a.aside.minimize=!a.aside.minimize,f()({},a);case"ASIDE_WIDTH":return a.aside.width=p.payload,f()({},a);default:throw new Error}}var m=function(p){var j=(0,u.useReducer)(E,(0,n.cloneDeep)(o)),I=s()(j,2),x=I[0],N=I[1];return(0,e.jsx)(D.Provider,{value:{state:x,dispatch:N},children:p.children})},g=function(){return(0,u.useContext)(D)},l=t(65495);function W(a){var p=g(),j=p.dispatch,I=p.state.aside.minimize,x=(0,u.useCallback)(function(){j({type:S.AsideToggle})},[j]);return(0,e.jsx)(C.Button,{style:f()({marginBottom:"1.35rem",zIndex:105},a.style),onClick:x,activeColor:"primary",className:r()("micro-app-aside-toggle","btn-icon bg-body btn-color-gray-700 rounded-2 position-absolute translate-middle bottom-0 shadow-sm d-none d-lg-flex",a.className,{active:I}),children:(0,e.jsx)(T.JO,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})}var w={"drawer drawer-start":{maxWidth:992}};function K(a){var p=a.className,j=a.header,I=a.children,x=a.collapsible,N=x===void 0?!0:x,U=a.width,z=U===void 0?280:U,F=(0,y.$Y)(),V=g(),Z=V.dispatch;(0,u.useEffect)(function(){F.aside.width(z+100),Z({type:S.AsideWidth,payload:z})},[F.aside,Z,z]);var Y=(0,P.CN)(w),J=(0,y.BK)(function(X){return X.aside.drawer});return(0,e.jsxs)("div",{className:r()("app-aside aside",p,Y,{"drawer-on":J}),children:[(0,e.jsx)(l.Z,{children:(0,e.jsx)(c.Z,{header:j,resizeable:!0,className:"app-sidebar",children:I})}),N&&(0,e.jsx)(W,{className:"start-100 end-0"})]})}K.Toggle=W;var $=K,R,M=v.ZP.div(R||(R=d()([`
  --root-aside-width: `,`;
  --met-aside-width: `,`;
`])),function(a){return a.minimize?"100px":"".concat(a.width,"px")},function(a){return a.minimize?"100px":"".concat(a.width,"px")});function H(a){var p=a.children,j=a.className,I=g(),x=I.state.aside,N=x.minimize,U=x.width,z=(0,u.useCallback)(function(F){F.preventDefault()},[]);return(0,e.jsx)(M,{minimize:N,width:U,className:r()("micro-app-container page-full-content",j,{"aside-minimize":N}),onContextMenu:z,children:p})}function B(a){var p=a.children,j=a.className;return(0,e.jsx)(m,{children:(0,e.jsx)(H,{className:j,children:p})})}B.Sidebar=$;var G=B},42687:function(Q,A,t){t.d(A,{$Y:function(){return T},BK:function(){return y},aM:function(){return L}});var O=t(5574),c=t.n(O),h=t(97857),i=t.n(h),d=t(62435),u=t(86074),_=d.createContext({getState:function(){return{routes:[]}},subscribe:function(){},dispatch:function(){}}),r=function(n,e){return e?e.type==="ASIDE_MINIMIZE"?i()(i()({},n),{},{aside:i()(i()({},n.aside),{},{minimize:!!e.payload})}):e.type==="ASIDE_WIDTH"?i()(i()({},n),{},{aside:i()(i()({},n.aside),{},{width:e.payload})}):e.type==="ASIDE_COLLAPSIBLE"?i()(i()({},n),{},{aside:i()(i()({},n.aside),{},{collapsible:e.payload})}):e.type==="ASIDE_DRAWER"?i()(i()({},n),{},{aside:i()(i()({},n.aside),{},{drawer:e.payload})}):n:n},v=function(n){return i()({},n)};function b(s){var n=(0,d.useReducer)(r,s,v),e=c()(n,2),o=e[0],D=e[1],S=(0,d.useState)([]),E=c()(S,1),m=E[0],g=function(H){return function(){var B=m.indexOf(H);B>-1&&m.splice(B,1)}},l=(0,d.useCallback)(function(M){return m.unshift(M),g(M)},[m]),W=(0,d.useCallback)(function(){m.forEach(function(M){return M()})},[m]),w={getState:function(){return o},dispatch:D,subscribe:l},K=(0,d.useState)(w),$=c()(K,1),R=$[0];return(0,d.useEffect)(function(){R.getState=function(){return o},W()},[o]),R}var f=function(n,e){return n===e};function T(){var s=(0,d.useContext)(_),n=(0,d.useRef)({aside:{get state(){return s.getState().aside},width:function(o){s.dispatch({type:"ASIDE_WIDTH",payload:o})},minimize:function(o){s.dispatch({type:"ASIDE_MINIMIZE",payload:o})},collapsible:function(o){s.dispatch({type:"ASIDE_COLLAPSIBLE",payload:o})},drawer:function(o){s.dispatch({type:"ASIDE_DRAWER",payload:o})}}});return n.current}function P(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,e=(0,d.useContext)(_),o=(0,d.useReducer)(function(l){return l+1},0),D=c()(o,2),S=D[1],E=(0,d.useRef)(),m=s(e.getState());function g(){var l=s(e.getState());n(l,E.current)||(E.current=l,S())}return(0,d.useEffect)(function(){return e.subscribe(g)},[]),m}function y(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;return P(s,n)}function C(){var s=useContext(_);return s.dispatch}function L(s){var n=s.children,e=s.state,o=b(e);return(0,d.useMemo)(function(){return(0,u.jsx)(_.Provider,{value:o,children:n})},[n,o])}},39736:function(Q,A,t){t.d(A,{Sy:function(){return f},n5:function(){return C}});var O=t(97857),c=t.n(O),h=t(68400),i=t.n(h),d=t(75063),u=t(37887),_,r,v={},b=(0,d.Ps)(_||(_=i()([`
    query projects {
  projects {
    total: totalCount
    current: currentPage
    pageSize
    edges {
      node {
        id
        logo
        name
        description
      }
    }
  }
}
    `])));function f(n){var e=c()(c()({},v),n);return u.a(b,e)}function T(n){var e=_objectSpread(_objectSpread({},v),n);return Apollo.useLazyQuery(b,e)}function P(n){var e=_objectSpread(_objectSpread({},v),n);return Apollo.useSuspenseQuery(b,e)}var y=(0,d.Ps)(r||(r=i()([`
    query project($id: ID!) {
  project(id: $id) {
    id
    logo
    name
    description
  }
}
    `])));function C(n){var e=c()(c()({},v),n);return u.a(y,e)}function L(n){var e=_objectSpread(_objectSpread({},v),n);return Apollo.useLazyQuery(y,e)}function s(n){var e=_objectSpread(_objectSpread({},v),n);return Apollo.useSuspenseQuery(y,e)}},50240:function(Q,A,t){t.r(A),t.d(A,{default:function(){return b}});var O=t(5574),c=t.n(O),h=t(62435),i=t(96974),d=t(51253),u=t(79817),_=t(39736),r=t(86074);function v(f){var T=f.children,P=f.location,y=f.match.params.id,C=(0,_.n5)({variables:{id:y}}),L=C.data,s=L===void 0?{}:L,n=C.loading,e=s.project,o=(0,h.useMemo)(function(){var l=(0,i.LX)(P.pathname,{path:"/project/:id/:key",exact:!1,strict:!0});return console.log("channelMatch",l),l?"category_".concat(l.params.cid):"my-drive"},[P.pathname]),D=(0,h.useState)(o),S=c()(D,2),E=S[0],m=S[1];(0,h.useEffect)(function(){o&&m(o)},[o]);var g=(0,h.useCallback)(function(l){console.log("selectedKey",l.key),m(l.key)},[]);return(0,r.jsx)(d.Hk,{loading:n,children:e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Hk.Sidebar,{children:(0,r.jsxs)(u.BlockUI,{zIndex:10,className:"my-5 p-5",overlayClassName:"bg-white bg-opacity-25",loading:!1,children:[(0,r.jsx)("div",{className:"mx-5",children:(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)(u.Symbol.Avatar,{alt:"\u5565\u5730\u65B9",className:"me-5"}),(0,r.jsxs)("div",{className:"flex-grow-1",children:[(0,r.jsx)("a",{className:"text-dark fw-bolder text-hover-primary fs-6",children:e.name}),(0,r.jsx)("span",{className:"text-muted d-block fw-bold",children:e.description})]})]})}),(0,r.jsxs)(u.Menu,{fit:!0,accordion:!1,selectable:"AllMenu",className:"pt-6 menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 px-6 my-5 my-lg-0",selectedKeys:E?[E]:[],onSelect:g,children:[(0,r.jsx)(u.Menu.Item,{bullet:!0,icon:"Bootstrap/speedometer2",title:"\u4EEA\u8868\u76D8",url:"/projects/".concat(e.id)}),(0,r.jsx)(u.Menu.Section,{contentClassName:"pt-6 pb-0",children:"\u57FA\u7840\u529F\u80FD"}),(0,r.jsx)(u.Menu.Item,{bullet:!0,title:"\u76EE\u6807",url:"/projects/".concat(e.id,"/targets")}),(0,r.jsx)(u.Menu.Item,{bullet:!0,title:"\u4EFB\u52A1",url:"/projects/".concat(e.id,"/tasks")}),(0,r.jsx)(u.Menu.Item,{bullet:!0,title:"\u9884\u7B97",url:"/projects/".concat(e.id,"/budget")}),(0,r.jsx)(u.Menu.Item,{bullet:!0,title:"\u6210\u5458",url:"/projects/".concat(e.id,"/users")}),(0,r.jsx)(u.Menu.Item,{bullet:!0,title:"\u6587\u6863",url:"/projects/".concat(e.id,"/files")}),(0,r.jsx)(u.Menu.Item,{bullet:!0,title:"\u6D3B\u52A8",url:"/projects/".concat(e.id,"/activity")}),(0,r.jsx)(u.Menu.Section,{contentClassName:"pt-6 pb-0",children:"\u8BBE\u7F6E"}),(0,r.jsx)(u.Menu.Item,{bullet:!0,title:"\u57FA\u7840\u4FE1\u606F",url:"/projects/".concat(e.id,"/settings")})]})]})}),h.Children.map(T,function(l){return l.props.location.state={project:e,baseUrl:"/projects/"+y},l})]})})}var b=v}}]);
