var G=Object.prototype.hasOwnProperty;var p=Object.getOwnPropertySymbols,V=Object.prototype.propertyIsEnumerable;var K=Object.assign;var S=(m,E)=>{var e={};for(var t in m)G.call(m,t)&&E.indexOf(t)<0&&(e[t]=m[t]);if(m!=null&&p)for(var t of p(m))E.indexOf(t)<0&&V.call(m,t)&&(e[t]=m[t]);return e};(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[5162,3975],{33201:function(){},30098:function(m,E,e){"use strict";e.d(E,{G:function(){return h.Z}});var t=e(80064),h=e(48655),r=e(39981)},47594:function(m,E,e){"use strict";e.d(E,{e:function(){return y}});var t=e(3182),h=e(2824),r=e(86582),x=e(94043),M=e.n(x),C=e(67294),O=e(64458),n=e(11974),A=e(25496),s=e(85893),a=n.gq.UploadAvatar;function P(l){var u=l.form,_=(0,O.$C)(),v=_.data,c=v===void 0?{channels:[]}:v,f=_.loading,o=c.channels;return console.log(o,f),(0,s.jsxs)(n.l0,{form:u,children:[(0,s.jsxs)("div",{className:"row mb-10",children:[(0,s.jsxs)("div",{className:"col-md-8",children:[(0,s.jsx)(n.l0.Item,{name:"parent",className:"d-flex flex-column mb-7",label:"\u6240\u5C5E\u680F\u76EE",children:(0,s.jsx)(n.ub,{solid:!0,options:[{value:"root",label:"\u6839\u680F\u76EE"}].concat((0,r.Z)(o.map(function(D){return{value:D.id,label:D.fullName}})))})}),(0,s.jsx)(n.l0.Item,{name:"name",className:"d-flex flex-column mb-7",label:"\u540D\u79F0",rules:[{required:!0,message:"\b\b\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,s.jsx)(n.II,{solid:!0})}),(0,s.jsx)(n.l0.Item,{name:"slug",className:"d-flex flex-column mb-7",label:"\u7F16\u7801",children:(0,s.jsx)(n.II,{solid:!0})})]}),(0,s.jsx)("div",{className:"col-md-4",children:(0,s.jsx)(n.l0.Item,{name:"cover",className:"d-flex flex-column mb-7",label:"\u680F\u76EE\u5C01\u9762",children:(0,s.jsx)(a,{width:180,height:180})})})]}),(0,s.jsx)(n.l0.Item,{name:"description",className:"d-flex flex-column mb-7",label:"\u63CF\u8FF0",required:!0,children:(0,s.jsx)(n.II.TextArea,{solid:!0})})]})}var y=function(u){var _=u.data,v=u.visible,c=u.onCancel,f=u.onSuccess,o=n.l0.useForm(),D=(0,C.useState)(!1),g=(0,h.Z)(D,2),b=g[0],j=g[1],T=(0,O.OX)({fetchPolicy:"no-cache"}),L=(0,h.Z)(T,1),B=L[0],R=(0,C.useCallback)((0,t.Z)(M().mark(function U(){var I;return M().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return j(!0),i.prev=1,i.next=4,o.validateFields();case 4:return I=i.sent,i.next=7,(0,A.gw)(B({variables:{input:I}}),350);case 7:j(!1),c&&c(new Event("look",{bubbles:!0,cancelable:!1})),n.u_.success({title:"\u4FDD\u5B58\u6210\u529F",content:"\u680F\u76EE <strong>".concat(I.name,"</strong> \u4FDD\u5B58\u6210\u529F"),timer:3e3,timerProgressBar:!0}),f&&f(),i.next=16;break;case 13:i.prev=13,i.t0=i.catch(1),j(!1);case 16:case"end":return i.stop()}},U,null,[[1,13]])})),[B,f,c,o]);return(0,C.useEffect)(function(){!_||o.setFieldsValue(_)},[_,o]),(0,s.jsx)(n.u_,{centered:!0,maskClosable:!1,visible:v,onCancel:c,onOk:R,confirmLoading:b,dialogClassName:"mw-650px",title:"\u521B\u5EFA\u680F\u76EE",children:(0,s.jsx)(P,{form:o})})}},85918:function(m,E,e){"use strict";e.r(E);var t=e(11849),h=e(2824),r=e(67294),x=e(28865),M=e(1861),C=e(64458),O=e(47594),n=e(11974),A=e(25496),s=e(30098),a=e(85893);function P(l){return l.children&&l.children.length?(0,a.jsx)(n.v2.SubMenu,{url:"/cms/channels/".concat(l.id),bullet:!0,icon:l.icon,title:l.name,children:(l.children||[]).map(P)},l.id):(0,a.jsx)(n.v2.Item,{url:"/cms/channels/".concat(l.id),bullet:!0,icon:l.icon,children:l.name},l.id)}function y(){var l=(0,C.$C)({fetchPolicy:"cache-and-network"}),u=l.data,_=u===void 0?{channels:[]}:u,v=l.refetch,c=l.loading,f=(0,r.useState)("draft"),o=(0,h.Z)(f,2),D=o[0],g=o[1],b=(0,r.useMemo)(function(){return!_.channels||!_.channels.length?[]:(0,A.G_)(_.channels.map(function(d){return(0,t.Z)({},d)}),{idKey:"id",childrenKey:"children",pidKey:"parent.id",sort:function($,w){return $.index-w.index}})},[_.channels]),j=(0,r.useState)(b.map(function(d){return d.id})),T=(0,h.Z)(j,2),L=T[0],B=T[1],R=(0,r.useCallback)(function(d){g(d.key)},[]),U=(0,r.useCallback)(function(d){B(d)},[]),I=(0,r.useState)(!1),W=(0,h.Z)(I,2),i=W[0],N=W[1],F=(0,r.useCallback)(function(){N(!0)},[]),Z=(0,r.useCallback)(function(){N(!1)},[]);return(0,r.useEffect)(function(){B(b.map(function(d){return d.id}))},[b.map(function(d){return d.id}).join(",")]),(0,a.jsxs)(s.G,{children:[(0,a.jsx)("div",{className:"mt-5 px-5 pt-5",children:(0,a.jsx)("h1",{className:"text-gray-800 fw-bold mb-6 mx-5",children:"\u5185\u5BB9\u7BA1\u7406"})}),(0,a.jsx)(M.E,{className:"custom-scrollbar flex-column-fluid px-10 mb-5",options:{scrollbars:{autoHide:"scroll"}},children:(0,a.jsxs)(n.v2,{className:"cms-menu-sider menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 my-5 my-lg-0",onSelect:R,openKeys:L,selectedKeys:D?[D]:[],onOpenChange:U,accordion:!1,selectable:"AllMenu",fit:!0,children:[(0,a.jsx)(n.v2.Section,{children:"\u6211\u7684"}),(0,a.jsx)(n.v2.Item,{url:"/cms/my/drafts",icon:"Duotune/art008",children:"\u8349\u7A3F\u7BB1"},"draft"),(0,a.jsx)(n.v2.Item,{url:"/cms/my/published",icon:"Duotune/art006",children:"\u5DF2\u53D1\u5E03"},"published"),(0,a.jsxs)(n.v2.Section,{className:"d-flex align-items-center",children:[(0,a.jsxs)("span",{className:"menu-section text-muted text-uppercase fs-8 ls-1 flex-row-fluid",children:["\u4FE1\u606F\u680F\u76EE ",c&&" - loading..."]}),(0,a.jsx)(n.zx,{icon:(0,a.jsx)(x.ZP,{style:{marginRight:".2rem"},name:"Duotune/arr087",className:""}),size:"sm",variant:"white",className:"py-1 px-3 me-n4",onClick:F,children:"\u65B0\u589E"})]}),b.map(P),(0,a.jsx)(n.v2.Section,{children:"\u5176\u4ED6"}),(0,a.jsx)(n.v2.Item,{icon:"Duotune/elc001",children:"\u5927\u56FE\u7BA1\u7406"},"banner"),(0,a.jsx)(n.v2.Item,{url:"/cms/authors",icon:"Duotune/cod002",children:"\u4F5C\u8005"},"authors"),(0,a.jsx)(n.v2.Item,{icon:"Duotune/art002",children:"\u6807\u7B7E"},"tags"),(0,a.jsx)(n.v2.Section,{children:"\u5168\u5C40\u8BBE\u7F6E"}),(0,a.jsx)(n.v2.Item,{icon:"Duotune/abs008",children:"\u8BBE\u7F6E"},"settings")]})}),(0,a.jsx)(O.e,{onSuccess:v,visible:i,onCancel:Z})]})}E.default=y},77104:function(m,E,e){"use strict";var t=e(94184),h=e.n(t),r=e(67294),x=e(70861),M=e(76792),C=e(85893);const O={variant:"primary",active:!1,disabled:!1},n=r.forwardRef((v,_)=>{var{as:A,bsPrefix:s,variant:a,size:P,active:y,className:l}=v,u=S(v,["as","bsPrefix","variant","size","active","className"]);const c=(0,M.vE)(s,"btn"),[f,{tagName:o}]=(0,x.FT)(K({tagName:A},u)),D=o;return(0,C.jsx)(D,K(K(K({},f),u),{ref:_,className:h()(l,c,y&&"active",a&&`${c}-${a}`,P&&`${c}-${P}`,u.href&&u.disabled&&"disabled")}))});n.displayName="Button",n.defaultProps=O,E.Z=n}}]);
