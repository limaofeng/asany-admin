"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6870],{85947:function(B,x,u){u.d(x,{u7:function(){return a.u7},pM:function(){return a.pM},dP:function(){return a.dP},zR:function(){return a.zR},bo:function(){return a.bo},CF:function(){return a.CF},hT:function(){return a.hT},X4:function(){return a.X4},rq:function(){return a.rq},qb:function(){return a.qb},a$:function(){return a.a$},mp:function(){return a.mp},WE:function(){return a.WE},HC:function(){return a.HC},cT:function(){return f},Hr:function(){return w},r3:function(){return a.r3},bI:function(){return a.bI},A6:function(){return a.A6},LV:function(){return a.LV}});var a=u(10557),E=u(15009),n=u.n(E),R=u(99289),e=u.n(R),D=u(5574),l=u.n(D),m=u(62435),d=u(2721),i=u(86074);function M(r,h){var o,g=(0,a.rz)({variables:{id:r==null?void 0:r.id},refetchQueries:[{query:a.dP,variables:{id:r==null||(o=r.application)===null||o===void 0?void 0:o.id}}]}),b=l()(g,1),c=b[0],N=(0,m.useCallback)(e()(n()().mark(function y(){var F;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.Modal.confirm({title:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u8DEF\u7531\u5417\uFF1F",content:(0,i.jsxs)(i.Fragment,{children:["\u60A8\u5373\u5C06\u5220\u9664\u201C",(0,i.jsx)("strong",{children:r.name}),"\u201D\u3002\u5220\u9664\u64CD\u4F5C\u4E0D\u53EF\u9006\u8F6C\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF0C\u60A8\u786E\u5B9A\u5220\u9664\u5417\uFF1F"]}),okText:"\u5220 \u9664",okClassName:"btn-danger"});case 2:if(F=t.sent,!F.isConfirmed){t.next=8;break}return t.next=6,c();case 6:d.Toast.success("\u5220\u9664\u6210\u529F"),h(r);case 8:case"end":return t.stop()}},y)})),[c,r,h]);return[N]}var f=M,L=u(97857),T=u.n(L),P=u(12708);function O(r,h){var o,g,b,c=d.Form.useForm(),N=(0,m.useState)(!1),y=l()(N,2),F=y[0],p=y[1],t=(0,a.X4)({fetchPolicy:"no-cache",refetchQueries:[{query:a.dP,variables:{id:r==null||(o=r.application)===null||o===void 0?void 0:o.id}}]}),I=l()(t,1),S=I[0],z=(0,a.LV)({fetchPolicy:"no-cache",refetchQueries:[{query:a.dP,variables:{id:r==null||(g=r.application)===null||g===void 0?void 0:g.id}}]}),U=l()(z,1),$=U[0],W=(0,m.useMemo)(function(){return r!=null&&r.id?e()(n()().mark(function A(){var v,j,C;return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return p(!0),s.prev=1,s.next=4,c.validateFields();case 4:return v=s.sent,s.next=7,d.Toast.promise((0,P.gw)($({variables:{id:r.id,input:T()({},v)}}),350),{pending:"\u63D0\u4EA4\u4E2D...",success:{render:function(){return(0,i.jsxs)(i.Fragment,{children:["\u8DEF\u7531 ",(0,i.jsx)("strong",{children:v.name})," \u4FDD\u5B58\u6210\u529F"]})}},error:"\u63D0\u4EA4\u51FA\u9519"},{duration:2e3,placement:"top-center"});case 7:j=s.sent,C=j.data,h(C.updateRoute),p(!1),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(1),p(!1);case 16:case"end":return s.stop()}},A,null,[[1,13]])})):e()(n()().mark(function A(){var v,j,C;return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return p(!0),s.prev=1,s.next=4,c.validateFields();case 4:return v=s.sent,s.next=7,d.Toast.promise((0,P.gw)(S({variables:{input:T()(T()({},v),{},{application:r.application.id})}}),350),{pending:"\u63D0\u4EA4\u4E2D...",success:{render:function(){return(0,i.jsxs)(i.Fragment,{children:["\u8DEF\u7531 ",(0,i.jsx)("strong",{children:v.name})," \u65B0\u589E\u6210\u529F"]})}},error:"\u63D0\u4EA4\u51FA\u9519"},{duration:2e3,placement:"top-center"});case 7:j=s.sent,C=j.data,h(C.createRoute),p(!1),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(1),p(!1);case 16:case"end":return s.stop()}},A,null,[[1,13]])}))},[S,r==null||(b=r.application)===null||b===void 0?void 0:b.id,r==null?void 0:r.id,c,h,$]);return[W,{form:c,submitting:F}]}var w=O},46870:function(B,x,u){u.r(x);var a=u(12845),E=u(73588),n=u(2721),R=u(85947),e=u(86074);function D(){var l=(0,R.HC)(),m=l.data,d=m===void 0?{apps:[]}:m,i=l.loading,M=d.apps;return(0,e.jsx)(E.vs,{header:{title:"\u5E94\u7528\u7BA1\u7406"},loading:i,children:(0,e.jsx)(n.Row,{gutter:{default:6,xl:9},children:M.map(function(f){return(0,e.jsx)(n.Col,{md:6,xl:4,children:(0,e.jsxs)(n.Card,{as:a.Link,to:"/apps/".concat(f.id),className:"border-hover-primary",children:[(0,e.jsxs)(n.Card.Header,{border:!1,className:"pt-9",children:[(0,e.jsx)(n.Card.Title,{className:"m-0",children:(0,e.jsx)(n.Symbol.Avatar,{size:50,labelClassName:"fs-2",className:"bg-light",src:"/assets/media/svg/brand-logos/plurk.svg",gap:3})}),(0,e.jsx)(n.Card.Toolbar,{children:(0,e.jsx)(n.Badge,{lightStyle:"primary",className:"fw-bolder me-auto px-4 py-3",children:"In Progress"})})]}),(0,e.jsxs)(n.Card.Body,{className:"p-9",children:[(0,e.jsx)("div",{className:"fs-3 fw-bolder text-dark",children:f.title}),(0,e.jsx)("p",{className:"text-gray-400 fw-bold fs-5 mt-1 mb-7",children:f.description}),(0,e.jsxs)("div",{className:"d-flex flex-wrap mb-5",children:[(0,e.jsxs)("div",{className:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-7 mb-3",children:[(0,e.jsx)("div",{className:"fs-6 text-gray-800 fw-bolder",children:"Sep 22, 2021"}),(0,e.jsx)("div",{className:"fw-bold text-gray-400",children:"Due Date"})]}),(0,e.jsxs)("div",{className:"border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 mb-3",children:[(0,e.jsx)("div",{className:"fs-6 text-gray-800 fw-bolder",children:"$284,900.00"}),(0,e.jsx)("div",{className:"fw-bold text-gray-400",children:"Budget"})]})]}),(0,e.jsx)(n.Tooltip,{title:"This project 50% completed",children:(0,e.jsx)("div",{className:"h-4px w-100 bg-light mb-5",children:(0,e.jsx)(n.Progress,{percent:50})})}),(0,e.jsxs)(n.Symbol.Group,{maxCount:5,children:[(0,e.jsx)(n.Symbol.Avatar,{labelClassName:"fs-2",size:35,shape:"circle",src:"/assets/media/avatars/150-1.jpg"}),(0,e.jsx)(n.Symbol.Avatar,{labelClassName:"fs-2",size:35,shape:"circle",src:"/assets/media/avatars/150-2.jpg"}),(0,e.jsx)(n.Symbol.Avatar,{labelClassName:"fs-2",size:35,shape:"circle",alt:"Susan Redwood"})]})]})]})},f.id)})})})}x.default=D}}]);
