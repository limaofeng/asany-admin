"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5,1836],{51253:function(F,R,a){a.d(R,{GP:function(){return j.Z},Hk:function(){return S},xx:function(){return A.x}});var W=a(74958),j=a(5166),A=a(19260),g=a(68400),f=a.n(g),M=a(62435),P=a(93967),o=a.n(P),K=a(94589),H=a(97857),T=a.n(H),h=a(46027),k=a(42687),O=a(13757),U=a(5574),$=a.n(U),s=a(96486),i=a(86074),u={aside:{minimize:!1,width:280}},c=M.createContext({state:u,dispatch:function(){}}),D=function(n){return n.AsideToggle="ASIDE_TOGGLE",n.AsideWidth="ASIDE_WIDTH",n}({});function I(n,y){switch(y.type){case"ASIDE_TOGGLE":return n.aside.minimize=!n.aside.minimize,T()({},n);case"ASIDE_WIDTH":return n.aside.width=y.payload,T()({},n);default:throw new Error}}var C=function(y){var b=(0,M.useReducer)(I,(0,s.cloneDeep)(u)),x=$()(b,2),E=x[0],N=x[1];return(0,i.jsx)(c.Provider,{value:{state:E,dispatch:N},children:y.children})},p=function(){return(0,M.useContext)(c)},z=a(65495);function d(n){var y=p(),b=y.dispatch,x=y.state.aside.minimize,E=(0,M.useCallback)(function(){b({type:D.AsideToggle})},[b]);return(0,i.jsx)(O.Button,{style:T()({marginBottom:"1.35rem",zIndex:105},n.style),onClick:E,activeColor:"primary",className:o()("micro-app-aside-toggle","btn-icon bg-body btn-color-gray-700 rounded-2 position-absolute translate-middle bottom-0 shadow-sm d-none d-lg-flex",n.className,{active:x}),children:(0,i.jsx)(h.JO,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})}function e(n){var y=n.className,b=n.header,x=n.children,E=n.collapsible,N=E===void 0?!0:E,L=n.width,B=L===void 0?280:L,w=(0,k.$Y)(),Z=p(),G=Z.dispatch;return(0,M.useEffect)(function(){w.aside.width(B+100),G({type:D.AsideWidth,payload:B})},[w.aside,G,B]),(0,i.jsxs)("div",{className:o()("app-aside aside",y),children:[(0,i.jsx)(z.Z,{children:(0,i.jsx)(j.Z,{header:b,resizeable:!0,className:"app-sidebar",children:x})}),N&&(0,i.jsx)(d,{className:"start-100 end-0"})]})}e.Toggle=d;var r=e,t,m=K.ZP.div(t||(t=f()([`
  --root-aside-width: `,`;
  --met-aside-width: `,`;
`])),function(n){return n.minimize?"100px":"".concat(n.width,"px")},function(n){return n.minimize?"100px":"".concat(n.width,"px")});function v(n){var y=n.children,b=n.className,x=p(),E=x.state.aside,N=E.minimize,L=E.width,B=(0,M.useCallback)(function(w){w.preventDefault()},[]);return(0,i.jsx)(m,{minimize:N,width:L,className:o()("micro-app-container page-full-content",b,{"aside-minimize":N}),onContextMenu:B,children:y})}function l(n){var y=n.children,b=n.className;return(0,i.jsx)(C,{children:(0,i.jsx)(v,{className:b,children:y})})}l.Sidebar=r;var S=l},42687:function(F,R,a){a.d(R,{$Y:function(){return h},BK:function(){return O},aM:function(){return $}});var W=a(5574),j=a.n(W),A=a(97857),g=a.n(A),f=a(62435),M=a(86074),P=f.createContext({getState:function(){return{routes:[]}},subscribe:function(){},dispatch:function(){}}),o=function(i,u){return u?u.type==="ASIDE_MINIMIZE"?g()(g()({},i),{},{aside:g()(g()({},i.aside),{},{minimize:!!u.payload})}):u.type==="ASIDE_WIDTH"?g()(g()({},i),{},{aside:g()(g()({},i.aside),{},{width:u.payload})}):u.type==="ASIDE_COLLAPSIBLE"?g()(g()({},i),{},{aside:g()(g()({},i.aside),{},{collapsible:u.payload})}):i:i},K=function(i){return g()({},i)};function H(s){var i=(0,f.useReducer)(o,s,K),u=j()(i,2),c=u[0],D=u[1],I=(0,f.useState)([]),C=j()(I,1),p=C[0],z=function(S){return function(){var n=p.indexOf(S);n>-1&&p.splice(n,1)}},d=(0,f.useCallback)(function(l){return p.unshift(l),z(l)},[p]),e=(0,f.useCallback)(function(){p.forEach(function(l){return l()})},[p]),r={getState:function(){return c},dispatch:D,subscribe:d},t=(0,f.useState)(r),m=j()(t,1),v=m[0];return(0,f.useEffect)(function(){v.getState=function(){return c},e()},[c]),v}var T=function(i,u){return i===u};function h(){var s=(0,f.useContext)(P),i=(0,f.useRef)({aside:{get state(){return s.getState().aside},width:function(c){s.dispatch({type:"ASIDE_WIDTH",payload:c})},minimize:function(c){s.dispatch({type:"ASIDE_MINIMIZE",payload:c})},collapsible:function(c){s.dispatch({type:"ASIDE_COLLAPSIBLE",payload:c})}}});return i.current}function k(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T,u=(0,f.useContext)(P),c=(0,f.useReducer)(function(d){return d+1},0),D=j()(c,2),I=D[1],C=(0,f.useRef)(),p=s(u.getState());function z(){var d=s(u.getState());i(d,C.current)||(C.current=d,I())}return(0,f.useEffect)(function(){return u.subscribe(z)},[]),p}function O(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T;return k(s,i)}function U(){var s=useContext(P);return s.dispatch}function $(s){var i=s.children,u=s.state,c=H(u);return(0,f.useMemo)(function(){return(0,M.jsx)(P.Provider,{value:c,children:i})},[i,c])}},96414:function(F,R,a){a.d(R,{dI:function(){return z},rB:function(){return p}});var W=a(5574),j=a.n(W),A=a(62435),g={USERS_LIST:"users-list"};function f(d){return d!=null&&d!==""}function M(d,e){var r=useState(d),t=_slicedToArray(r,2),m=t[0],v=t[1];return useEffect(function(){var l=setTimeout(function(){v(d)},e);return function(){clearTimeout(l)}},[d,e]),m}var P=a(72004),o=a.n(P),K=a(12444),H=a.n(K),T=a(9783),h=a.n(T),k=a(8606),O=o()(function d(){var e=this;H()(this,d),h()(this,"menu",null),h()(this,"element",null),h()(this,"getParamName",function(r){var t=document.body.hasAttribute("data-kt-name"),m=t?t+"_":"";return"kt_"+m+"theme_mode_"+r}),h()(this,"getMode",function(){var r,t=e.getParamName("value"),m=e.getMenuMode(),v="light";if(!localStorage)return v;var l=localStorage.getItem(t);if(l)return l;var S=(r=e.element)===null||r===void 0?void 0:r.getAttribute("data-theme");return S||(m?m==="system"?e.getSystemMode():m:v)}),h()(this,"setMode",function(r,t){var m,v,l,S=r,n=t;if(!(S!=="light"&&S!=="dark")){var y=e.getParamName("value"),b=e.getParamName("menu");n==="system"&&e.getSystemMode()!==S&&(S=e.getSystemMode()),n||(n=S);var x=((m=e.menu)===null||m===void 0?void 0:m.querySelector('[data-kt-element="mode"][data-kt-value="'+n+'"]'))||null;(v=e.element)===null||v===void 0||v.setAttribute("data-kt-theme-mode-switching","true"),(l=e.element)===null||l===void 0||l.setAttribute("data-theme",S);var E=e;setTimeout(function(){var N;(N=E.element)===null||N===void 0||N.removeAttribute("data-kt-theme-mode-switching")},300),localStorage&&localStorage.setItem(y,S),x&&localStorage&&(localStorage.setItem(b,n),e.setActiveMenuItem(x)),e.flipImages()}}),h()(this,"getMenuMode",function(){var r,t=e.getParamName("menu"),m=(r=e.menu)===null||r===void 0?void 0:r.querySelector('.active[data-kt-element="mode"]'),v=m==null?void 0:m.getAttribute("data-kt-value");if(v)return v;if(!t)return"";var l=localStorage?localStorage.getItem(t):null;return l||""}),h()(this,"getSystemMode",function(){return window.matchMedia("(prefers-color-scheme: dark)")?"dark":"light"}),h()(this,"initMode",function(){e.setMode(e.getMode(),e.getMenuMode()),e.element&&k.EventHandlerUtil.trigger(e.element,"kt.thememode.init")}),h()(this,"setActiveMenuItem",function(r){var t,m=e.getParamName("menu"),v=r.getAttribute("data-kt-value"),l=(t=e.menu)===null||t===void 0?void 0:t.querySelector('.active[data-kt-element="mode"]');l&&l.classList.remove("active"),r.classList.add("active"),localStorage&&v&&m&&localStorage.setItem(m,v)}),h()(this,"handleMenu",function(){var r;(r=e.menu)===null||r===void 0||(r=r.querySelectorAll('[data-kt-element="mode"]'))===null||r===void 0||r.forEach(function(t){t.addEventListener("click",function(m){m.preventDefault();var v=t.getAttribute("data-kt-value"),l=v==="system"?e.getSystemMode():v;l&&e.setMode(l,v)})})}),h()(this,"flipImages",function(){var r;(r=document.querySelectorAll("[data-kt-img-dark]"))===null||r===void 0||r.forEach(function(t){t.tagName==="IMG"?e.getMode()==="dark"&&t.hasAttribute("data-kt-img-dark")?(t.setAttribute("data-kt-img-light",t.getAttribute("src")||""),t.setAttribute("src",t.getAttribute("data-kt-img-dark")||"")):e.getMode()==="light"&&t.hasAttribute("data-kt-img-light")&&(t.setAttribute("data-kt-img-dark",t.getAttribute("src")||""),t.setAttribute("src",t.getAttribute("data-kt-img-light")||"")):e.getMode()==="dark"&&t.hasAttribute("data-kt-img-dark")?(t.setAttribute("data-kt-img-light",t.getAttribute("src")||""),t.style.backgroundImage="url('"+t.getAttribute("data-kt-img-dark")+"')"):e.getMode()==="light"&&t.hasAttribute("data-kt-img-light")&&(t.setAttribute("data-kt-img-dark",t.getAttribute("src")||""),t.style.backgroundImage="url('"+t.getAttribute("data-kt-img-light")+"')")})}),h()(this,"on",function(r,t){if(e.element)return k.EventHandlerUtil.on(e.element,r,t)}),h()(this,"off",function(r,t){if(e.element)return k.EventHandlerUtil.off(e.element,r,t)}),h()(this,"init",function(){e.menu=document.querySelector('[data-kt-element="theme-mode-menu"]'),e.element=document.documentElement,e.initMode(),e.menu&&e.handleMenu()})}),U=new O,$=a(86074),s=U.getSystemMode(),i=function(e){var r=e!=="system"?e:s,t="/media/patterns/header-bg"+(r==="light"?".jpg":"-dark.png");document.body.style.backgroundImage='url("'.concat(toAbsoluteUrl(t),'")')},u="kt_theme_mode_value",c="kt_theme_mode_menu",D=function(e){if(!localStorage)return"light";var r=localStorage.getItem(e);return!r||r==="light"?"light":r==="dark"?"dark":"system"},I={mode:D(u),menuMode:D(c),updateMode:function(e){},updateMenuMode:function(e){}},C=(0,A.createContext)({mode:I.mode,menuMode:I.menuMode,updateMode:function(e){},updateMenuMode:function(e){}}),p=function(){return(0,A.useContext)(C)},z=function(e){var r=e.children,t=(0,A.useState)(I.mode),m=j()(t,2),v=m[0],l=m[1],S=(0,A.useState)(I.menuMode),n=j()(S,2),y=n[0],b=n[1],x=function(L){var B=L==="system"?s:L;l(B),localStorage&&localStorage.setItem(u,B),document.documentElement.setAttribute("data-theme",B),U.init()},E=function(L){b(L),localStorage&&localStorage.setItem(c,L)};return(0,A.useEffect)(function(){x(v),E(y)},[]),(0,$.jsx)(C.Provider,{value:{mode:v,menuMode:y,updateMode:x,updateMenuMode:E},children:r})}},25936:function(F,R,a){a.r(R),a.d(R,{default:function(){return H}});var W=a(5574),j=a.n(W),A=a(62435),g=a(96974),f=a(51253),M=a(13757),P=a(70694),o=a(86074);function K(T){var h=T.children,k=T.location,O=T.match.params.id,U=(0,P.k$)({variables:{id:O},fetchPolicy:"cache-and-network"}),$=U.data,s=$===void 0?{}:$,i=U.loading,u=s.module,c=(0,A.useMemo)(function(){var d=(0,g.LX)(k.pathname,{path:"/modules/:id/:feat",exact:!1,strict:!0});return d?d.params.feat:""},[k.pathname]),D=(0,A.useState)(c),I=j()(D,2),C=I[0],p=I[1];(0,A.useEffect)(function(){c&&p(c)},[c]);var z=(0,A.useCallback)(function(d){console.log("selectedKey",d.key),p(d.key)},[]);return(0,o.jsx)(f.Hk,{className:"module-view-app",loading:i,children:u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.Hk.Sidebar,{className:"module-view-app-sidebar",collapsible:!1,width:216,children:(0,o.jsxs)(M.BlockUI,{zIndex:10,className:"mt-5 p-5",overlayClassName:"bg-white bg-opacity-25",loading:!1,children:[(0,o.jsx)("div",{className:"pb-5",children:(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)(M.Symbol.Avatar,{alt:"\u5565\u5730\u65B9",className:"me-5",size:40}),(0,o.jsxs)("div",{className:"flex-grow-1",children:[(0,o.jsx)("a",{className:"text-dark fw-bolder text-hover-primary fs-6",children:u.name}),(0,o.jsx)("span",{className:"text-muted d-block fw-bold fs-8",dangerouslySetInnerHTML:{__html:u.description||"&nbsp;"}})]})]})}),(0,o.jsxs)("div",{className:"module-view-app-sidebar__menu_container",children:[(0,o.jsxs)(M.Menu,{fit:!0,accordion:!1,selectable:"AllMenu",className:"menu-title-gray-600 menu-icon-gray-400 menu-state-bg menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 my-5 my-lg-0",selectedKeys:C?[C]:[],onSelect:z,children:[(0,o.jsx)(M.Menu.Item,{bullet:!0,icon:"Fonticon/layers",title:"\u7ED3\u6784\u5B9A\u4E49",url:"/modules/".concat(u.id,"/schema")},"schema"),(0,o.jsx)(M.Menu.Item,{bullet:!0,icon:"Fonticon/alignment-right",title:"\u5185\u5BB9\u7BA1\u7406",url:"/modules/".concat(u.id,"/content")},"content"),(0,o.jsx)(M.Menu.Item,{bullet:!0,icon:"Fonticon/attachments",title:"\u9759\u6001\u8D44\u6E90",url:"/modules/".concat(u.id,"/assets")},"assets")]}),(0,o.jsx)(M.Menu,{fit:!0,accordion:!1,className:"menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-bg menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 my-5 my-lg-0",selectedKeys:c?[c]:[],children:(0,o.jsx)(M.Menu.Item,{bullet:!0,icon:"Bootstrap/gear",title:"\u6A21\u5757\u8BBE\u7F6E",url:"/modules/".concat(u.id,"/settings")},"settings")})]})]})}),(0,o.jsxs)("div",{style:{zIndex:99},className:"position-relative d-flex flex-row flex-row-fluid",children:[(0,o.jsx)("div",{style:{position:"fixed",height:"100vh",width:"1px",zIndex:105},children:(0,o.jsx)(f.Hk.Sidebar.Toggle,{className:"start-0"})}),A.Children.map(h,function(d){return d.props.location.state={module:u,baseUrl:"/modules/"+O},d})]})]})})}var H=K}}]);
