"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4958],{74958:function(ee,P,e){e.r(P),e.d(P,{default:function(){return Ke}});var C=e(5574),j=e.n(C),G=e(97857),a=e.n(G),u=e(13769),O=e.n(u),E=e(68400),b=e.n(E),n=e(67294),H=e(8330),V=e(96974),Q=e(44173),W=e(35090),D=e(12845),_=e(46810),d=e(93967),o=e.n(d),s=e(11290),i=e(94589),f=e(12708),L=e(60665),I=e(35005),T=e(46027),g=e(35908),z=e(2721),Y=e(89424),ae=e(8606),oe=e(65495),t=e(85893);function se(r,l){var m=r.url,x=m===void 0?"/":m,p=r.logo,y=p===void 0?"/assets/media/logos/demo7.svg":p;return(0,t.jsx)("div",{ref:l,className:"aside-logo d-none d-lg-flex flex-column align-items-center flex-column-auto py-10",children:(0,t.jsx)("a",{href:x,children:(0,t.jsx)("img",{alt:"Logo",src:y,className:"h-30px"})})})}var ne=n.forwardRef(se),J=ne,te=e(5166),A=e(42687),xe=n.forwardRef(function(r,l){var m,x=r.menus,p=r.activeKey,y=r.onSelect,K=(0,n.useState)(!1),M=j()(K,2),N=M[0],h=M[1],Z=(0,n.useState)(!1),R=j()(Z,2),B=R[0],U=R[1],X=(0,g.ot)(),S=X.data,k=(0,W.ZC)("cn.asany.ui.admin.user.UserAccountMenu"),v=(0,W.ZC)("cn.asany.ui.admin.user.Notifications"),w=(0,n.useCallback)(function(){h(!1)},[]),$=(0,n.useCallback)(function(){U(!1)},[]),ie=function(ue){return function(){y(ue.id)}};return(0,t.jsxs)("div",{ref:l,className:"aside-footer d-flex flex-column align-items-center flex-column-auto",children:[x.map(function(F){return(0,t.jsx)("div",{className:"d-flex align-items-center mb-2",children:(0,t.jsx)(z.Tooltip,{title:F.name,placement:"right",children:(0,t.jsx)("div",{onClick:ie(F),className:o()("btn btn-icon btn-active-color-primary btn-color-gray-400 btn-active-light",{active:p===F.id}),title:F.name,children:(0,t.jsx)(T.ZP,{name:F.icon,className:"svg-icon-2 svg-icon-lg-1"})})})},F.id)}),(0,t.jsx)("div",{style:{display:"none"},className:"align-items-center mb-2",children:(0,t.jsx)("div",{className:"btn btn-icon btn-active-color-primary btn-color-gray-400 btn-active-light",children:(0,t.jsx)(Y.Z,{placement:"top-start",zIndex:100,visible:B,onVisibleChange:U,arrowProps:{style:{display:"none"}},overlayClassName:"overlay-zero-gap overlay-no-arrow overlay-no-border",content:(0,t.jsx)(v,{close:$,visible:B}),children:(0,t.jsx)(z.Tooltip,{title:"\u901A\u77E5",placement:"right",children:(0,t.jsx)(T.ZP,{name:"Duotune/gen007",className:"svg-icon-2 svg-icon-lg-1"})})})})}),(0,t.jsx)("div",{className:"d-flex align-items-center mb-10",children:(0,t.jsx)(Y.Z,{placement:"top-start",zIndex:100,visible:N,onVisibleChange:h,arrowProps:{style:{display:"none"}},overlayClassName:"overlay-zero-gap overlay-no-arrow",content:(0,t.jsx)(k,{close:w}),children:(0,t.jsx)(z.Tooltip,{title:"\u7528\u6237\u8D44\u6599",placement:"right",children:(0,t.jsx)(z.Symbol.Avatar,{size:40,src:(0,f.Fz)(S==null||(m=S.avatar)===null||m===void 0?void 0:m.id,{size:"300x300"}),className:"cursor-pointer",alt:S==null?void 0:S.name})})})})]})}),re=["/drive","/calendar","/contacts","/mail"],pe={"drawer drawer-start":{maxWidth:992}};function me(r){var l=r.logo,m=r.menuRender,x=r.activeKey,p=r.onSelect,y=(0,n.useRef)(null),K=(0,n.useRef)(null),M=(0,n.useRef)(null),N=(0,n.useRef)(null);(0,ae.useScroll)(N,y,[K,M]);var h=(0,A.BK)(function(c){return c.aside.collapsible}),Z=(0,A.BK)(function(c){return c.aside.minimize}),R=(0,A.BK)(function(c){return c.aside.menus||[]}),B=(0,A.$Y)(),U=(0,n.useCallback)(function(){B.aside.minimize(!Z)},[B,Z]),X=(0,n.useCallback)(function(c){p(c)},[p]),S=(0,n.useMemo)(function(){return R.filter(function(c){return re.includes(c.path)}).filter(function(c){return!c.hideInMenu}).sort(function(c,Oe){return re.findIndex(function(ce){return ce===c.path})-re.findIndex(function(ce){return ce===Oe.path})})},[R]),k=(0,n.useMemo)(function(){return R.filter(function(c){return!re.includes(c.path)}).filter(function(c){return!c.hideInMenu})},[R]),v=m===!1,w=(0,g.CN)(pe),$=(0,A.BK)(function(c){return c.aside.drawer}),ie=(0,z.useDrawer)({placement:"left",visible:$}),F=j()(ie,2),ue=F[0],he=F[1],le=he.visible,de=he.className;(0,n.useEffect)(function(){le!==$&&B.aside.drawer(le)},[le]);var q=w["drawer drawer-start"],Pe=(0,n.useMemo)(function(){return q?de:de.split(" ").filter(function(c){return!["drawer","drawer-start"].includes(c)}).join(" ")},[q,de]);return(0,n.useEffect)(function(){q===!1&&(console.log("ContentHeader",q,$),B.aside.drawer(!1))},[q]),(0,t.jsxs)("div",{className:o()("aside",Pe,{"aside-extended":!Z,"drawer-on":$,"no-secondary":v}),children:[ue,(0,t.jsxs)("div",{className:"aside-primary d-flex flex-column align-items-lg-center flex-row-auto",children:[(0,t.jsx)(J,{ref:K,url:"/",logo:l}),(0,t.jsx)("div",{ref:y,className:"aside-nav d-flex flex-column align-items-center flex-column-fluid w-100 pt-5 pt-lg-0",children:(0,t.jsx)("div",{ref:N,className:"hover-scroll-overlay-y mb-5 scroll-ms px-5",children:(0,t.jsx)(L.Z,{onSelect:X,activeKey:x,className:"flex-column",as:"ul",children:k.map(function(c){return(0,t.jsx)(L.Z.Item,{className:"mb-2",as:"li",children:(0,t.jsx)(z.Tooltip,{title:c.name,placement:"right",children:(0,t.jsx)(L.Z.Link,{eventKey:c.id,className:"btn btn-icon btn-active-color-primary btn-color-gray-400 btn-active-light",children:c.icon&&(0,t.jsx)(T.ZP,{name:c.icon,className:"svg-icon-2x"})})})},c.id)})})})}),(0,t.jsx)(xe,{ref:M,menus:S,onSelect:X,activeKey:x})]}),!v&&(0,t.jsx)(oe.Z,{children:m}),!v&&h&&(0,t.jsx)(I.Z,{style:{marginBottom:"1.35rem",zIndex:10},onClick:U,className:o()("btn-icon bg-body btn-color-gray-700 rounded-2 btn-active-primary position-absolute translate-middle start-100 end-0 bottom-0 shadow-sm d-none d-lg-flex",{active:Z}),children:(0,t.jsx)(T.ZP,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})]})}me.Workspace=te.Z;var ge=me,je=e(19260);function Se(r){var l=r.menu,m=r.component,x=(0,W.ZC)(m.template,m.blocks);return(0,t.jsx)(x,{menu:l})}var Ee=Se;function Me(r){return r.component?(0,t.jsx)(Ee,{menu:r,component:r.component}):(0,t.jsx)(te.Z,{children:(0,t.jsx)(je.Z,{title:r.name,menus:r.children})})}var Re=Me,be=function(l){var m,x,p,y={};return l!=null&&l.hideFooter&&(y.footerRender=!1),(l==null?void 0:l.layout)===!1?(y.pure=!0,y):(l!=null&&(m=l.layout)!==null&&m!==void 0&&m.hideMenu&&(y.menuRender=!1),l!=null&&(x=l.layout)!==null&&x!==void 0&&x.hideFooter&&(y.footerRender=!1),l!=null&&(p=l.layout)!==null&&p!==void 0&&p.hideNav&&(y.headerRender=!1),y)},Ae=be,Ne=["children","pure","activeKey","onSelect","menuRender"],fe,ve=!1,Ce=i.ZP.div(fe||(fe=b()([`
  --root-aside-width: `,`;
  --met-aside-width: `,`;
`])),function(r){return r.minimize?"100px":"".concat(r.width,"px")},function(r){return r.minimize?"100px":"".concat(r.width,"px")});function De(r){var l=r.children,m=r.menuRender,x=r.activeKey,p=r.onSelect,y=(0,A.BK)(function(h){return h.aside.width}),K=(0,A.BK)(function(h){return h.aside.minimize}),M=(0,A.BK)(function(h){return h.logo}),N=o()("header-fixed header-tablet-and-mobile-fixed aside-fixed aside-secondary-enabled",{});return(0,n.useEffect)(function(){return N.split(" ").forEach(function(h){document.body.classList.add(h)}),function(){N.split(" ").forEach(function(h){console.log("menuRender remove",h),document.body.classList.remove(h)})}},[N]),(0,t.jsx)(Ce,{width:y,minimize:K||m===!1,"data-kt-aside-minimize":K||m===!1?"on":"off",children:(0,t.jsxs)("div",{className:"d-flex flex-column flex-root",children:[(0,t.jsx)(Q.Ix,{}),(0,t.jsxs)("div",{className:"page d-flex flex-row flex-column-fluid",children:[(0,t.jsx)(ge,{menuRender:m,onSelect:p,activeKey:x,logo:M}),l]})]})})}var ye={logo:"/assets/media/logos/demo7.svg"};function Le(r){var l=r.children,m=r.pure,x=r.activeKey,p=r.onSelect,y=r.menuRender,K=O()(r,Ne),M=(0,A.BQ)(),N=(0,W.rL)({key:"layout",title:"\u5E03\u5C40 7",icon:"",props:ye,customizer:{fields:[{name:"logo",label:"Logo",type:"String"}]}}),h=N.props,Z=N.Provider;return(0,n.useEffect)(function(){M({type:"CHANGE_LOGO",payload:h.logo})},[h.logo]),(0,t.jsx)(Z,{children:m?l:(0,t.jsx)(De,a()(a()({},K),{},{activeKey:x,onSelect:p,menuRender:y,children:l}))})}function Ie(r){var l=(0,D.useRouteProps)(),m=(0,D.useLocation)(),x=(0,V.s0)(),p=(0,D.useSelectedRoutes)(),y=(0,D.useApp)(),K=y.menus,M=(0,n.useRef)({}),N=(0,n.useReducer)(function(v){return v+1},0),h=j()(N,2),Z=h[1],R=(0,n.useMemo)(function(){return f.G_(K.map(function(v){return a()(a()({},v),{},{key:v.id,routes:[]})}),{idKey:"id",childrenKey:"routes",pidKey:"parent.id",sort:function(w,$){return w.index-$.index}})},[K]),B=l,U=(0,n.useMemo)(function(){return B?Ae(B):{}},[B]),X=(0,n.useCallback)(function(v){M.current.activeMenuKey=v;var w=R.find(function($){return $.id===v});w.path?x(w.path):Z()},[D.history,R]),S=(0,n.useMemo)(function(){var v=(0,_.nG)(m.pathname,R,!0);return v[0]},[m.pathname,R]);(0,n.useEffect)(function(){!S||M.current.activeMenuKey===S.id||(M.current.activeMenuKey=S.id,Z())},[S]);var k=(0,n.useMemo)(function(){if(U.menuRender===!1)return!1;if(U.menuRender)return U.menuRender;var v=S;return!v||!v.component&&!(v.children||[]).length?!1:Re(v)},[U.menuRender,S]);return(0,t.jsxs)(A.aM,{state:{logo:ye.logo,menus:R,routes:p.map(function(v){return v.route}),aside:{menus:R,minimize:!1,pure:U.pure,width:200}},children:[(0,t.jsx)(Le,a()(a()({},r),{},{activeKey:M.current.activeMenuKey,onSelect:X,menuRender:k,pure:U.pure,children:(0,t.jsx)(V.j3,{})})),ve,ve&&(0,t.jsx)(H.l,{keys:["control","shift","command","c"],onClickElement:function(w){console.debug(w)}})]})}var Ke=Ie},65495:function(ee,P,e){var C=e(67294),j=e(85893);function G(u){var O=u.children;return(0,j.jsx)("div",{className:"aside-secondary d-flex flex-row-fluid",children:O})}var a=C.memo(G);P.Z=a},5166:function(ee,P,e){e.d(P,{Z:function(){return _}});var C=e(67294),j=e(93967),G=e.n(j),a=e(1861),u=e(12845),O=e(46810),E=e(76525),b=e(85893);function n(d){if(d.type==="SECTION")return(0,b.jsx)(E.Z.Section,{title:d.name},d.id);if(d.type==="URL")return(0,b.jsx)(E.Z.Item,{bullet:!0,icon:d.icon,title:d.name,url:d.path},d.id);if(d.type==="SEPARATOR")return(0,b.jsx)(E.Z.Separator,{},d.id);if(d.type==="MENU")return(0,b.jsx)(E.Z.SubMenu,{bullet:!0,icon:d.icon,title:d.name,children:(d.routes||[]).map(n)},d.id);throw new Error("\u4E0D\u652F\u6301\u7684 MenuType"+d.type)}var H=[];function V(d){var o=d.menus,s=o===void 0?H:o,i=(0,u.useLocation)(),f=(0,C.useMemo)(function(){return(0,O.nG)(i.pathname,s,!0)},[s,i.pathname]),L=f.map(function(I){return I.key});return(0,b.jsx)(E.Z,{className:"menu-fit menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 px-6 my-5 my-lg-0",selectedKeys:L,children:s.filter(function(I){return!I.hideInMenu}).map(n)})}var Q=V,W=e(42687);function D(d){var o=d.className,s=d.width,i=s===void 0?280:s,f=d.children,L=d.collapsible,I=L===void 0?!0:L,T=d.header,g=(0,W.$Y)();return(0,C.useEffect)(function(){g.aside.width(i+100)},[g.aside,i]),(0,C.useEffect)(function(){g.aside.collapsible(I)},[g.aside,I]),(0,b.jsxs)("div",{className:G()("aside-workspace",o),children:[T,(0,b.jsx)(a.E,{className:"d-flex h-100 flex-column custom-scrollbar",options:{scrollbars:{autoHide:"scroll"}},children:f})]})}D.MenuBar=Q;var _=D},19260:function(ee,P,e){e.d(P,{x:function(){return O}});var C=e(67294),j=e(12845),G=e(46810),a=e(76525),u=e(85893);function O(n){if(n.type==="SECTION")return(0,u.jsx)(a.Z.Section,{children:n.name},n.id);if(n.type==="URL")return(0,u.jsx)(a.Z.Item,{bullet:!0,icon:n.icon,title:n.name,url:n.path},n.id);if(n.type==="SEPARATOR")return(0,u.jsx)(a.Z.Separator,{});if(n.type==="MENU")return(0,u.jsx)(a.Z.SubMenu,{bullet:!0,icon:n.icon,title:n.name,children:(n.children||[]).map(O)},n.id);throw new Error("\u4E0D\u652F\u6301\u7684 MenuType"+n.type)}function E(n){var H=n.menus,V=n.title,Q=(0,j.useLocation)(),W=(0,C.useMemo)(function(){return(0,G.nG)(Q.pathname,H,!0)},[H,Q.pathname]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"m-0",children:(0,u.jsx)("h1",{className:"text-gray-800 fw-bold mb-6 mx-5",children:V})}),(0,u.jsx)(a.Z,{className:"menu-fit menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 px-6 my-5 my-lg-0",selectedKeys:W.map(function(D){return D.key}),children:H.map(O)})]})}var b=C.memo(E);P.Z=b},42687:function(ee,P,e){e.d(P,{$Y:function(){return Q},BK:function(){return D},BQ:function(){return _},aM:function(){return d}});var C=e(5574),j=e.n(C),G=e(97857),a=e.n(G),u=e(67294),O=e(85893),E=u.createContext({getState:function(){return{routes:[]}},subscribe:function(){},dispatch:function(){}}),b=function(s,i){return i?i.type==="ASIDE_MINIMIZE"?a()(a()({},s),{},{aside:a()(a()({},s.aside),{},{minimize:!!i.payload})}):i.type==="ASIDE_WIDTH"?a()(a()({},s),{},{aside:a()(a()({},s.aside),{},{width:i.payload})}):i.type==="ASIDE_COLLAPSIBLE"?a()(a()({},s),{},{aside:a()(a()({},s.aside),{},{collapsible:i.payload})}):i.type==="ASIDE_DRAWER"?a()(a()({},s),{},{aside:a()(a()({},s.aside),{},{drawer:i.payload})}):i.type==="CHANGE_LOGO"?a()(a()({},s),{},{logo:i.payload}):s:s},n=function(s){return a()({},s)};function H(o){var s=(0,u.useReducer)(b,o,n),i=j()(s,2),f=i[0],L=i[1],I=(0,u.useState)([]),T=j()(I,1),g=T[0],z=function(te){return function(){var A=g.indexOf(te);A>-1&&g.splice(A,1)}},Y=(0,u.useCallback)(function(J){return g.unshift(J),z(J)},[g]),ae=(0,u.useCallback)(function(){g.forEach(function(J){return J()})},[g]),oe={getState:function(){return f},dispatch:L,subscribe:Y},t=(0,u.useState)(oe),se=j()(t,1),ne=se[0];return(0,u.useEffect)(function(){ne.getState=function(){return f},ae()},[f]),ne}var V=function(s,i){return s===i};function Q(){var o=(0,u.useContext)(E),s=(0,u.useRef)({aside:{get state(){return o.getState().aside},width:function(f){o.dispatch({type:"ASIDE_WIDTH",payload:f})},minimize:function(f){o.dispatch({type:"ASIDE_MINIMIZE",payload:f})},collapsible:function(f){o.dispatch({type:"ASIDE_COLLAPSIBLE",payload:f})},drawer:function(f){o.getState().aside.drawer!==f&&o.dispatch({type:"ASIDE_DRAWER",payload:f})}}});return s.current}function W(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V,i=(0,u.useContext)(E),f=(0,u.useReducer)(function(Y){return Y+1},0),L=j()(f,2),I=L[1],T=(0,u.useRef)(),g=o(i.getState());function z(){var Y=o(i.getState());s(Y,T.current)||(T.current=Y,I())}return(0,u.useEffect)(function(){return i.subscribe(z)},[]),g}function D(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V;return W(o,s)}function _(){var o=(0,u.useContext)(E);return o.dispatch}function d(o){var s=o.children,i=o.state,f=H(i);return(0,u.useMemo)(function(){return(0,O.jsx)(E.Provider,{value:f,children:s})},[s,f])}}}]);
