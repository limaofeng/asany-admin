var U=Object.prototype.hasOwnProperty;var k=Object.getOwnPropertySymbols,S=Object.prototype.propertyIsEnumerable;var I=Object.assign;var W=(m,E)=>{var n={};for(var r in m)U.call(m,r)&&E.indexOf(r)<0&&(n[r]=m[r]);if(m!=null&&k)for(var r of k(m))E.indexOf(r)<0&&S.call(m,r)&&(n[r]=m[r]);return n};(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[2503,3975],{33201:function(){},48775:function(m,E,n){"use strict";n.d(E,{GP:function(){return r.Z},Hk:function(){return u}});var r=n(48655),K=n(39981),v=n(67294),y=n(94184),c=n.n(y),C=n(28865),j=n(37334),p=n(2824),x=n(11849),T=n(96486),i=n(85893),h={aside:{minimize:!1}},o=v.createContext({state:h,dispatch:function(){}}),P;(function(a){a.AsideToggle="ASIDE_TOGGLE"})(P||(P={}));function b(a,t){switch(t.type){case"ASIDE_TOGGLE":return a.aside.minimize=!a.aside.minimize,(0,x.Z)({},a);default:throw new Error}}var B=function(t){var s=(0,v.useReducer)(b,(0,T.cloneDeep)(h)),f=(0,p.Z)(s,2),D=f[0],O=f[1];return(0,i.jsx)(o.Provider,{value:{state:D,dispatch:O},children:t.children})},A=function(){return(0,v.useContext)(o)},M=n(53704);function g(a){var t=a.children,s=A(),f=s.dispatch,D=s.state.aside.minimize,O=(0,v.useCallback)(function(){f({type:P.AsideToggle})},[f]);return(0,i.jsxs)("div",{className:c()("app-aside aside"),children:[(0,i.jsx)(j.Z,{children:(0,i.jsx)(r.Z,{resizeable:!0,className:"app-sidebar",children:t})}),(0,i.jsx)(M.zx,{style:{marginBottom:"1.35rem",zIndex:10},onClick:O,activeColor:"primary",className:c()("btn-icon bg-body btn-color-gray-700 rounded-2 position-absolute translate-middle start-100 end-0 bottom-0 shadow-sm d-none d-lg-flex",{active:D}),children:(0,i.jsx)(C.JO,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})]})}var l=g;function e(a){var t=a.children,s=a.className,f=A(),D=f.state.aside.minimize;return(0,i.jsx)("div",{className:c()("micro-app-container page-full-content",s,{"aside-minimize":D}),children:t})}function d(a){var t=a.children,s=a.className;return(0,i.jsx)(B,{children:(0,i.jsx)(e,{className:s,children:t})})}d.Sidebar=l;var u=d,_=n(61997)},11014:function(m,E,n){"use strict";n.r(E);var r=n(2824),K=n(93224),v=n(11849),y=n(86582),c=n(67294),C=n(34912),j=n(1861),p=n(43219),x=n(15459),T=n(48775),i=n(53704),h=n(25496),o=n(85893),P=i.mQ.TabPane;function b(l){var e=l.books,d=(0,p.tT)("contacts",function(a){var t=a.state;return t.book}),u=(0,c.useCallback)(function(a){if(a.startsWith("contacts-"))console.log(a);else return!1;return!0},[]),_=(0,c.useMemo)(function(){return[].concat((0,y.Z)(e.map(function(a){return{value:"contacts-".concat(a.id),label:a.name}})),[{type:"separator"},{value:"manage-contacts",label:"\u504F\u597D\u8BBE\u7F6E"}])},[e]);return(0,o.jsx)("div",{className:"app-sidebar-footer",children:(0,o.jsx)(i.Ph,{onChange:u,placement:"topCenter",value:d?"contacts-".concat(d):void 0,options:_})})}function B(l){var e,d=l.book,u=l.namespace,_=(0,x.N2)({fetchPolicy:"cache-and-network",variables:{id:d.id,namespace:u}}),a=_.data,t=(0,c.useMemo)(function(){var s,f=a==null||(s=a.book)===null||s===void 0?void 0:s.groups;if(!f)return[];var D=h.G_(f.map(function(O){return(0,v.Z)({},O)}),{idKey:"id",pidKey:"parentId",converter:function(N){var L=N.id,R=(0,K.Z)(N,["id"]);return(0,v.Z)((0,v.Z)({},R),{},{key:L,title:R.name})}});return D},[a==null||(e=a.book)===null||e===void 0?void 0:e.groups]);return(0,o.jsx)(C.Z,{treeData:t})}function A(l){var e=l.book,d=(0,c.useState)(e.namespaces[0].id),u=(0,r.Z)(d,2),_=u[0],a=u[1],t=(0,c.useCallback)(function(s){console.log("activeKey",s),a(s)},[]);return(0,o.jsx)(i.mQ,{activeKey:_,onChange:t,className:"nav-line-tabs-2x mx-5 mb-5 fs-6",children:e.namespaces.map(function(s){return(0,o.jsx)(P,{tab:s.name,children:(0,o.jsx)(j.E,{className:"custom-scrollbar",options:{scrollbars:{autoHide:"scroll"}},children:(0,o.jsx)(B,{book:e,namespace:s.id})})},s.id)})})}function M(l){var e=l.book;return console.log(e.namespaces),e.type=="ENTERPRISE"?(0,o.jsx)(A,{book:e}):(0,o.jsx)("div",{children:"xxx"})}function g(){var l=(0,x.jV)({fetchPolicy:"cache-and-network"}),e=l.data,d=(0,p.tT)("contacts",function(a){var t=a.state;return t.book}),u=(0,p.tT)("contacts",function(a){return a.setBook});(0,c.useEffect)(function(){if(!!(e!=null&&e.books)){var a=e==null?void 0:e.books;a.some(function(t){return t.id==d})||u(a[0].id)}},[e==null?void 0:e.books,d,u]);var _=(0,c.useMemo)(function(){if(!(!(e!=null&&e.books)||!d))return e.books.find(function(a){return a.id==d})},[e==null?void 0:e.books,d]);return console.log("books",e==null?void 0:e.books,_,d),(0,o.jsxs)(T.GP,{width:280,className:"app-sidebar app-contacts-sidebar",children:[(0,o.jsx)("div",{className:"mt-5 px-5 pt-5",children:(0,o.jsx)("h1",{className:"text-gray-800 fw-bold mb-6 mx-5",children:"\u901A\u8BAF\u5F55"})}),(0,o.jsx)("div",{className:"app-sidebar-body flex-column-fluid d-flex flex-column",children:_&&(0,o.jsx)(M,{book:_})}),(0,o.jsx)(b,{books:(e==null?void 0:e.books)||[],onAction:function(){}})]})}E.default=g},77104:function(m,E,n){"use strict";var r=n(94184),K=n.n(r),v=n(67294),y=n(70861),c=n(76792),C=n(85893);const j={variant:"primary",active:!1,disabled:!1},p=v.forwardRef((A,B)=>{var{as:x,bsPrefix:T,variant:i,size:h,active:o,className:P}=A,b=W(A,["as","bsPrefix","variant","size","active","className"]);const M=(0,c.vE)(T,"btn"),[g,{tagName:l}]=(0,y.FT)(I({tagName:x},b)),e=l;return(0,C.jsx)(e,I(I(I({},g),b),{ref:B,className:K()(P,M,o&&"active",i&&`${M}-${i}`,h&&`${M}-${h}`,b.href&&b.disabled&&"disabled")}))});p.displayName="Button",p.defaultProps=j,E.Z=p}}]);
