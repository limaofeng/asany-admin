"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5618],{5618:function(xe,ee,F){F.d(ee,{Le:function(){return he},N8:function(){return ue}});var o=F(67294),oe=F(93967),te=F.n(oe),le=F(69293),J=F(34155);function ne(a,s,u,b,k,L,x){try{var S=a[L](x),A=S.value}catch(r){u(r);return}S.done?s(A):Promise.resolve(A).then(b,k)}function W(a){return function(){var s=this,u=arguments;return new Promise(function(b,k){var L=a.apply(s,u);function x(A){ne(L,b,k,x,S,"next",A)}function S(A){ne(L,b,k,x,S,"throw",A)}x(void 0)})}}function q(){return q=Object.assign||function(a){for(var s=1;s<arguments.length;s++){var u=arguments[s];for(var b in u)Object.prototype.hasOwnProperty.call(u,b)&&(a[b]=u[b])}return a},q.apply(this,arguments)}function fe(a,s){return s={exports:{}},a(s,s.exports),s.exports}var K=fe(function(a){var s=function(u){var b=Object.prototype,k=b.hasOwnProperty,L,x=typeof Symbol=="function"?Symbol:{},S=x.iterator||"@@iterator",A=x.asyncIterator||"@@asyncIterator",r=x.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(t,n,i){return t[n]=i}}function E(e,t,n,i){var c=t&&t.prototype instanceof $?t:$,T=Object.create(c.prototype),D=new d(i||[]);return T._invoke=y(e,n,D),T}u.wrap=E;function Z(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}var R="suspendedStart",C="suspendedYield",w="executing",g="completed",v={};function $(){}function B(){}function j(){}var p={};l(p,S,function(){return this});var M=Object.getPrototypeOf,V=M&&M(M(I([])));V&&V!==b&&k.call(V,S)&&(p=V);var z=j.prototype=$.prototype=Object.create(p);B.prototype=j,l(z,"constructor",j),l(j,"constructor",B),B.displayName=l(j,r,"GeneratorFunction");function U(e){["next","throw","return"].forEach(function(t){l(e,t,function(n){return this._invoke(t,n)})})}u.isGeneratorFunction=function(e){var t=typeof e=="function"&&e.constructor;return t?t===B||(t.displayName||t.name)==="GeneratorFunction":!1},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,l(e,r,"GeneratorFunction")),e.prototype=Object.create(z),e},u.awrap=function(e){return{__await:e}};function H(e,t){function n(T,D,N,G){var P=Z(e[T],e,D);if(P.type==="throw")G(P.arg);else{var Q=P.arg,Y=Q.value;return Y&&typeof Y=="object"&&k.call(Y,"__await")?t.resolve(Y.__await).then(function(X){n("next",X,N,G)},function(X){n("throw",X,N,G)}):t.resolve(Y).then(function(X){Q.value=X,N(Q)},function(X){return n("throw",X,N,G)})}}var i;function c(T,D){function N(){return new t(function(G,P){n(T,D,G,P)})}return i=i?i.then(N,N):N()}this._invoke=c}U(H.prototype),l(H.prototype,A,function(){return this}),u.AsyncIterator=H,u.async=function(e,t,n,i,c){c===void 0&&(c=Promise);var T=new H(E(e,t,n,i),c);return u.isGeneratorFunction(t)?T:T.next().then(function(D){return D.done?D.value:T.next()})};function y(e,t,n){var i=R;return function(T,D){if(i===w)throw new Error("Generator is already running");if(i===g){if(T==="throw")throw D;return O()}for(n.method=T,n.arg=D;;){var N=n.delegate;if(N){var G=f(N,n);if(G){if(G===v)continue;return G}}if(n.method==="next")n.sent=n._sent=n.arg;else if(n.method==="throw"){if(i===R)throw i=g,n.arg;n.dispatchException(n.arg)}else n.method==="return"&&n.abrupt("return",n.arg);i=w;var P=Z(e,t,n);if(P.type==="normal"){if(i=n.done?g:C,P.arg===v)continue;return{value:P.arg,done:n.done}}else P.type==="throw"&&(i=g,n.method="throw",n.arg=P.arg)}}}function f(e,t){var n=e.iterator[t.method];if(n===L){if(t.delegate=null,t.method==="throw"){if(e.iterator.return&&(t.method="return",t.arg=L,f(e,t),t.method==="throw"))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=Z(n,e.iterator,t.arg);if(i.type==="throw")return t.method="throw",t.arg=i.arg,t.delegate=null,v;var c=i.arg;if(!c)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v;if(c.done)t[e.resultName]=c.value,t.next=e.nextLoc,t.method!=="return"&&(t.method="next",t.arg=L);else return c;return t.delegate=null,v}U(z),l(z,r,"Generator"),l(z,S,function(){return this}),l(z,"toString",function(){return"[object Generator]"});function m(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(m,this),this.reset(!0)}u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function i(){for(;t.length;){var c=t.pop();if(c in e)return i.value=c,i.done=!1,i}return i.done=!0,i}};function I(e){if(e){var t=e[S];if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var n=-1,i=function c(){for(;++n<e.length;)if(k.call(e,n))return c.value=e[n],c.done=!1,c;return c.value=L,c.done=!0,c};return i.next=i}}return{next:O}}u.values=I;function O(){return{value:L,done:!0}}return d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=L,this.done=!1,this.delegate=null,this.method="next",this.arg=L,this.tryEntries.forEach(h),!e)for(var t in this)t.charAt(0)==="t"&&k.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=L)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if(t.type==="throw")throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(G,P){return T.type="throw",T.arg=e,t.next=G,P&&(t.method="next",t.arg=L),!!P}for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i],T=c.completion;if(c.tryLoc==="root")return n("end");if(c.tryLoc<=this.prev){var D=k.call(c,"catchLoc"),N=k.call(c,"finallyLoc");if(D&&N){if(this.prev<c.catchLoc)return n(c.catchLoc,!0);if(this.prev<c.finallyLoc)return n(c.finallyLoc)}else if(D){if(this.prev<c.catchLoc)return n(c.catchLoc,!0)}else if(N){if(this.prev<c.finallyLoc)return n(c.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&k.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var c=i;break}}c&&(e==="break"||e==="continue")&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var T=c?c.completion:{};return T.type=e,T.arg=t,c?(this.method="next",this.next=c.finallyLoc,v):this.complete(T)},complete:function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),h(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if(i.type==="throw"){var c=i.arg;h(n)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},this.method==="next"&&(this.arg=L),v}},u}(a.exports);try{regeneratorRuntime=s}catch(u){typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}}),_=function(s){return new Promise(function(u){setTimeout(function(){u(0)},s)})};function re(){for(var a=[],s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",u=0;u<36;u++)a[u]=s.substr(Math.floor(Math.random()*16),1);return a[14]="4",a[19]=s.substr(a[19]&3|8,1),a[8]=a[13]=a[18]=a[23]="-",a.join("")}var de=function(s){return!!s},ve=function(s){return{name:s}},pe=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,ae=/([\S]+)<([^<>]+)>$/,ie=function(s){return pe.test(s)},he=function(s){var u=ue(s);return!!u.address&&ie(u.address)},ue=function(s){if(ae.test(s)){var u=ae.exec(s);return{name:u[1],address:u[2]}}else return ie(s)?{name:s.substring(0,s.lastIndexOf("@")),address:s.trim()}:{name:s.trim(),address:null}};function ge(a,s){var u=a.placeholder,b=a.value,k=a.onChange,L=a.onPrev,x=a.onNext,S=a.onDelete,A=a.index,r=a.locationTo,l=(0,o.useRef)(null),E=(0,o.useCallback)(W(K.mark(function C(){var w;return K.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(w=l.current.textContent,!(!w||a.value===w)){v.next=3;break}return v.abrupt("return");case 3:return v.next=5,k(w);case 5:return v.abrupt("return",!0);case 6:case"end":return v.stop()}},C)})),[k,a.value]),Z=(0,o.useCallback)(function(){var C=W(K.mark(function w(g){var v,$,B,j,p,M,V,z,U;return K.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(g.key!=="Backspace"){y.next=4;break}l.current.textContent||(S(),g.preventDefault(),g.stopPropagation()),y.next=57;break;case 4:if(g.key!=="ArrowLeft"){y.next=19;break}if(v=document.getSelection(),$=v.getRangeAt(0),!($.startOffset===$.endOffset&&$.startOffset===0)){y.next=17;break}return g.preventDefault(),g.stopPropagation(),y.next=12,E();case 12:if(!y.sent){y.next=16;break}r(A,"input"),y.next=17;break;case 16:L();case 17:y.next=57;break;case 19:if(g.key!=="ArrowRight"){y.next=31;break}if(p=document.getSelection(),M=p.getRangeAt(0),!(M.startOffset===M.endOffset&&M.endOffset===((B=l.current)==null||(j=B.textContent)==null?void 0:j.length))){y.next=29;break}return g.preventDefault(),g.stopPropagation(),y.next=27,E();case 27:if(y.sent){y.next=29;break}x();case 29:y.next=57;break;case 31:if(!(g.key==="Enter"||g.key===";")){y.next=40;break}if(g.preventDefault(),g.stopPropagation(),V=l.current.textContent,V){y.next=37;break}return y.abrupt("return");case 37:k(V),y.next=57;break;case 40:if(g.key!=="Escape"){y.next=49;break}if(z=l.current.textContent,z){y.next=44;break}return y.abrupt("return");case 44:g.preventDefault(),g.stopPropagation(),k(z),y.next=57;break;case 49:if(!((g.ctrlKey||g.metaKey)&&g.key==="v")){y.next=57;break}return g.stopPropagation(),y.next=53,navigator.clipboard.readText();case 53:if(U=y.sent,U){y.next=56;break}return y.abrupt("return");case 56:k(l.current.textContent);case 57:case"end":return y.stop()}},w)}));return function(w){return C.apply(this,arguments)}}(),[E,A,r,k,S,x,L]),R=(0,o.useCallback)(function(C){C.preventDefault();var w=C.clipboardData.getData("text/plain"),g=document.getSelection(),v=g.getRangeAt(0),$=l.current.textContent,B=v.startOffset,j=v.endOffset,p=$.substring(0,B)+w+$.substring(j);l.current.textContent=p,J.nextTick(function(){if(!(!l.current||!l.current.textContent||!l.current.firstChild)){var M=B+w.length,V=new Range;V.setStart(l.current.firstChild,M),V.setEnd(l.current.firstChild,M),g.addRange(V)}})},[]);return(0,o.useImperativeHandle)(s,function(){return{focus:function(){return W(K.mark(function w(){return K.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(l.current){v.next=5;break}return v.next=3,_(60);case 3:v.next=0;break;case 5:l.current.focus();case 6:case"end":return v.stop()}},w)}))()},select:function(){if(!(!l.current.firstChild||!l.current.textContent)){window.getSelection().removeAllRanges();var w=new Range;w.selectNodeContents(l.current),w.setStart(l.current.firstChild,0),w.setEnd(l.current.firstChild,l.current.textContent.length),window.getSelection().addRange(w)}},setValue:function(w){l.current.textContent=w}}}),(0,o.useEffect)(function(){l.current&&b!==l.current.textContent&&(l.current.textContent=b||"")},[b]),o.createElement("span",{ref:l,onClick:function(w){w.preventDefault(),w.stopPropagation()},dangerouslySetInnerHTML:{__html:b},onKeyDown:Z,onPaste:R,onBlur:E,contentEditable:!0,placeholder:u,className:"standard"})}var ce=o.forwardRef(ge);function ye(){return o.createElement("span",{className:"svg-icon"},o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M12.6343 12.5657L8.45001 16.75C8.0358 17.1642 8.0358 17.8358 8.45001 18.25C8.86423 18.6642 9.5358 18.6642 9.95001 18.25L15.4929 12.7071C15.8834 12.3166 15.8834 11.6834 15.4929 11.2929L9.95001 5.75C9.5358 5.33579 8.86423 5.33579 8.45001 5.75C8.0358 6.16421 8.0358 6.83579 8.45001 7.25L12.6343 11.4343C12.9467 11.7467 12.9467 12.2533 12.6343 12.5657Z",fill:"black"})))}function me(a,s){var u=a.data,b=a.onChange,k=a.selected,L=a.validate,x=a.onClick,S=a.onPrev,A=a.onNext,r=a.onEnter,l=a.onDelete,E=a.onDoubleClick,Z=a.editing,R=(0,o.useRef)(null),C=u.invalid,w=C===void 0?!L(u.content):C,g=(0,o.useCallback)(function(p){p.preventDefault(),p.stopPropagation(),x(u)},[u,x]),v=(0,o.useCallback)(function(p){p.preventDefault(),p.stopPropagation(),E(u)},[u,E]),$=(0,o.useCallback)(function(p){b(p)},[b]),B=(0,o.useMemo)(function(){return u.content},[u]);(0,o.useEffect)(function(){var p;Z&&((p=R.current)==null||p.focus(),J.nextTick(function(){var M;(M=R.current)==null||M.select()}))},[Z]),(0,o.useImperativeHandle)(s,function(){return{focus:function(){R.current.focus()},select:function(){},setValue:function(){}}});var j=(0,o.useCallback)(function(p){p.key==="ArrowLeft"?(S(),p.preventDefault(),p.stopPropagation()):p.key==="ArrowRight"?(A(),p.preventDefault(),p.stopPropagation()):p.key==="Backspace"?(l(),p.preventDefault(),p.stopPropagation()):p.key==="Enter"&&(r(),p.preventDefault(),p.stopPropagation())},[l,r,A,S]);return Z?o.createElement(ce,{ref:R,value:B,index:a.index,locationTo:a.locationTo,onChange:$,onDelete:l,onPrev:a.onPrev,onNext:a.onNext}):o.createElement("span",{tabIndex:-1,ref:R,onClick:g,onDoubleClick:v,onKeyDown:j,className:te()("asany-tag",{selected:k,invalid:w})},o.createElement("span",{className:"token-content"},u.name||u.content),o.createElement(ye,null))}var ke=o.forwardRef(me);function be(a,s){s===void 0&&(s={});var u=s.insertAt;if(!(!a||typeof document=="undefined")){var b=document.head||document.getElementsByTagName("head")[0],k=document.createElement("style");k.type="text/css",u==="top"&&b.firstChild?b.insertBefore(k,b.firstChild):b.appendChild(k),k.styleSheet?k.styleSheet.cssText=a:k.appendChild(document.createTextNode(a))}}var we=".asany-tags-input{align-items:center;border:1px solid #e4e6ef;border-radius:4px;box-sizing:border-box;cursor:text;display:flex;flex-wrap:wrap;margin-left:-3px;min-height:38px;min-width:240px;padding:6px 6px 3px}.asany-tags-input .asany-tag{align-items:center;border-radius:3px;cursor:default;display:flex;margin:0 3px 3px;padding:2px 2px 2px 5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.asany-tags-input .asany-tag:focus-visible{outline:0}.asany-tags-input .asany-tag.invalid{background-color:#ffbcb8}.asany-tags-input .asany-tag.invalid .svg-icon svg [fill]:not(.permanent):not(g){fill:#eb0c00}.asany-tags-input .asany-tag .token-content{height:22px}.asany-tags-input .asany-tag .svg-icon svg [fill]:not(.permanent):not(g){transition:none}.asany-tags-input .asany-tag.selected{background-color:#0071eb;color:#fff}.asany-tags-input .asany-tag.selected .svg-icon svg [fill]:not(.permanent):not(g){fill:#fff}.asany-tags-input .asany-tag.selected.invalid{background-color:#eb0c00}.asany-tags-input .standard{align-items:center;border-radius:3px;display:inline;height:22px;margin:0 3px 3px;min-width:1px;padding:2px}.asany-tags-input .standard:focus-visible{outline:0}.asany-tags-input>span.standard:last-child[contenteditable][placeholder]:empty:before{background-color:transparent;color:#a1a5b7!important;content:attr(placeholder);font-size:13px!important}.asany-tags-input .svg-icon{display:contents;line-height:1}";be(we);function se(a,s){return{selectedKey:void 0,activeIndex:-1,status:"input",tags:a.map(function(u){return u.split(";").filter(function(b){return!!b})}).reduce(function(u,b){return u.push.apply(u,b),u},[]).map(s)}}function Ce(a){var s=a.className,u=a.placeholder,b=a.validate,k=b===void 0?de:b,L=(0,o.useRef)(null),x=(0,o.useRef)(null),S=(0,o.useRef)({onChange:a.onChange,value:a.value,intact:""});S.current.onChange=a.onChange,S.current.value=a.value;var A=(0,o.useMemo)(function(){return function(f){var m=a.parseTag||ve;return q({},m(f),{content:f,invalid:!k(f),id:re()})}},[a.parseTag,k]),r=(0,o.useRef)(se(S.current.value||[],A)),l=(0,o.useReducer)(function(f){return f+1},0),E=l[1],Z=(0,o.useCallback)(function(){var f=W(K.mark(function m(h){var d,I,O,e,t,n,i;return K.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(r.current.selectedKey=void 0,d=r.current.tags.findIndex(function(D){return D==="input"}),d!==-1){T.next=6;break}return r.current.tags.push("input"),E(),T.abrupt("return");case 6:I=h.target,O=I.getBoundingClientRect(),e=h.pageX-O.x,t=h.pageY-O.y,n={x1:0,y1:0},i=Array.from(L.current.childNodes).filter(function(D){return D.classList.contains("asany-tag")}).findIndex(function(D){var N=D.getBoundingClientRect(),G=N.x-O.x,P=N.y-O.y,Q=G+N.width,Y=P+N.height;if(G<n.x1){if(e>n.x1&&t>n.y1)return!0;n.x1=0,n.y1=P}return e>n.x1&&t>n.y1&&e<G&&t<Y?!0:(n.x1=Q,n.y1=P,!1)}),d=r.current.tags.findIndex(function(D){return D==="input"}),d!==-1&&r.current.tags.splice(d,1),i!==-1?r.current.tags.splice(i,0,"input"):r.current.tags.push("input"),r.current.activeIndex=r.current.tags.findIndex(function(D){return D==="input"}),E(),J.nextTick(W(K.mark(function D(){var N;return K.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(x.current){P.next=5;break}return P.next=3,_(60);case 3:P.next=0;break;case 5:(N=x.current)==null||N.focus();case 6:case"end":return P.stop()}},D)})));case 18:case"end":return T.stop()}},m)}));return function(m){return f.apply(this,arguments)}}(),[]),R=(0,o.useCallback)(function(){r.current.tags=r.current.tags.filter(function(f){return f!=="input"})},[]),C=(0,o.useCallback)(W(K.mark(function f(){return K.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(x.current){h.next=5;break}return h.next=3,_(60);case 3:h.next=0;break;case 5:J.nextTick(W(K.mark(function d(){return K.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:x.current.focus();case 1:case"end":return O.stop()}},d)})));case 6:case"end":return h.stop()}},f)})),[]),w=(0,o.useCallback)(W(K.mark(function f(){var m,h,d,I,O,e;return K.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(m=r.current,h=m.tags,d=m.activeIndex,I=h[d],I!=="input"){n.next=18;break}if(O=Math.max(0,d-1),e=h[O],e!=="input"){n.next=9;break}if(O!==0){n.next=8;break}return n.abrupt("return");case 8:throw new Error("\u672A\u77E5\u9519\u8BEF");case 9:return r.current.status="active",r.current.selectedKey=e.id,r.current.activeIndex=O,R(),E(),n.next=16,C();case 16:n.next=25;break;case 18:return r.current.status="input",r.current.selectedKey=void 0,r.current.tags.splice(d,0,"input"),r.current.activeIndex=r.current.tags.findIndex(function(i){return i==="input"}),E(),n.next=25,C();case 25:case"end":return n.stop()}},f)})),[C,R]),g=(0,o.useCallback)(W(K.mark(function f(){var m,h,d,I,O,e,t;return K.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(m=r.current,h=m.tags,d=m.activeIndex,I=h[d],I!=="input"){i.next=18;break}if(O=Math.min(h.length-1,d+1),e=h[O],e!=="input"){i.next=9;break}if(O!==d){i.next=8;break}return i.abrupt("return");case 8:throw new Error("\u672A\u77E5\u9519\u8BEF");case 9:return r.current.status="active",r.current.selectedKey=e.id,R(),r.current.activeIndex=r.current.tags.findIndex(function(c){return c!=="input"&&c.id===e.id}),E(),i.next=16,C();case 16:i.next=26;break;case 18:return r.current.status="input",t=Math.min(h.length,d+1),r.current.selectedKey=void 0,r.current.tags.splice(t,0,"input"),r.current.activeIndex=r.current.tags.findIndex(function(c){return c==="input"}),E(),i.next=26,C();case 26:case"end":return i.stop()}},f)})),[C,R]),v=(0,o.useCallback)(function(f,m){m===void 0&&(m="input"),m==="input"?(R(),r.current.status="input",r.current.selectedKey=void 0,r.current.tags.splice(f,0,"input"),r.current.activeIndex=r.current.tags.findIndex(function(h){return h==="input"}),x.current.setValue(""),E(),C()):(r.current.status="active",r.current.selectedKey=r.current.tags[f].id,R(),r.current.activeIndex=r.current.tags.findIndex(function(h){return h!=="input"&&h.id===r.current.selectedKey}),E(),C())},[C,R]),$=(0,o.useCallback)(function(){S.current.intact=r.current.tags.filter(function(I){return I!=="input"&&!I.invalid}).map(function(I){return I.content}).join(";");var f=S.current,m=f.intact,h=f.onChange,d=f.value;m!==(d==null?void 0:d.join(";"))&&h&&h(m.split(";").filter(function(I){return!!I}))},[]),B=(0,o.useCallback)(function(f){return function(m){var h=r.current.tags[f],d=m.split(";").filter(function(e){return!!e});if(d.length){if(h==="input"){var I;(I=r.current.tags).splice.apply(I,[f,0].concat(d.map(A))),r.current.status="input",r.current.activeIndex=r.current.tags.findIndex(function(e){return e==="input"}),x.current.setValue(""),r.current.tags=[].concat(r.current.tags),E()}else{var O;(O=r.current.tags).splice.apply(O,[f,1].concat(d.map(function(e,t){return q({},A(e),{id:t===0?h.id:re()})}))),d.length>1?(r.current.status="input",r.current.selectedKey=void 0,r.current.tags.splice(f+d.length,0,"input"),r.current.activeIndex=r.current.tags.findIndex(function(e){return e==="input"})):r.current.status="active",r.current.tags=[].concat(r.current.tags),E(),C()}$()}}},[$,C,A]),j=(0,o.useCallback)(function(f){r.current.status="active",r.current.selectedKey=f.id,R(),r.current.activeIndex=r.current.tags.findIndex(function(m){return m!=="input"&&m.id===r.current.selectedKey}),E()},[R]),p=(0,o.useCallback)(W(K.mark(function f(){var m;return K.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:m=r.current.activeIndex,r.current.status="input",r.current.selectedKey=void 0,r.current.tags.splice(m,1,"input"),r.current.tags=[].concat(r.current.tags),E(),$();case 7:if(x.current){d.next=12;break}return d.next=10,_(60);case 10:d.next=7;break;case 12:J.nextTick(function(){var I;(I=x.current)==null||I.focus()});case 13:case"end":return d.stop()}},f)})),[$]),M=(0,o.useCallback)(function(){r.current.status="editing",R(),E()},[R]),V=(0,o.useCallback)(function(){M()},[M]);(0,le.Z)(L,function(){r.current.selectedKey=void 0,E()});var z=r.current,U=z.tags,H=z.selectedKey,y=z.status;return(0,o.useEffect)(function(){!a.value||S.current.intact===a.value.join(";")||(r.current=se(a.value||[],A),E())},[$,a.value,A]),(0,o.useEffect)(function(){Z({})},[Z]),o.createElement("div",{ref:L,onClick:Z,className:te()("asany-tags-input",s)},U.map(function(f,m){return f==="input"?o.createElement(ce,{onPrev:w,onNext:g,onDelete:w,ref:x,index:m,placeholder:u,locationTo:v,key:f,onChange:B(m)}):o.createElement(ke,{ref:f.id===H?x:void 0,onPrev:w,onNext:g,onDelete:p,onEnter:M,data:f,index:m,validate:k,locationTo:v,onChange:B(m),editing:f.id===H&&y==="editing",onClick:j,onDoubleClick:V,key:f.id,selected:f.id===H})}))}ee.ZP=Ce}}]);
