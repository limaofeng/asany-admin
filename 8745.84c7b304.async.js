(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[8745],{38745:function(Nr,be,K){"use strict";K.d(be,{HG:function(){return vr}});var Ue=K(94184),ue=K.n(Ue),a=K(67294),Ee=K(12690),se=K(65741),$e=K(58848),Te=K(89628),xe=K(9690),je=K(52963),Be=K(59864),_e=K(17187),Mr=K.n(_e),Ge=K(7145),ee=K.n(Ge),We=K(46408),Ke=K(73935);function te(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */te=function(){return e};var e={},r=Object.prototype,t=r.hasOwnProperty,o=typeof Symbol=="function"?Symbol:{},c=o.iterator||"@@iterator",f=o.asyncIterator||"@@asyncIterator",p=o.toStringTag||"@@toStringTag";function v(n,i,u){return Object.defineProperty(n,i,{value:u,enumerable:!0,configurable:!0,writable:!0}),n[i]}try{v({},"")}catch(n){v=function(i,u,d){return i[u]=d}}function y(n,i,u,d){var s=i&&i.prototype instanceof E?i:E,U=Object.create(s.prototype),N=new b(d||[]);return U._invoke=function(z,V,M){var B="suspendedStart";return function(Z,ie){if(B==="executing")throw new Error("Generator is already running");if(B==="completed"){if(Z==="throw")throw ie;return O()}for(M.method=Z,M.arg=ie;;){var ae=M.delegate;if(ae){var P=l(ae,M);if(P){if(P===_)continue;return P}}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(B==="suspendedStart")throw B="completed",M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);B="executing";var I=w(z,V,M);if(I.type==="normal"){if(B=M.done?"completed":"suspendedYield",I.arg===_)continue;return{value:I.arg,done:M.done}}I.type==="throw"&&(B="completed",M.method="throw",M.arg=I.arg)}}}(n,u,N),U}function w(n,i,u){try{return{type:"normal",arg:n.call(i,u)}}catch(d){return{type:"throw",arg:d}}}e.wrap=y;var _={};function E(){}function R(){}function D(){}var T={};v(T,c,function(){return this});var $=Object.getPrototypeOf,C=$&&$($(h([])));C&&C!==r&&t.call(C,c)&&(T=C);var L=D.prototype=E.prototype=Object.create(T);function j(n){["next","throw","return"].forEach(function(i){v(n,i,function(u){return this._invoke(i,u)})})}function x(n,i){function u(s,U,N,z){var V=w(n[s],n,U);if(V.type!=="throw"){var M=V.arg,B=M.value;return B&&typeof B=="object"&&t.call(B,"__await")?i.resolve(B.__await).then(function(Z){u("next",Z,N,z)},function(Z){u("throw",Z,N,z)}):i.resolve(B).then(function(Z){M.value=Z,N(M)},function(Z){return u("throw",Z,N,z)})}z(V.arg)}var d;this._invoke=function(s,U){function N(){return new i(function(z,V){u(s,U,z,V)})}return d=d?d.then(N,N):N()}}function l(n,i){var u=n.iterator[i.method];if(u===void 0){if(i.delegate=null,i.method==="throw"){if(n.iterator.return&&(i.method="return",i.arg=void 0,l(n,i),i.method==="throw"))return _;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var d=w(u,n.iterator,i.arg);if(d.type==="throw")return i.method="throw",i.arg=d.arg,i.delegate=null,_;var s=d.arg;return s?s.done?(i[n.resultName]=s.value,i.next=n.nextLoc,i.method!=="return"&&(i.method="next",i.arg=void 0),i.delegate=null,_):s:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,_)}function g(n){var i={tryLoc:n[0]};1 in n&&(i.catchLoc=n[1]),2 in n&&(i.finallyLoc=n[2],i.afterLoc=n[3]),this.tryEntries.push(i)}function S(n){var i=n.completion||{};i.type="normal",delete i.arg,n.completion=i}function b(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(g,this),this.reset(!0)}function h(n){if(n){var i=n[c];if(i)return i.call(n);if(typeof n.next=="function")return n;if(!isNaN(n.length)){var u=-1,d=function s(){for(;++u<n.length;)if(t.call(n,u))return s.value=n[u],s.done=!1,s;return s.value=void 0,s.done=!0,s};return d.next=d}}return{next:O}}function O(){return{value:void 0,done:!0}}return R.prototype=D,v(L,"constructor",D),v(D,"constructor",R),R.displayName=v(D,p,"GeneratorFunction"),e.isGeneratorFunction=function(n){var i=typeof n=="function"&&n.constructor;return!!i&&(i===R||(i.displayName||i.name)==="GeneratorFunction")},e.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,D):(n.__proto__=D,v(n,p,"GeneratorFunction")),n.prototype=Object.create(L),n},e.awrap=function(n){return{__await:n}},j(x.prototype),v(x.prototype,f,function(){return this}),e.AsyncIterator=x,e.async=function(n,i,u,d,s){s===void 0&&(s=Promise);var U=new x(y(n,i,u,d),s);return e.isGeneratorFunction(i)?U:U.next().then(function(N){return N.done?N.value:U.next()})},j(L),v(L,p,"Generator"),v(L,c,function(){return this}),v(L,"toString",function(){return"[object Generator]"}),e.keys=function(n){var i=[];for(var u in n)i.push(u);return i.reverse(),function d(){for(;i.length;){var s=i.pop();if(s in n)return d.value=s,d.done=!1,d}return d.done=!0,d}},e.values=h,b.prototype={constructor:b,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!n)for(var i in this)i.charAt(0)==="t"&&t.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if(n.type==="throw")throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function u(V,M){return U.type="throw",U.arg=n,i.next=V,M&&(i.method="next",i.arg=void 0),!!M}for(var d=this.tryEntries.length-1;d>=0;--d){var s=this.tryEntries[d],U=s.completion;if(s.tryLoc==="root")return u("end");if(s.tryLoc<=this.prev){var N=t.call(s,"catchLoc"),z=t.call(s,"finallyLoc");if(N&&z){if(this.prev<s.catchLoc)return u(s.catchLoc,!0);if(this.prev<s.finallyLoc)return u(s.finallyLoc)}else if(N){if(this.prev<s.catchLoc)return u(s.catchLoc,!0)}else{if(!z)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return u(s.finallyLoc)}}}},abrupt:function(n,i){for(var u=this.tryEntries.length-1;u>=0;--u){var d=this.tryEntries[u];if(d.tryLoc<=this.prev&&t.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var s=d;break}}s&&(n==="break"||n==="continue")&&s.tryLoc<=i&&i<=s.finallyLoc&&(s=null);var U=s?s.completion:{};return U.type=n,U.arg=i,s?(this.method="next",this.next=s.finallyLoc,_):this.complete(U)},complete:function(n,i){if(n.type==="throw")throw n.arg;return n.type==="break"||n.type==="continue"?this.next=n.arg:n.type==="return"?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):n.type==="normal"&&i&&(this.next=i),_},finish:function(n){for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i];if(u.finallyLoc===n)return this.complete(u.completion,u.afterLoc),S(u),_}},catch:function(n){for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i];if(u.tryLoc===n){var d=u.completion;if(d.type==="throw"){var s=d.arg;S(u)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(n,i,u){return this.delegate={iterator:h(n),resultName:i,nextLoc:u},this.method==="next"&&(this.arg=void 0),_}},e}function we(e,r,t,o,c,f,p){try{var v=e[f](p),y=v.value}catch(w){t(w);return}v.done?r(y):Promise.resolve(y).then(o,c)}function ve(e){return function(){var r=this,t=arguments;return new Promise(function(o,c){var f=e.apply(r,t);function p(y){we(f,o,c,p,v,"next",y)}function v(y){we(f,o,c,p,v,"throw",y)}p(void 0)})}}function W(){return W=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},W.apply(this,arguments)}function re(e,r){if(e==null)return{};var t={},o=Object.keys(e),c,f;for(f=0;f<o.length;f++)c=o[f],!(r.indexOf(c)>=0)&&(t[c]=e[c]);return t}function Ve(e,r){if(!!e){if(typeof e=="string")return De(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return De(e,r)}}function De(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function Oe(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=Ve(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fe(e,r){r===void 0&&(r={});var t=r.insertAt;if(!(!e||typeof document=="undefined")){var o=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",t==="top"&&o.firstChild?o.insertBefore(c,o.firstChild):o.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e))}}var ze='.sortable-container{display:flex}.sortable-container.sortable-list-horizontal .sortable-flipper{flex-direction:row}.sortable-container.sortable-grid-horizontal .sortable-flipper{flex-direction:row;flex-wrap:wrap}.sortable-container.sortable-list-vertical .sortable-flipper{flex-direction:column}.sortable-container.sortable-grid-vertical .sortable-flipper{flex-direction:column;flex-wrap:wrap}.sortable-container .sortable-flipper{display:flex;flex:1}.sortable-container .sortable-item-dragging{opacity:.4;position:relative}.sortable-container .sortable-item-dragging:after{bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}';Fe(ze);var Ie;(function(e){e.CHANGE="change",e.RESET="reset",e.DROP="drop",e.BUILD_REF="build_ref",e.UNBUILD_REF="unbuild_ref",e.OVER="OVER",e.DRAGGING="DRAGGING"})(Ie||(Ie={}));var Re="sortable-card",pe="ITEMRENDER_RERENDER",ne;(function(e){e.DROP="drop",e.REMOVE="remove",e.SORT="sort",e.DRAG="drag",e.UPDATE="update"})(ne||(ne={}));var m;(function(e){e.init="init",e.register="register",e.UPDATE_ID="UPDATE_ID",e.UPDATE_PREVIEW="UPDATE_PREVIEW",e.update="update",e.move="move",e.moveIn="moveIn",e.moveOut="moveOut",e.remove="remove",e.reset="reset",e.dragging="dragging",e.drop="drop",e.moving="moving",e.observed="observed",e.indicator="indicator",e.UPDATE_POS="UPDATE_POS"})(m||(m={}));var Ze=function(r){return new Promise(function(t){setTimeout(function(){t(0)},r)})};function Ye(e,r){(0,a.useEffect)(e,Je(r))}function He(e,r){return(0,se.Z)(e,r)}function Je(e){var r=(0,a.useRef)();return He(e,r.current)||(r.current=e),r.current}function Xe(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint32Array(1))[0]&15>>e/4).toString(16)})}function ge(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),o=1;o<r;o++)t[o-1]=arguments[o];return t.forEach(function(c){var f=Object.keys(c).reduce(function(p,v){return p[v]=Object.getOwnPropertyDescriptor(c,v),p},{});Object.getOwnPropertySymbols(c).forEach(function(p){var v=Object.getOwnPropertyDescriptor(c,p);v.enumerable&&(f[p]=v)}),Object.defineProperties(e,f)}),e}var Qe=["sortable","rect"],qe=["_originalSortable","_sortable","_rect"],er=["_originalSortable","_sortable","_rect"],rr=["_originalSortable","_sortable","_rect"],Se=a.createContext({getState:function(){return{}},subscribe:function(){}}),le=function(){return de().eventEmitter},me=function(){return de().dispatch},tr=function(r,t){return r===t};function F(e,r){r===void 0&&(r=tr);var t=de(),o=(0,a.useReducer)(function(y){return y+1},0),c=o[1],f=(0,a.useRef)(),p=e(t.getState());function v(){var y=e(t.getState());r(y,f.current)||(f.current=y,c())}return(0,a.useEffect)(function(){var y=t.subscribe(v);return y},[]),p}var de=function(){return(0,a.useContext)(Se)},nr=function(r,t){var o=new Set,c=new Set,f;return function(p,v){p=="wakeup"?(o.add(v),c.delete(v)):(o.delete(v),c.add(v)),!f&&(f=setTimeout(function(){var y=Array.from(o);o.clear();var w=Array.from(c);c.clear(),f=void 0,r(y,w)},t))}};function ir(e,r,t){var o=de(),c=(0,a.useState)(Xe()),f=c[0],p=(0,a.useRef)(nr(function(l,g){w({type:m.observed,payload:{wakeups:l,sleeps:g}})},120)),v=(0,a.useReducer)(function(l,g){if(g.type===m.UPDATE_ID)return ee()(l,{id:{$set:g.payload}});if(g.type===m.UPDATE_PREVIEW)return ee()(l,{preview:{$set:g.payload}});if(g.type===m.UPDATE_POS)return l.items.forEach(function(G,Q){G.index=Q,G.pos=[].concat(g.payload,[Q])}),ee()(l,{pos:{$set:g.payload},items:{$set:l.items}});if(g.type===m.register){var S=g.payload,b=l.items.find(function(G){return G.id==S.id});return b&&ge(b,S),W({},l)}if(g.type===m.move){var h=l.items,O=g.payload,n=O.source,i=O.target,u=O.relation,d=h.findIndex(function(G){return G.id==n}),s=h.findIndex(function(G){return G.id==i});if(d==s||d==-1||s==-1||u==="before"&&d<s||u==="after"&&d>s)return l;var U=h[d];return ee()(l,{items:{$splice:[[d,1],[s,0,U]]},logs:{$push:[{source:n,target:i,sourceIndex:d,targetIndex:s}]}})}if(g.type===m.remove||g.type===m.moveOut){var N=l.items,z=g.payload,V=N.findIndex(function(G){return G.id==z.id});return V==-1?l:ee()(l,{items:{$splice:[[V,1]]}})}if(g.type===m.moveIn){var M=g.payload,B=M.index,Z=M.item,ie=re(Z,Qe);return B==-1?ee()(l,{items:{$push:[ie]}}):ee()(l,{items:{$splice:[[B,0,ie]]}})}if(g.type===m.dragging)return ee()(l,{backup:{$set:[].concat(l.items)},dragging:{$set:g.payload}});if(g.type===m.drop)return ee()(l,{backup:{$set:[]},dragging:{$set:void 0},logs:{$set:[]}});if(g.type===m.reset){var ae=l.items,P=l.backup;return ee()(l,{items:{$set:P.map(function(G){var Q=ae.find(function(J){return J.id==G.id});return Q||G})},backup:{$set:[]},dragging:{$set:void 0},logs:{$set:[]}})}if(g.type===m.moving)return ee()(l,{moving:{$set:g.payload}});if(g.type==m.observed){var I=l.activeIds,k=g.payload,X=k.wakeups,H=k.sleeps,Y=new Set(I);return X.forEach(Y.add.bind(Y)),H.forEach(Y.delete.bind(Y)),ee()(l,{activeIds:{$set:Array.from(Y)}})}return g.type==m.init?W({},g.payload):l},{items:e,backup:[],logs:[],id:f,moving:!1,preview:!!t,activeIds:[],io:new IntersectionObserver(function(l){l.forEach(function(g){var S=g.target,b=g.intersectionRatio,h=S.dataset.id;p.current(b>0?"wakeup":"sleep",h)})},{threshold:[0,.1]})}),y=v[0],w=v[1],_=(0,a.useState)([]),E=_[0],R=function(g){return function(){var S=E.indexOf(g);S>-1&&E.splice(S,1)}},D=(0,a.useCallback)(function(l){return E.push(l),R(l)},[E]),T=(0,a.useCallback)(function(){for(var l=Oe(E),g;!(g=l()).done;){var S=g.value;S()}},[]),$=(0,a.useState)(function(){var l={getState:function(){return y},dispatch:w,eventEmitter:o.eventEmitter||new _e.EventEmitter,subscribe:D};return l.eventEmitter.setMaxListeners(500),l}),C=$[0],L=F(function(l){return l.id});(0,a.useEffect)(function(){!L||w({type:m.UPDATE_ID,payload:L+"/"+f})},[L]);var j=F(function(l){return l.preview});(0,a.useEffect)(function(){if(j==null){w({type:m.UPDATE_PREVIEW,payload:t});return}w({type:m.UPDATE_PREVIEW,payload:j})},[t,j]),(0,a.useEffect)(function(){C.getState=function(){return y},T()},[y]);var x=e.map(function(l){var g=re(l,qe);return g});return Ye(function(){var l=C.getState(),g=l.items.map(function(S){var b=re(S,er);return b});(0,se.Z)(g,x)||(w({type:m.init,payload:{items:x.map(function(S){var b=l.items.find(function(O){return O.id==S.id});if(!b)return S;var h=re(b,rr);return(0,se.Z)(h,S)?b:ge(W({},b),S)}),pos:l.pos,activeIds:l.activeIds,io:l.io,backup:[],logs:[],preview:!!j||!!t,moving:!1,id:l.id}}),l.pos&&w({type:m.UPDATE_POS,payload:l.pos}))},[x]),(0,a.useEffect)(function(){w({type:m.UPDATE_POS,payload:r})},[r.join("-")]),(0,a.useEffect)(function(){return function(){return y.io.disconnect()}},[]),C}var ar=function(r){var t=r.deps,o=t===void 0?[]:t,c=r.pos,f=r.items,p=r.children,v=r.preview,y=r.rerender,w=ir(f,c,v);return(0,a.useEffect)(function(){y&&w.eventEmitter.emit(pe)}),(0,a.useMemo)(function(){return a.createElement(Se.Provider,{value:w},p)},o)};function fe(e,r){var t=!(e[2]<=r[0]||r[2]<=e[0]),o=!(e[3]<=r[1]||r[3]<=e[1]);return t&&o?{x:t,y:o}:!1}function or(e,r){var t=e.left-r.left,o=e.top-r.top;return[t,o,t+e.width,o+e.height]}function Ce(e,r,t){var o=e.current.getBoundingClientRect(),c=t.y-o.top,f=t.x-o.left,p=r.height,v=r.width;return{_rect:o,top:c,height:p,left:f,width:r.width,direction:function(w,_,E){var R=w.y,D=w.x,T=w.h,$=w.w,C=[f,c,f+v,c+p],L=fe(C,[D,R,D+$,R+T]);if(!L)return NaN;var j=D+$/2,x=R+T/2,l=or(r,o),g=[D,R,D+$,R+T];if(_==="grid")return L=fe(C,[j,x,j,x]),L?l[3]<=g[1]||l[2]<=g[0]?1:-1:NaN;if(E==="vertical"&&L.y){var S=f+v/2,b=c+p/2;return p>T?L=fe(C,[j,x,j,x]):L=fe([S,b,S,b],g),L.y?b-x:NaN}else if(E==="horizontal"&&L.x)return l[2]<=g[0]?1:-1;return NaN},compare:function(w){throw new Error("\u672A\u5B9E\u73B0\u903B\u8F91")}}}function Pe(e,r){var t=e.current.getBoundingClientRect(),o=r._rect,c=o.top-t.top,f=o.left-t.left;return{top:c,left:f,itemRect:o.height,compare:function(v,y,w){return v.direction({y:c,x:f,h:o.height,w:o.width},y,w)}}}var ur={height:0,width:0,y:0,x:0,bottom:0,right:0,left:0,top:0,toJSON:function(){}};function cr(e,r,t,o,c,f){var p=r.getSourceClientOffset();if(!p)return-1;var v=Ce(o,e._rect||ur,p),y=0,w=t.findIndex(function(_){var E=Pe(o,_),R=E.compare(v,c,f);return isNaN(R)?!1:(R>0&&(y=1),!0)});return w+y}function ke(e,r){return r.findIndex(function(t){return t.id===e})}var sr=function(r){var t=[],o=Object.keys(r).filter(function(c){return c.startsWith("data-flip")}).reduce(function(c,f){return c[f]=r[f],t.push(r[f]),c},{});return o.key=t.join(","),o};function lr(e,r){var t=Math.round(e/32)*32,o=Math.round(r/32)*32;return[t,o]}function dr(e,r,t,o){if(!e||!r)return{display:"none"};var c=r.x,f=r.y;if(t){c-=e.x,f-=e.y;var p=lr(c,f);c=p[0],f=p[1],c+=e.x,f+=e.y}o==="vertical"&&(c=e.x),o==="horizontal"&&(f=e.y);var v="translate("+c+"px, "+f+"px)";return{transform:v,WebkitTransform:v}}function fr(e,r){if(r>=1)return{transform:"scale("+r+")",width:e.width,height:e.height};var t=e.width*(1/r),o=e.height*(1/r),c=-(t*(1-r)/2),f=-(o*(1-r)/2);return{transform:"translate("+c+"px, "+f+"px) scale("+r+")",width:t,height:o}}function he(e,r,t){return a.isValidElement(e)?a.cloneElement(e,W({},r,{ref:t})):typeof e=="function"?e(r,t):(r.ref=t,a.createElement(e,r))}function vr(e,r){return r===void 0&&(r={}),function(t,o){var c,f=o.style,p=W({data:t,drag:function(){}},r);return(c=r)!=null&&c.scale?a.createElement("div",{className:"sortable-drag-preview",style:f},a.createElement("div",{className:"sortable-drag-preview-container",style:fr(f,typeof r.scale=="function"?r.scale():r.scale)},he(e,p))):a.createElement("div",{style:f},he(e,p))}}function pr(e,r){var t=e.mode,o=e.onDrop,c=e.allowDrop,f=e.tag,p=e.className,v=e.style,y=e.children,w=e.accept,_=e.layout,E=e.direction,R=me(),D=le(),T=F(function(P){return P.id}),$=F(function(P){return P.items}),C=F(function(P){return P.moving}),L=F(function(P){return P.activeIds}),j=F(function(P){return P.logs.slice(-1)}),x=j[0],l=(0,a.useRef)(),g=(0,a.useRef)(),S=(0,a.useRef)(["","",1]),b=(0,a.useRef)({id:T,items:$,lastLog:x,activities:[]}),h=(0,a.useRef)((0,$e.Z)(function(){var P=ve(te().mark(function I(k,X){var H,Y,G,Q,J,ce,Le,Ne,Me,Ae,q,ye,oe;return te().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(H=b.current,Y=H.isOverCurrent,G=H.activities,Y){A.next=3;break}return A.abrupt("return");case 3:if(Q=X.getSourceClientOffset(),Q){A.next=6;break}return A.abrupt("return");case 6:if(J=G.find(function(Lr){return Lr.id===k.id}),ce=(J==null?void 0:J._rect)||k._rect,!(!ce||!k._rect)){A.next=10;break}return A.abrupt("return");case 10:Le=Ce(N,ce,Q),Ne=Oe(G);case 12:if((Me=Ne()).done){A.next=50;break}if(q=Me.value,(J==null?void 0:J.id)!=q.id){A.next=16;break}return A.abrupt("continue",48);case 16:if(!(!((Ae=N.current)!=null&&Ae.getBoundingClientRect())&&!q._rect)){A.next=18;break}return A.abrupt("continue",48);case 18:ye=void 0,A.prev=19,ye=Pe(N,q),A.next=26;break;case 23:return A.prev=23,A.t0=A.catch(19),A.abrupt("continue",48);case 26:if(oe=ye.compare(Le,_,E),isNaN(oe)){A.next=48;break}if(t!="wysiwyg"){A.next=36;break}if(k.id!=q.id){A.next=31;break}return A.abrupt("continue",48);case 31:if(!(c&&!c({node:q,dragNode:k,dropPosition:oe}))){A.next=33;break}return A.abrupt("continue",48);case 33:return A.abrupt("return",n(k.id,q.id,oe));case 36:if(k.id!=q.id){A.next=40;break}return D.emit(m.indicator,{id:q.id,position:NaN}),b.current.node=void 0,A.abrupt("continue",48);case 40:if(!(c&&!c({node:q,dragNode:k,dropPosition:oe}))){A.next=45;break}return D.emit(m.indicator,{id:q.id,position:NaN}),b.current.node=void 0,console.error("now allowDrop",N.current,q._rect),A.abrupt("continue",48);case 45:b.current.node=q,b.current.dropPosition=oe,D.emit(m.indicator,{id:q.id,position:oe});case 48:A.next=12;break;case 50:case"end":return A.stop()}},I,null,[[19,23]])}));return function(I,k){return P.apply(this,arguments)}}(),60)),O=(0,a.useCallback)(function(){S.current=["","",1]},[]),n=(0,a.useCallback)(function(P,I,k){if(!(0,se.Z)(S.current,[P,I,k])){var X=b.current,H=X.items,Y=X.lastLog,G=X.moving,Q=ke(P,H),J=ke(I,H);if(!(Q==J||J==-1||J==-1)&&!(G&&Y&&J>=Math.min(Y.sourceIndex,Y.targetIndex)&&J<=Math.max(Y.sourceIndex,Y.targetIndex))){var ce={type:m.move,payload:{source:P,target:I,relation:k}};i(ce),S.current=[P,I,k]}}},[]);(0,a.useEffect)(function(){return function(){g.current!==void 0&&cancelAnimationFrame(g.current)}},[]);var i=(0,a.useCallback)(function(){var P=ve(te().mark(function I(k){return te().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:l.current=k,g.current||(g.current=requestAnimationFrame(u));case 2:case"end":return H.stop()}},I)}));return function(I){return P.apply(this,arguments)}}(),[]),u=(0,a.useCallback)(function(){R(l.current),l.current=void 0,g.current=void 0},[]),d=(0,a.useCallback)(function(P){D.emit(m.moveOut,{item:P}),O()},[]),s=(0,a.useCallback)(function(P,I){var k=b.current.id;D.emit(m.moveIn,{insertIndex:P,item:I,target:k,source:I._sortable}),O()},[]),U=function(I){return typeof r=="function"?r(I):I},N=(0,a.useRef)(null),z=(0,Te.L)({accept:w,drop:function(I){if(!!B)return D.emit(m.drop,{item:I,target:T,source:I._originalSortable}),o&&!!b.current.node&&(o({node:b.current.node,dragNode:I,dropPosition:b.current.dropPosition}),D.emit(m.indicator,{id:b.current.node,position:NaN}),b.current.node=void 0),{type:"sort",sortable:T,id:I.id}},collect:function(I){var k={item:I.getItem(),isOver:I.isOver(),isOverCurrent:I.isOver({shallow:!0}),canDrop:I.canDrop(),monitor:I};return k},hover:h.current}),V=z[0],M=V.item,B=V.isOverCurrent,Z=V.canDrop,ie=V.monitor,ae=z[1];return b.current.lastLog=x,b.current.id=T,b.current.item=M,b.current.monitor=ie,b.current.items=$,b.current.moving=C,b.current.isOverCurrent=B,b.current.activities=(0,a.useMemo)(function(){return $.filter(function(P){return L.includes(P.id)})},[L,$]),(0,a.useEffect)(function(){var P;if(t=="wysiwyg"){var I=b.current,k=I.item,X=I.id,H=I.monitor,Y=I.items;if(!(!k||!Z||!H)&&!(B&&X===k._sortable)){var G=X.split("/"),Q=G[0];if(B){var J=cr(k,H,Y,N,_,E);k._originalSortable||(k._registered=X),s(J,k)}else(!k._originalSortable&&k._registered==X||!((P=k._originalSortable)!=null&&P.startsWith(Q))&&k._sortable==Q&&Q==X)&&d(k)}}},[B]),(0,Be.isElement)(f)?a.cloneElement(f,{ref:ae(U(N)),children:y,className:ue()(p,{"sortable-container-isdrop":Z}),style:W({},v)}):a.createElement(f,{ref:ae(U(N)),children:y,className:ue()(p,{"sortable-container-isdrop":Z}),style:W({},v)})}var gr=a.forwardRef(pr),mr=["_rect","_sortable","_originalSortable"];function hr(e,r,t){e===void 0&&(e=Re);var o=t||{},c=o.draggable,f=me(),p=le(),v=F(function(u){return u.id}),y=F(function(u){return u.preview}),w=F(function(u){return u.dragging}),_=(0,a.useRef)(r),E=(0,a.useRef)({indicator:NaN}),R=(0,a.useReducer)(function(u){return u+1},0),D=R[1],T=(0,a.useRef)(!1),$=(0,a.useCallback)(function(u){T.current=u,D()},[]),C=(0,a.useRef)(null),L=(0,a.useCallback)(ve(te().mark(function u(){var d,s;return te().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:d=document.createEvent("MouseEvents"),d.initMouseEvent("mousemove",!0,!0,window,1,12,345,7,220,!1,!1,!0,!1,0,null),s=0;case 3:if(!(s<10)){N.next=10;break}return N.next=6,Ze(50);case 6:document.dispatchEvent(d);case 7:s++,N.next=3;break;case 10:case"end":return N.stop()}},u)})),[]),j=(0,a.useCallback)(function(u){var d=u.id,s=u.position;_.current.id==d?(E.current.indicator=s,D()):isNaN(E.current.indicator)||(E.current.indicator=NaN,D())},[]),x=(0,a.useCallback)(function(){g("\u62D6\u62FD\u68C0\u6D4B")&&$(!0)},[]),l=(0,a.useCallback)(function(){return $(!1)},[]);(0,a.useEffect)(function(){var u=C.current;if(!!u)return p.on(m.indicator,j),u.addEventListener("mousedown",x),u.addEventListener("mouseup",l),u.addEventListener("dragend",L),function(){p.off(m.indicator,j),u.removeEventListener("mouseDown",x),u.removeEventListener("mouseUp",l),u.removeEventListener("dragend",L)}},[C.current]),(0,a.useEffect)(function(){f({type:m.register,payload:{id:r.id,get _rect(){var u;return(u=C.current)==null?void 0:u.getBoundingClientRect()}}})},[t==null?void 0:t.index]);var g=(0,a.useCallback)(function(u){return typeof c=="function"?c(_.current,u):!!c},[c]),S=(0,xe.c)({type:e,collect:function(d){var s={isDragging:d.isDragging()};return s},canDrag:g,item:function(){return _.current=W({},r,{deleteable:typeof r.deleteable=="boolean"?r.deleteable:!0,_originalSortable:v,_sortable:v,get _rect(){var d;return C==null||(d=C.current)==null?void 0:d.getBoundingClientRect()}})},end:function(d,s){T.current=!1;var U=s.getDropResult();if((U==null?void 0:U.type)!=="sort"){if((U==null?void 0:U.type)==="dustbin"){p.emit(m.remove,{item:d,target:d._sortable,source:d._originalSortable}),p.emit(m.drop,{item:d,target:null,source:d._originalSortable});return}p.emit(m.indicator,{id:d,position:NaN}),p.emit(m.reset,{item:d,target:d._sortable,source:d._originalSortable})}}}),b=S[0].isDragging,h=S[1],O=S[2];(0,a.useEffect)(function(){y?O((0,We.r)(),{captureDraggingState:!1}):O(C)},[y]),(0,a.useEffect)(function(){!b||!!w||p.emit(m.dragging,_.current)},[b]);var n=(0,a.useCallback)(function(u){var d=u._sortable,s=u._originalSortable,U=re(u,mr);ge(_.current,U),p.emit(m.update,{item:U,target:d,source:s})},[]),i=(0,a.useCallback)(function(){var u=W({},r,{_originalSortable:v,_sortable:v});p.emit(m.remove,{item:u,target:v,source:v})},[v]);return[{clicked:T.current,isDragging:b,update:n,remove:i,style:{},indicator:E.current.indicator,className:ue()("sortable-item",{"sortable-item-dragging":b})},C,h]}var yr=["index","data","itemRender","className","draggable","style","preview"];function br(e){var r=e.index,t=e.data,o=e.itemRender,c=e.className,f=e.draggable,p=e.style,v=re(e,yr),y=(0,a.useReducer)(function(s){return s+1},0),w=y[0],_=y[1],E=le(),R=F(function(s){return s.io}),D=F(function(s){return s.id.split("/").length}),T=F(function(s){return s.activeIds.includes(t.id)}),$=hr(t.type,t,{index:r,draggable:f}),C=$[0],L=C.style,j=C.className,x=C.remove,l=C.update,g=C.isDragging,S=C.clicked,b=C.indicator,h=$[1],O=$[2],n=sr(v),i=(0,a.useMemo)(function(){return W({},p,L)},[p,L]),u=(0,a.useMemo)(function(){return ue()(c,j)},[c,j]),d=(0,a.useMemo)(function(){return n},[n.key]);return(0,a.useEffect)(function(){var s=h.current;return s.dataset.id=t.id,R.observe(s),function(){R.unobserve(s)}},[R]),(0,a.useEffect)(function(){if(!!T)return E.on(pe,_),function(){E.off(pe,_)}},[T]),a.useMemo(function(){var s={dragging:g,animated:d,className:u,style:i,data:t,level:D,index:r,remove:x,update:l,indicator:b,drag:O};return he(o,s,h)},[w,D,i,u,d,t,S,g,b])}var Er=a.memo(br),_r={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"},wr=function(r){var t=F(function(E){return E.id}),o=(0,je.f)(function(E){var R,D;return{rect:(R=E.getItem())==null?void 0:R._rect,item:E.getItem(),itemType:E.getItemType(),initialOffset:E.getInitialSourceClientOffset(),currentOffset:E.getSourceClientOffset(),isDragging:E.isDragging()&&t==((D=E.getItem())==null?void 0:D._sortable)}}),c=o.isDragging,f=o.item,p=o.itemType,v=o.initialOffset,y=o.rect,w=o.currentOffset;if(!c)return null;var _=a.createElement("div",{style:_r},r.render(f,{style:W({},dr(v,w,!!r.snapToGrid,r.layout=="list"&&r.axisLocked&&r.direction),{width:y==null?void 0:y.width,height:y==null?void 0:y.height}),type:p,sortableId:t,rect:y}));return r.container?Ke.createPortal(_,r.container):_},Dr=["empty","itemRender","onChange","draggable","preview"],Or=["_originalSortable","_sortable","_rect"];function Ir(e,r){if(e)return e;for(var t=[],o=a.Children.toArray(r),c=0;c<o.length;c+=1){var f=o[c].props;t.push(W({},f.data))}return t}function Rr(e,r){if(!e&&(!r||!a.Children.count(r)))throw"Sortable \u7684 itemRender \u53CA children \u4E0D\u80FD\u540C\u65F6\u4E3A NULL";if(e)return e;var t=a.Children.toArray(r);return t.length>0?t[0]:function(){return a.createElement("div",null,"No Item Render !!!")}}var Sr=[Re];function Cr(e,r){var t=e.onChange,o=e.pos,c=o===void 0?[]:o,f=e.mode,p=f===void 0?"wysiwyg":f,v=e.tag,y=v===void 0?"div":v,w=e.onDrop,_=e.draggable,E=_===void 0?!0:_,R=e.allowDrop,D=e.className,T=e.layout,$=T===void 0?"list":T,C=e.children,L=e.empty,j=e.accept,x=j===void 0?Sr:j,l=e.items,g=e.itemRender,S=e.rerender,b=S===void 0?typeof g=="function":S,h=e.style,O=e.preview,n=e.direction,i=n===void 0?$=="grid"?"horizontal":"vertical":n,u=Ir(l,C),d=(0,a.useState)(function(){return Rr(g,C)}),s=d[0];return a.createElement(ar,{preview:!!O,rerender:b,items:u,pos:c,deps:[$,R,y,i,D,E]},a.createElement(Pr,{tag:y,ref:r,empty:L,mode:p,className:ue()("sortable-container","sortable-"+$+"-"+i,D),style:h,accept:x,draggable:E,onDrop:w,allowDrop:R,onChange:t,itemRender:s,direction:i,layout:$,preview:O}))}var Pr=a.forwardRef(function(e,r){var t=e.empty,o=e.itemRender,c=e.onChange,f=e.draggable,p=e.preview,v=re(e,Dr),y=F(function(h){return h.items}),w=F(function(h){return h.id}),_=(0,a.useRef)({id:w,items:y}),E=le(),R=me();_.current.id=w,_.current.items=y;var D=(0,a.useCallback)(function(h){var O=_.current.items;!c||(h.type=="remove"&&(O=O.filter(function(n){return n.id!=h.item.id})),c(O.map(function(n){var i=re(n,Or);return i}),h))},[]),T=(0,a.useCallback)(function(h){var O=_.current.id,n=h.item;n._sortable==O&&(n._sortable=n._originalSortable,R({type:m.moveOut,payload:n}))},[]),$=(0,a.useCallback)(function(h){var O=_.current.id,n=h.item;n._originalSortable==O&&(R({type:m.remove,payload:n}),D(W({},h,{type:ne.REMOVE}))),n._sortable==O&&n._originalSortable!==n._sortable&&x()},[]),C=(0,a.useCallback)(function(h){var O=_.current.id,n=h.source,i=h.target;n==O?R({type:m.moveOut,payload:h.item}):i==O&&(h.item._sortable=O,R({type:m.moveIn,payload:{index:h.insertIndex,item:h.item}}))},[]),L=(0,a.useCallback)(function(h){var O=_.current.id,n=h.source,i=h.target;n==i&&n==O?D(W({},h,{type:ne.SORT})):n==O&&i?D(W({},h,{type:ne.DRAG})):i==O&&D(W({},h,{type:ne.DROP})),R({type:m.drop})},[]),j=(0,a.useCallback)(function(h){R({type:m.dragging,payload:h})},[]),x=(0,a.useCallback)(function(){R({type:m.reset})},[]),l=(0,a.useCallback)(function(h){var O=_.current.items;!O.some(function(n){return n.id==h.item.id})||D({item:h.item,type:ne.UPDATE})},[]);(0,a.useEffect)(function(){return E.on(m.drop,L),E.on(m.reset,x),E.on(m.remove,$),E.on(m.moveIn,C),E.on(m.moveOut,T),E.on(m.dragging,j),E.on(m.update,l),function(){E.off(m.drop,L),E.off(m.reset,x),E.off(m.remove,$),E.off(m.moveIn,C),E.off(m.moveOut,T),E.off(m.dragging,j),E.off(m.update,l)}},[]);var g=(0,a.useCallback)(function(){R({type:m.moving,payload:!0})},[]),S=(0,a.useCallback)(function(){R({type:m.moving,payload:!1})},[]),b=(0,a.useMemo)(function(){if(!!p)return typeof p=="function"?{render:p}:p},[p]);return a.createElement(gr,Object.assign({},v,{ref:r}),a.createElement(Ee.U5,{className:"sortable-flipper",spring:{stiffness:987,damping:63},onStart:g,onComplete:S,flipKey:y.map(function(h){return h.id}).join(",")},y.map(function(h,O){return a.createElement(Ee.$3,{key:h.id,flipId:h.id},a.createElement(Er,{index:O,key:h.id,draggable:f,preview:!!p,itemRender:o,data:h}))}),!y.length&&t,b&&a.createElement(wr,Object.assign({},b,{layout:v.layout,direction:v.direction}))))}),kr=a.forwardRef(Cr);be.ZP=kr}}]);
