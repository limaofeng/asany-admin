(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[9700,3190],{48775:function($,j,a){"use strict";a.d(j,{GP:function(){return p.Z},Hk:function(){return h}});var p=a(48655),l=a(39981),d=a(67294),R=a(94184),I=a.n(R),L=a(12788),S=a(11849),C=a(28865),M=a(37334),x=a(2824),O=a(96486),_=a(85893),m={aside:{minimize:!1,width:280}},E=d.createContext({state:m,dispatch:function(){}}),i;(function(r){r.AsideToggle="ASIDE_TOGGLE",r.AsideWidth="ASIDE_WIDTH"})(i||(i={}));function o(r,f){switch(f.type){case"ASIDE_TOGGLE":return r.aside.minimize=!r.aside.minimize,(0,S.Z)({},r);case"ASIDE_WIDTH":return r.aside.width=f.payload,(0,S.Z)({},r);default:throw new Error}}var u=function(f){var b=(0,d.useReducer)(o,(0,O.cloneDeep)(m)),A=(0,x.Z)(b,2),D=A[0],T=A[1];return(0,_.jsx)(E.Provider,{value:{state:D,dispatch:T},children:f.children})},v=function(){return(0,d.useContext)(E)},P=a(17818),z=a(8265);function s(r){var f=r.className,b=r.header,A=r.children,D=r.collapsible,T=D===void 0?!0:D,Z=r.width,N=Z===void 0?280:Z,k=(0,z.$Y)(),B=v(),U=B.dispatch;return(0,d.useEffect)(function(){k.aside.width(N+100),U({type:i.AsideWidth,payload:N})},[k.aside,U,N]),(0,_.jsxs)("div",{className:I()("app-aside aside",f),children:[(0,_.jsx)(M.Z,{children:(0,_.jsx)(p.Z,{header:b,resizeable:!0,className:"app-sidebar",children:A})}),T&&(0,_.jsx)(e,{className:"start-100 end-0"})]})}function e(r){var f=v(),b=f.dispatch,A=f.state.aside.minimize,D=(0,d.useCallback)(function(){b({type:i.AsideToggle})},[b]);return(0,_.jsx)(P.zx,{style:(0,S.Z)({marginBottom:"1.35rem",zIndex:105},r.style),onClick:D,activeColor:"primary",className:I()("micro-app-aside-toggle","btn-icon bg-body btn-color-gray-700 rounded-2 position-absolute translate-middle bottom-0 shadow-sm d-none d-lg-flex",r.className,{active:A}),children:(0,_.jsx)(C.JO,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})}s.Toggle=e;var n=s,t=L.ZP.div.withConfig({displayName:"MicroApp__MicroAppContainer",componentId:"sc-1dngjf6-0"})(["--root-aside-width:",";--met-aside-width:",";"],function(r){return r.minimize?"100px":"".concat(r.width,"px")},function(r){return r.minimize?"100px":"".concat(r.width,"px")});function c(r){var f=r.children,b=r.className,A=v(),D=A.state.aside,T=D.minimize,Z=D.width,N=(0,d.useCallback)(function(k){k.preventDefault()},[]);return(0,_.jsx)(t,{minimize:T,width:Z,className:I()("micro-app-container page-full-content",b,{"aside-minimize":T}),onContextMenu:N,children:f})}function g(r){var f=r.children,b=r.className;return(0,_.jsx)(u,{children:(0,_.jsx)(c,{className:b,children:f})})}g.Sidebar=n;var h=g,y=a(53851)},8265:function($,j,a){"use strict";a.d(j,{$Y:function(){return x},BK:function(){return O},aM:function(){return E}});var p=a(2824),l=a(11849),d=a(67294),R=a(85893),I=d.createContext({getState:function(){return{routes:[]}},subscribe:function(){},dispatch:function(){}}),L=function(o,u){return u?u.type==="ASIDE_MINIMIZE"?(0,l.Z)((0,l.Z)({},o),{},{aside:(0,l.Z)((0,l.Z)({},o.aside),{},{minimize:!!u.payload})}):u.type==="ASIDE_WIDTH"?(0,l.Z)((0,l.Z)({},o),{},{aside:(0,l.Z)((0,l.Z)({},o.aside),{},{width:u.payload})}):u.type==="ASIDE_COLLAPSIBLE"?(0,l.Z)((0,l.Z)({},o),{},{aside:(0,l.Z)((0,l.Z)({},o.aside),{},{collapsible:u.payload})}):o:o},S=function(o){return(0,l.Z)({},o)};function C(i){var o=(0,d.useReducer)(L,i,S),u=(0,p.Z)(o,2),v=u[0],P=u[1],z=(0,d.useState)([]),s=(0,p.Z)(z,1),e=s[0],n=function(b){return function(){var A=e.indexOf(b);A>-1&&e.splice(A,1)}},t=(0,d.useCallback)(function(f){return e.unshift(f),n(f)},[e]),c=(0,d.useCallback)(function(){e.forEach(function(f){return f()})},[e]),g={getState:function(){return v},dispatch:P,subscribe:t},h=(0,d.useState)(g),y=(0,p.Z)(h,1),r=y[0];return(0,d.useEffect)(function(){r.getState=function(){return v},c()},[v]),r}var M=function(o,u){return o===u};function x(){var i=(0,d.useContext)(I),o=(0,d.useRef)({aside:{get state(){return i.getState().aside},width:function(v){i.dispatch({type:"ASIDE_WIDTH",payload:v})},minimize:function(v){i.dispatch({type:"ASIDE_MINIMIZE",payload:v})},collapsible:function(v){i.dispatch({type:"ASIDE_COLLAPSIBLE",payload:v})}}});return o.current}function O(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M;return _(i,o)}function _(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M,u=(0,d.useContext)(I),v=(0,d.useReducer)(function(t){return t+1},0),P=(0,p.Z)(v,2),z=P[1],s=(0,d.useRef)(),e=i(u.getState());function n(){var t=i(u.getState());o(t,s.current)||(s.current=t,z())}return(0,d.useEffect)(function(){return u.subscribe(n)},[]),e}function m(){var i=useContext(I);return i.dispatch}function E(i){var o=i.children,u=i.state,v=C(u);return(0,d.useMemo)(function(){return(0,R.jsx)(I.Provider,{value:v,children:o})},[o,v])}},95901:function($,j,a){"use strict";a.d(j,{dI:function(){return z},rB:function(){return P}});var p=a(2824),l=a(67294);function d(s){return s!=null&&s!==""}function R(s,e){var n=useState(s),t=_slicedToArray(n,2),c=t[0],g=t[1];return useEffect(function(){var h=setTimeout(function(){g(s)},e);return function(){clearTimeout(h)}},[s,e]),c}var I={USERS_LIST:"users-list"},L=a(54941),S=a(69610),C=a(36321),M=(0,L.Z)(function s(){var e=this;(0,S.Z)(this,s),this.menu=null,this.element=null,this.getParamName=function(n){var t=document.body.hasAttribute("data-kt-name"),c=t?t+"_":"";return"kt_"+c+"theme_mode_"+n},this.getMode=function(){var n,t=e.getParamName("value"),c=e.getMenuMode(),g="light";if(!localStorage)return g;var h=localStorage.getItem(t);if(h)return h;var y=(n=e.element)===null||n===void 0?void 0:n.getAttribute("data-theme");return y||(c?c==="system"?e.getSystemMode():c:g)},this.setMode=function(n,t){var c,g,h,y=n,r=t;if(!(y!=="light"&&y!=="dark")){var f=e.getParamName("value"),b=e.getParamName("menu");r==="system"&&e.getSystemMode()!==y&&(y=e.getSystemMode()),r||(r=y);var A=((c=e.menu)===null||c===void 0?void 0:c.querySelector('[data-kt-element="mode"][data-kt-value="'+r+'"]'))||null;(g=e.element)===null||g===void 0||g.setAttribute("data-kt-theme-mode-switching","true"),(h=e.element)===null||h===void 0||h.setAttribute("data-theme",y);var D=e;setTimeout(function(){var T;(T=D.element)===null||T===void 0||T.removeAttribute("data-kt-theme-mode-switching")},300),localStorage&&localStorage.setItem(f,y),A&&localStorage&&(localStorage.setItem(b,r),e.setActiveMenuItem(A)),e.flipImages()}},this.getMenuMode=function(){var n,t=e.getParamName("menu"),c=(n=e.menu)===null||n===void 0?void 0:n.querySelector('.active[data-kt-element="mode"]'),g=c==null?void 0:c.getAttribute("data-kt-value");if(g)return g;if(!t)return"";var h=localStorage?localStorage.getItem(t):null;return h||""},this.getSystemMode=function(){return window.matchMedia("(prefers-color-scheme: dark)")?"dark":"light"},this.initMode=function(){e.setMode(e.getMode(),e.getMenuMode()),e.element&&C.EventHandlerUtil.trigger(e.element,"kt.thememode.init")},this.setActiveMenuItem=function(n){var t,c=e.getParamName("menu"),g=n.getAttribute("data-kt-value"),h=(t=e.menu)===null||t===void 0?void 0:t.querySelector('.active[data-kt-element="mode"]');h&&h.classList.remove("active"),n.classList.add("active"),localStorage&&g&&c&&localStorage.setItem(c,g)},this.handleMenu=function(){var n,t;(n=e.menu)===null||n===void 0||(t=n.querySelectorAll('[data-kt-element="mode"]'))===null||t===void 0||t.forEach(function(c){c.addEventListener("click",function(g){g.preventDefault();var h=c.getAttribute("data-kt-value"),y=h==="system"?e.getSystemMode():h;y&&e.setMode(y,h)})})},this.flipImages=function(){var n;(n=document.querySelectorAll("[data-kt-img-dark]"))===null||n===void 0||n.forEach(function(t){t.tagName==="IMG"?e.getMode()==="dark"&&t.hasAttribute("data-kt-img-dark")?(t.setAttribute("data-kt-img-light",t.getAttribute("src")||""),t.setAttribute("src",t.getAttribute("data-kt-img-dark")||"")):e.getMode()==="light"&&t.hasAttribute("data-kt-img-light")&&(t.setAttribute("data-kt-img-dark",t.getAttribute("src")||""),t.setAttribute("src",t.getAttribute("data-kt-img-light")||"")):e.getMode()==="dark"&&t.hasAttribute("data-kt-img-dark")?(t.setAttribute("data-kt-img-light",t.getAttribute("src")||""),t.style.backgroundImage="url('"+t.getAttribute("data-kt-img-dark")+"')"):e.getMode()==="light"&&t.hasAttribute("data-kt-img-light")&&(t.setAttribute("data-kt-img-dark",t.getAttribute("src")||""),t.style.backgroundImage="url('"+t.getAttribute("data-kt-img-light")+"')")})},this.on=function(n,t){if(e.element)return C.EventHandlerUtil.on(e.element,n,t)},this.off=function(n,t){if(e.element)return C.EventHandlerUtil.off(e.element,n,t)},this.init=function(){e.menu=document.querySelector('[data-kt-element="theme-mode-menu"]'),e.element=document.documentElement,e.initMode(),e.menu&&e.handleMenu()}}),x=new M,O=a(85893),_=x.getSystemMode(),m=function(e){var n=e!=="system"?e:_,t="/media/patterns/header-bg"+(n==="light"?".jpg":"-dark.png");document.body.style.backgroundImage='url("'.concat(toAbsoluteUrl(t),'")')},E="kt_theme_mode_value",i="kt_theme_mode_menu",o=function(e){if(!localStorage)return"light";var n=localStorage.getItem(e);return!n||n==="light"?"light":n==="dark"?"dark":"system"},u={mode:o(E),menuMode:o(i),updateMode:function(e){},updateMenuMode:function(e){}},v=(0,l.createContext)({mode:u.mode,menuMode:u.menuMode,updateMode:function(e){},updateMenuMode:function(e){}}),P=function(){return(0,l.useContext)(v)},z=function(e){var n=e.children,t=(0,l.useState)(u.mode),c=(0,p.Z)(t,2),g=c[0],h=c[1],y=(0,l.useState)(u.menuMode),r=(0,p.Z)(y,2),f=r[0],b=r[1],A=function(Z){var N=Z==="system"?_:Z;h(N),localStorage&&localStorage.setItem(E,N),document.documentElement.setAttribute("data-theme",N),x.init()},D=function(Z){b(Z),localStorage&&localStorage.setItem(i,Z)};return(0,l.useEffect)(function(){A(g),D(f)},[]),(0,O.jsx)(v.Provider,{value:{mode:g,menuMode:f,updateMode:A,updateMenuMode:D},children:n})}},2893:function($,j,a){"use strict";a.r(j);var p=a(67294),l=a(51128),d=a(51615),R=a(73727),I=a(92957),L=a(48775),S=a(17818),C=a(25496),M=a(85893);function x(m,E){if(m.type==="SECTION")return(0,M.jsx)(S.v2.Section,{children:m.name},m.id);if(m.type==="URL")return(0,M.jsx)(S.v2.Item,{as:R.Link,bullet:!0,icon:m.icon,title:m.name,url:(0,d.Gn)(m.path,E)},m.id);if(m.type==="SEPARATOR")return(0,M.jsx)(S.v2.Separator,{className:"my-1"},m.id);if(m.type==="MENU")return(0,M.jsx)(S.v2.SubMenu,{bullet:!0,icon:m.icon,title:m.name,children:(m.routes||[]).map(function(i){return x(i,E)})},m.id);throw new Error("\u4E0D\u652F\u6301\u7684 MenuType"+m.type)}var O=[];function _(m){var E,i=m.menu,o=(i==null?void 0:i.routes)||O,u=(0,d.TH)(),v=(0,p.useMemo)(function(){return(0,l.nG)(u.pathname,o,!0)},[o,u.pathname]),P=(0,d.$B)({path:"/organizations/:id/settings",strict:!0,sensitive:!0}),z=(0,I.Tk)({variables:{id:P==null?void 0:P.params.id},fetchPolicy:"cache-and-network"}),s=z.data,e=s==null?void 0:s.organization;return(0,M.jsxs)(L.GP,{children:[(0,M.jsxs)("div",{className:"mt-5 px-10 pt-5 mb-6 d-flex align-items-center",children:[(0,M.jsx)(S.mN.Avatar,{size:50,className:"me-5",src:(0,C.Fz)(e==null||(E=e.logo)===null||E===void 0?void 0:E.id,{size:"300x300"}),alt:e==null?void 0:e.name}),(0,M.jsxs)("div",{className:"d-flex flex-column",children:[(0,M.jsx)("div",{className:"fw-bolder d-flex align-items-center fs-5",children:e==null?void 0:e.name}),(0,M.jsx)("a",{href:"#",className:"fw-bold text-muted text-hover-primary fs-7",children:e==null?void 0:e.code})]})]}),(0,M.jsx)(S.v2,{className:"menu-fit menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 px-6 pb-6 my-5 my-lg-0",selectedKeys:v.map(function(n){return n.key}),children:o.filter(function(n){return!n.hideInMenu}).map(function(n){return x(n,(P==null?void 0:P.params)||{id:"id"})})})]})}j.default=_},92957:function($,j,a){"use strict";a.d(j,{ry:function(){return m},Tk:function(){return E},RE:function(){return u},x:function(){return P},Bg:function(){return s}});var p=a(11849),l=a(20310),d=a(49704),R=a(64718),I=a(21919),L,S,C,M,x,O={},_=(0,d.Ps)(L||(L=(0,l.Z)([`
    fragment OrganizationProfile on Organization {
  id
  code
  name
  logo
  description
  email
  url
  location {
    province
    city
    district
    street
  }
}
    `]))),m=(0,d.Ps)(S||(S=(0,l.Z)([`
    query organization($id: ID!) {
  organization(id: $id) {
    ...OrganizationProfile
  }
}
    `,""])),_);function E(n){var t=(0,p.Z)((0,p.Z)({},O),n);return R.a(m,t)}function i(n){var t=_objectSpread(_objectSpread({},O),n);return Apollo.useLazyQuery(m,t)}var o=(0,d.Ps)(C||(C=(0,l.Z)([`
    mutation updateOrganizationProfile($id: ID!, $input: UpdateOrganizationProfileUpdateInput!) {
  updateOrganizationProfile(id: $id, input: $input) {
    ...OrganizationProfile
  }
}
    `,""])),_);function u(n){var t=(0,p.Z)((0,p.Z)({},O),n);return I.D(o,t)}var v=(0,d.Ps)(M||(M=(0,l.Z)([`
    mutation renameOrganizationCode($id: ID!, $code: String!) {
  renameOrganizationCode(id: $id, code: $code) {
    ...OrganizationProfile
  }
}
    `,""])),_);function P(n){var t=(0,p.Z)((0,p.Z)({},O),n);return I.D(v,t)}var z=(0,d.Ps)(x||(x=(0,l.Z)([`
    query permissionsConnection($filter: PermissionFilter, $page: Int, $pageSize: Int, $orderBy: OrderBy = "createdAt_desc") {
  total: permissionsConnection(pageSize: 1) {
    totalCount
  }
  connection: permissionsConnection(
    filter: $filter
    page: $page
    pageSize: $pageSize
    orderBy: $orderBy
  ) {
    totalPage
    pageSize
    current: currentPage
    total: totalCount
    edges {
      node {
        id
        name
        description
      }
    }
  }
}
    `])));function s(n){var t=(0,p.Z)((0,p.Z)({},O),n);return R.a(z,t)}function e(n){var t=_objectSpread(_objectSpread({},O),n);return Apollo.useLazyQuery(z,t)}}}]);
