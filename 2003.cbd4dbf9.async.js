(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[2003],{23798:function(Ze,R,F){"use strict";F.d(R,{k$:function(){return ve},WF:function(){return Z},au:function(){return P},ot:function(){return he},aA:function(){return xe},AQ:function(){return L},G$:function(){return Fe},wp:function(){return je},ZO:function(){return G},c9:function(){return Ee},_c:function(){return Ce},Pw:function(){return Ae},KX:function(){return be},w4:function(){return De},Nq:function(){return _e}});var m=F(11849),y=F(20310),D=F(49704),O=F(64718),g=F(38460),E=F(21919),c,K,V,H,v,w,u,e,Y,U,ee,ue,ae,le,A={},ie=(0,D.Ps)(c||(c=(0,y.Z)([`
    query module($id: ID!) {
  module(id: $id) {
    id
    code
    name
    picture
    description
  }
}
    `])));function ve(x){var f=(0,m.Z)((0,m.Z)({},A),x);return O.a(ie,f)}function Z(x){var f=(0,m.Z)((0,m.Z)({},A),x);return g.t(ie,f)}var se=(0,D.Ps)(K||(K=(0,y.Z)([`
    query modules($filter: ModuleFilter, $limit: Int) {
  modules(filter: $filter, limit: $limit) {
    id
    name
    code
    picture
    pictureUrl: picture(format: url)
    description
  }
}
    `])));function P(x){var f=(0,m.Z)((0,m.Z)({},A),x);return O.a(se,f)}function he(x){var f=(0,m.Z)((0,m.Z)({},A),x);return g.t(se,f)}var T=(0,D.Ps)(V||(V=(0,y.Z)([`
    mutation createModule($input: ModuleCreateInput!) {
  createModule(input: $input) {
    id
    code
    name
    picture
    description
  }
}
    `])));function xe(x){var f=(0,m.Z)((0,m.Z)({},A),x);return E.D(T,f)}var fe=(0,D.Ps)(H||(H=(0,y.Z)([`
    mutation updateModule($id: ID!, $input: ModuleUpdateInput!) {
  updateModule(id: $id, input: $input) {
    id
    code
    name
    picture
    description
  }
}
    `])));function L(x){var f=(0,m.Z)((0,m.Z)({},A),x);return E.D(fe,f)}var Be=(0,D.Ps)(v||(v=(0,y.Z)([`
    mutation deleteModule($id: ID!) {
  deleteModule(id: $id)
}
    `])));function Fe(x){var f=(0,m.Z)((0,m.Z)({},A),x);return E.D(Be,f)}var pe=(0,D.Ps)(w||(w=(0,y.Z)([`
    mutation deleteManyModules($ids: [ID!]!) {
  deleteManyModules(ids: $ids)
}
    `])));function Pe(x){var f=_objectSpread(_objectSpread({},A),x);return Apollo.useMutation(pe,f)}var ne=(0,D.Ps)(u||(u=(0,y.Z)([`
    query schema($module: ID!) {
  models(module: $module, filter: {type: ENTITY}) {
    id
    code
    name
    description
  }
}
    `])));function je(x){var f=(0,m.Z)((0,m.Z)({},A),x);return O.a(ne,f)}function Te(x){var f=_objectSpread(_objectSpread({},A),x);return Apollo.useLazyQuery(ne,f)}var G=(0,D.Ps)(e||(e=(0,y.Z)([`
    query model($id: ID) {
  model(id: $id) {
    id
    code
    name
    description
    fields {
      id
      code
      system
      type {
        id
        name
        family
        description
        graphQLType
      }
      name
      description
      metadata {
        databaseColumnName
      }
    }
  }
}
    `])));function Ee(x){var f=(0,m.Z)((0,m.Z)({},A),x);return O.a(G,f)}function Le(x){var f=_objectSpread(_objectSpread({},A),x);return Apollo.useLazyQuery(G,f)}var de=(0,D.Ps)(Y||(Y=(0,y.Z)([`
    query modelFiledTypes {
  filedTypes: modelFiledTypes {
    id
    name
    description
    family
  }
}
    `])));function Ce(x){var f=(0,m.Z)((0,m.Z)({},A),x);return O.a(de,f)}function Me(x){var f=_objectSpread(_objectSpread({},A),x);return Apollo.useLazyQuery(de,f)}var te=(0,D.Ps)(U||(U=(0,y.Z)([`
    query modelFields($model: ID!, $filter: ModelFieldFilter, $limit: Int) {
  listFields: modelFields(model: $model, filter: $filter, limit: $limit) {
    id
    name
    description
  }
}
    `])));function we(x){var f=_objectSpread(_objectSpread({},A),x);return Apollo.useQuery(te,f)}function Se(x){var f=_objectSpread(_objectSpread({},A),x);return Apollo.useLazyQuery(te,f)}var ye=(0,D.Ps)(ee||(ee=(0,y.Z)([`
    mutation createModel($input: ModelCreateInput!) {
  createModel(input: $input) {
    id
    name
  }
}
    `])));function Ae(x){var f=(0,m.Z)((0,m.Z)({},A),x);return E.D(ye,f)}var ge=(0,D.Ps)(ue||(ue=(0,y.Z)([`
    mutation addModelField($modelId: ID!, $input: ModelFieldInput!) {
  addModelField(modelId: $modelId, input: $input) {
    id
    code
    system
    type {
      id
      name
      family
      description
      graphQLType
    }
    name
    description
    metadata {
      databaseColumnName
    }
  }
}
    `])));function be(x){var f=(0,m.Z)((0,m.Z)({},A),x);return E.D(ge,f)}var Ne=(0,D.Ps)(ae||(ae=(0,y.Z)([`
    mutation updateModelField($modelId: ID!, $fieldId: ID!, $input: ModelFieldInput!) {
  updateModelField(modelId: $modelId, fieldId: $fieldId, input: $input) {
    id
    code
    system
    type {
      id
      name
      family
      description
      graphQLType
    }
    name
    description
    metadata {
      databaseColumnName
    }
  }
}
    `])));function De(x){var f=(0,m.Z)((0,m.Z)({},A),x);return E.D(Ne,f)}var Ie=(0,D.Ps)(le||(le=(0,y.Z)([`
    mutation removeModelField($modelId: ID!, $fieldId: ID!) {
  removeModelField(modelId: $modelId, fieldId: $fieldId)
}
    `])));function _e(x){var f=(0,m.Z)((0,m.Z)({},A),x);return E.D(Ie,f)}},64043:function(Ze,R,F){"use strict";F.d(R,{ZO:function(){return m.ZO},KX:function(){return m.KX},Pw:function(){return m.Pw},aA:function(){return m.aA},G$:function(){return m.G$},_c:function(){return m._c},c9:function(){return m.c9},WF:function(){return m.WF},ot:function(){return m.ot},au:function(){return m.au},Nq:function(){return m.Nq},wp:function(){return m.wp},w4:function(){return m.w4},AQ:function(){return m.AQ}});var m=F(23798)},32003:function(Ze,R,F){"use strict";F.r(R),F.d(R,{default:function(){return Ke}});var m=F(64043),y=F(39428),D=F(3182),O=F(91220),g=F(11849),E=F(2824),c=F(67294),K=F(38745),V=F(1861),H=F(94184),v=F.n(H),w=F(28865),u=F(17818),e=F(85893);function Y(i,d){var t=i.drag,s=i.style,l=i.animated,o=i.className,n=i.onClickEdit,a=i.onDelete,h=i.data.data,r=(0,c.useCallback)(function(){a(h)},[h,a]),B=(0,c.useMemo)(function(){return h.type.id.toLowerCase()},[h]),p=(0,c.useCallback)(function(){n(h)},[h,n]);return(0,e.jsx)("div",(0,g.Z)((0,g.Z)({},l),{},{style:s,ref:d,className:v()("model-field",o),children:(0,e.jsxs)("div",{className:"field-item-wrapper",children:[(0,e.jsx)("div",{ref:t,className:"field-item-drag-handle",children:(0,e.jsx)("svg",{viewBox:"0 0.5 9 13",focusable:"false",children:(0,e.jsxs)("g",{fillRule:"evenodd",transform:"translate(0 .5)",children:[(0,e.jsx)("circle",{cx:"1.5",cy:"1.5",r:"1.5"}),(0,e.jsx)("circle",{cx:"7.5",cy:"1.5",r:"1.5"}),(0,e.jsx)("circle",{cx:"1.5",cy:"6.5",r:"1.5"}),(0,e.jsx)("circle",{cx:"7.5",cy:"6.5",r:"1.5"}),(0,e.jsx)("circle",{cx:"1.5",cy:"11.5",r:"1.5"}),(0,e.jsx)("circle",{cx:"7.5",cy:"11.5",r:"1.5"})]})})}),(0,e.jsx)("div",{className:v()("field-item-type","model-field-type__".concat(B)),children:(0,e.jsx)(w.JO,{name:"FieldType/".concat(B)})}),(0,e.jsxs)("div",{className:"field-item-content",children:[(0,e.jsxs)("div",{className:"field-item-content__intro",children:[(0,e.jsx)("div",{className:"field-item-content__name",children:h.name}),(0,e.jsxs)("div",{className:"field-item-content__code",children:["#",h.code]}),h.description&&(0,e.jsx)(w.JO,{name:"Bootstrap/info-circle-fill"})]}),(0,e.jsxs)("div",{className:"field-item-content__details",children:[(0,e.jsxs)("div",{className:"field-item-content__labels",children:[h.type.family&&(0,e.jsx)(u.Ct,{children:h.type.family[0]+h.type.family.substring(1).toLowerCase()}),(0,e.jsx)(u.Ct,{children:h.type.name}),h.system&&(0,e.jsx)(u.Ct,{children:"\u7CFB\u7EDF\u5B57\u6BB5"})]}),(0,e.jsxs)("div",{className:"field-item-content__actions",children:[(0,e.jsx)(u.zx,{onClick:p,children:"\u7F16\u8F91\u5B57\u6BB5"}),(0,e.jsx)(u.zx,{variant:"danger",onClick:r,children:"\u5220\u9664\u5B57\u6BB5"})]})]})]})]})}))}var U=c.forwardRef(Y);function ee(i){var d=i.name,t=i.children;return(0,e.jsxs)("div",{className:"model-field-type-group",children:[(0,e.jsx)("div",{className:"model-field-type-group-name",children:d}),(0,e.jsx)("div",{className:"model-field-type-group-content",children:t})]})}function ue(i){var d=i.data,t=i.onClick,s=(0,c.useCallback)(function(l){t&&t(d,l)},[d,t]);return(0,e.jsxs)("div",{className:"model-field-type",onClick:s,children:[(0,e.jsx)("div",{className:v()("model-field-type-icon","model-field-type__".concat(d.id)),children:(0,e.jsx)(w.ZP,{name:"FieldType/".concat(d.id)})}),(0,e.jsxs)("div",{className:"model-field-type-content",children:[(0,e.jsx)("div",{className:"model-field-type-content__name text-gray-800",children:d.name}),(0,e.jsx)("div",{className:"model-field-type-content__description text-gray-600",children:d.description})]})]})}var ae=ue,le=F(93224);function A(i){var d=i.form,t=(0,c.useState)("settings"),s=(0,E.Z)(t,2),l=s[0],o=s[1],n=(0,c.useCallback)(function(a){return function(){o(a)}},[]);return(0,e.jsxs)(u.l0,{form:d,children:[(0,e.jsxs)("div",{className:"mb-5",children:[(0,e.jsx)(u.zx,{color:l!="settings"&&"gray-700",variant:l=="settings"?"light-primary":!1,activeColor:l=="settings"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("settings"),children:"\u8BBE\u7F6E"}),(0,e.jsx)(u.zx,{color:l!="validations"&&"gray-700",variant:l=="validations"?"light-primary":!1,activeColor:l=="validations"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("validations"),children:"\u9A8C\u8BC1"}),(0,e.jsx)(u.zx,{color:l!="advanced"&&"gray-700",variant:l=="advanced"?"light-primary":!1,activeColor:l=="advanced"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("advanced"),children:"\u9AD8\u7EA7"})]}),(0,e.jsxs)("div",{className:v()("modal-tabpane d-flex flex-column gap-6",{"d-none":l!="settings"}),children:[(0,e.jsx)(u.l0.Item,{required:!1,name:"name",label:"\u663E\u793A\u540D\u79F0",help:"\u914D\u7F6E\u6A21\u578B\u65F6\u663E\u793A\u7684\u540D\u79F0, \u901A\u5E38\u4E3A\u4E2D\u6587",rules:[{required:!0,message:"\u663E\u793A\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(u.II,{solid:!0})}),(0,e.jsx)(u.l0.Item,{required:!1,name:"code",label:"\u7F16\u7801",help:"\u7528\u4E8E\u901A\u8FC7 API \u8BBF\u95EE\u6B64\u6A21\u578B\u7684 ID, \u4E0D\u80FD\u4E3A\u4E2D\u6587",rules:[{required:!0,message:"\u7F16\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(u.II,{solid:!0})}),(0,e.jsx)(u.l0.Item,{name:"description",label:"\u63CF\u8FF0",help:"\u4E3A\u5185\u5BB9\u7F16\u8F91\u8005\u548C API \u7528\u6237\u663E\u793A\u63D0\u793A",requiredMark:"optional",children:(0,e.jsx)(u.II.TextArea,{solid:!0,autoSize:{maxRows:4,minRows:2}})}),(0,e.jsxs)("div",{className:"field-options",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u5B57\u6BB5\u9009\u9879"}),(0,e.jsxs)("div",{className:"field-options__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"useTitleField",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5728\u5173\u7CFB\u4E2D\u663E\u793A\u6B64\u5B57\u6BB5\u7684\u503C\u800C\u4E0D\u662F ID"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u7528\u4F5C\u6807\u9898\u5B57\u6BB5"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"allowMultipleValues",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5B58\u50A8\u503C\u5217\u8868\u800C\u4E0D\u662F\u5355\u4E2A\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5141\u8BB8\u591A\u4E2A\u503C"})})]})]})]}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":l!="validations"}),children:(0,e.jsx)("div",{className:"field-validations",children:(0,e.jsxs)("div",{className:"field-validations__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5982\u679C\u6B64\u5B57\u6BB5\u4E3A\u7A7A\uFF0C\u5219\u963B\u6B62\u4FDD\u5B58\u6761\u76EE"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5B57\u6BB5\u4E3A\u5FC5\u586B\u9879"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"unique",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u8BE5\u5B57\u6BB5\u7684\u591A\u4E2A\u6761\u76EE\u4E0D\u80FD\u5177\u6709\u76F8\u540C\u7684\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5C06\u5B57\u6BB5\u8BBE\u7F6E\u4E3A\u552F\u4E00"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"limitCharacterCount",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u6307\u5B9A\u6700\u5C0F\u548C/\u6216\u6700\u5927\u5141\u8BB8\u7684\u5B57\u7B26\u6570"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u9650\u5236\u5B57\u7B26\u6570"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"pattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4EC5\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF08\u4F8B\u5982\u7535\u5B50\u90AE\u4EF6\u3001URL\uFF09"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"restrictPattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4E0D\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})})]})})}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":l!="advanced"}),children:(0,e.jsxs)("div",{className:"field-advanced",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u521D\u59CB\u5316"}),(0,e.jsx)("div",{className:"field-advanced__list d-flex flex-column",children:(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4F7F\u7528\u6B64\u503C\u9884\u586B\u5145\u8868\u5355\u8F93\u5165"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u8BBE\u7F6E\u521D\u59CB\u503C"})})}),(0,e.jsxs)("div",{className:"field-advanced",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u53EF\u89C1\u6027"}),(0,e.jsx)("div",{className:"field-advanced__list d-flex flex-column",children:(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4F7F\u7528\u6B64\u503C\u9884\u586B\u5145\u8868\u5355\u8F93\u5165"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u8BBE\u7F6E\u521D\u59CB\u503C"})})})]})]})})]})}var ie=A;function ve(i){var d=i.model,t=i.data,s=i.mode;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"field-advanced",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u521D\u59CB\u5316"}),(0,e.jsx)("div",{className:"field-advanced__list d-flex flex-column",children:(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4F7F\u7528\u6B64\u503C\u9884\u586B\u5145\u8868\u5355\u8F93\u5165"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u8BBE\u7F6E\u521D\u59CB\u503C"})})})]}),(0,e.jsxs)("div",{className:"field-advanced",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u53EF\u89C1\u6027"}),(0,e.jsx)("div",{className:"field-advanced__list d-flex flex-column",children:(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4F7F\u7528\u6B64\u503C\u9884\u586B\u5145\u8868\u5355\u8F93\u5165"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u8BBE\u7F6E\u521D\u59CB\u503C"})})})]}),(0,e.jsxs)("div",{className:"field-advanced",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u6570\u636E\u5E93\u8BBE\u7F6E"}),(0,e.jsx)("div",{className:"field-advanced__list d-flex flex-column",children:(0,e.jsx)(u.l0.Item,{className:"mb-5",name:"databaseColumnName",label:"\u5217\u540D",help:"\u6620\u5C04\u5230\u6570\u636E\u5E93\u4E2D\u7684\u5217\u540D",hasFeedback:!0,rules:[{pattern:/^([a-z])([a-z1-9])*(_([a-z1-9]+))*/i,message:"\u8BF7\u9075\u5FAA\u6570\u636E\u5E93\u547D\u540D\u89C4\u8303"},{validator:function(o,n){return(0,D.Z)((0,y.Z)().mark(function a(){var h,r,B;return(0,y.Z)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(B=t==null||(h=t.metadata)===null||h===void 0||(r=h.databaseColumnName)===null||r===void 0?void 0:r.toLowerCase(),n){b.next=3;break}return b.abrupt("return");case 3:if(!(n.toLowerCase()==B&&s=="edit")){b.next=5;break}return b.abrupt("return");case 5:if(!d.fields.some(function(q){var S,X;return((S=q.metadata)===null||S===void 0||(X=S.databaseColumnName)===null||X===void 0?void 0:X.toLowerCase())==n.toLowerCase()})){b.next=7;break}throw new Error(o.message);case 7:case"end":return b.stop()}},a)}))()},message:"\u540D\u79F0\u4E0D\u80FD\u91CD\u590D"}],children:(0,e.jsx)(u.II,{solid:!0,boxClassName:"w-75",style:{textTransform:"uppercase"}})})})]})]})}var Z=ve;function se(i){var d=i.mode;return(0,e.jsxs)("div",{className:"field-options",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u5B57\u6BB5\u9009\u9879"}),(0,e.jsx)("div",{className:"field-options__list d-flex flex-column",children:(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"allowMultipleValues",className:v()({"form-item__disabled":d=="edit"}),help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5B58\u50A8\u503C\u5217\u8868\u800C\u4E0D\u662F\u5355\u4E2A\u503C"}),children:(0,e.jsx)(u.XZ,{disabled:d=="edit",solid:!0,label:"\u5141\u8BB8\u591A\u4E2A\u503C"})})})]})}var P=se;function he(i){var d=i.model,t=i.data,s=i.mode;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(u.l0.Item,{required:!1,name:"name",label:"\u663E\u793A\u540D\u79F0",hasFeedback:!0,help:"\u914D\u7F6E\u6A21\u578B\u65F6\u663E\u793A\u7684\u540D\u79F0, \u901A\u5E38\u4E3A\u4E2D\u6587",rules:[{required:!0,message:"\u663E\u793A\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"},{validator:function(o,n){return(0,D.Z)((0,y.Z)().mark(function a(){return(0,y.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}return r.abrupt("return");case 2:if(!(n==(t==null?void 0:t.name)&&s=="edit")){r.next=4;break}return r.abrupt("return");case 4:if(!d.fields.some(function(B){return B.name==n})){r.next=6;break}throw new Error(o.message);case 6:case"end":return r.stop()}},a)}))()},message:"\u540D\u79F0\u4E0D\u80FD\u91CD\u590D"}],children:(0,e.jsx)(u.II,{solid:!0,boxClassName:"w-75"})}),(0,e.jsx)(u.l0.Item,{required:!1,name:"code",label:"\u7F16\u7801",help:"\u7528\u4E8E\u901A\u8FC7 API \u8BBF\u95EE\u6B64\u6A21\u578B\u7684 ID, \u4E0D\u80FD\u4E3A\u4E2D\u6587",hasFeedback:!0,rules:[{required:!0,message:"\u7F16\u7801\u4E0D\u80FD\u4E3A\u7A7A"},{pattern:/^([a-z])([a-z1-9])*(_([a-z1-9]+))*/i,message:"\u8BF7\u9075\u5FAA Java \u547D\u540D\u89C4\u8303"},{validator:function(o,n){return(0,D.Z)((0,y.Z)().mark(function a(){return(0,y.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}return r.abrupt("return");case 2:if(!(n==(t==null?void 0:t.code)&&s=="edit")){r.next=4;break}return r.abrupt("return");case 4:if(!d.fields.some(function(B){return B.code==n})){r.next=6;break}throw new Error(o.message);case 6:case"end":return r.stop()}},a)}))()},message:"\u7F16\u7801\u4E0D\u80FD\u91CD\u590D"}],children:(0,e.jsx)(u.II,{solid:!0,boxClassName:"w-75"})}),(0,e.jsx)(u.l0.Item,{name:"description",label:"\u63CF\u8FF0",help:"\u4E3A\u5185\u5BB9\u7F16\u8F91\u8005\u548C API \u7528\u6237\u663E\u793A\u63D0\u793A",requiredMark:"optional",children:(0,e.jsx)(u.II.TextArea,{solid:!0,className:"w-75",autoSize:{maxRows:4,minRows:2}})})]})}var T=he,xe=F(84820);function fe(i,d){var t=(0,c.useState)(!0),s=(0,E.Z)(t,2),l=s[0],o=s[1],n=(0,c.useState)(!0),a=(0,E.Z)(n,2),h=a[0],r=a[1],B=(0,c.useCallback)(function(p){if(Object.hasOwn(p,"code")&&o(!1),Object.hasOwn(p,"databaseColumnName")&&r(!1),Object.hasOwn(p,"name")&&l){var b=(0,xe.N9)(p.name,{toneType:"none",type:"array"}).join("");i.setFieldValue("code",b),h&&i.setFieldValue("databaseColumnName",b.toUpperCase())}Object.hasOwn(p,"code")&&h&&i.setFieldValue("databaseColumnName",p.code.toUpperCase())},[l,h,i]);return(0,c.useEffect)(function(){d=="edit"?(o(!1),r(!1)):(o(!0),r(!0))},[d]),B}var L=fe;function Be(i){var d=i.form,t=i.model,s=i.mode,l=i.data,o=(0,c.useState)("settings"),n=(0,E.Z)(o,2),a=n[0],h=n[1],r=(0,c.useCallback)(function(p){return function(){h(p)}},[]),B=L(d,s);return(0,e.jsxs)(u.l0,{form:d,onValuesChange:B,children:[(0,e.jsxs)("div",{className:"mb-5",children:[(0,e.jsx)(u.zx,{color:a!="settings"&&"gray-700",variant:a=="settings"?"light-primary":!1,activeColor:a=="settings"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("settings"),children:"\u8BBE\u7F6E"}),(0,e.jsx)(u.zx,{color:a!="validations"&&"gray-700",variant:a=="validations"?"light-primary":!1,activeColor:a=="validations"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("validations"),children:"\u9A8C\u8BC1"}),(0,e.jsx)(u.zx,{color:a!="advanced"&&"gray-700",variant:a=="advanced"?"light-primary":!1,activeColor:a=="advanced"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("advanced"),children:"\u9AD8\u7EA7"})]}),(0,e.jsxs)("div",{className:v()("modal-tabpane d-flex flex-column gap-6",{"d-none":a!="settings"}),children:[(0,e.jsx)(T,{model:t,mode:s,data:l}),(0,e.jsx)(P,{isTitle:!1,model:t,mode:s,data:l})]}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":a!="validations"}),children:(0,e.jsx)("div",{className:"field-validations",children:(0,e.jsxs)("div",{className:"field-validations__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5982\u679C\u6B64\u5B57\u6BB5\u4E3A\u7A7A\uFF0C\u5219\u963B\u6B62\u4FDD\u5B58\u6761\u76EE"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5B57\u6BB5\u4E3A\u5FC5\u586B\u9879"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"unique",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u8BE5\u5B57\u6BB5\u7684\u591A\u4E2A\u6761\u76EE\u4E0D\u80FD\u5177\u6709\u76F8\u540C\u7684\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5C06\u5B57\u6BB5\u8BBE\u7F6E\u4E3A\u552F\u4E00"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"limitCharacterCount",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u6307\u5B9A\u6700\u5C0F\u548C/\u6216\u6700\u5927\u5141\u8BB8\u7684\u5B57\u7B26\u6570"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u9650\u5236\u5B57\u7B26\u6570"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"pattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4EC5\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF08\u4F8B\u5982\u7535\u5B50\u90AE\u4EF6\u3001URL\uFF09"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"restrictPattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4E0D\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})})]})})}),(0,e.jsx)("div",{className:v()("modal-tabpane  d-flex flex-column gap-6",{"d-none":a!="advanced"}),children:(0,e.jsx)(Z,{model:t,mode:s,data:l})})]})}var Fe=Be;function pe(i){var d=i.form,t=(0,c.useState)("settings"),s=(0,E.Z)(t,2),l=s[0],o=s[1],n=(0,c.useCallback)(function(a){return function(){o(a)}},[]);return(0,e.jsxs)(u.l0,{form:d,children:[(0,e.jsxs)("div",{className:"mb-5",children:[(0,e.jsx)(u.zx,{color:l!="settings"&&"gray-700",variant:l=="settings"?"light-primary":!1,activeColor:l=="settings"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("settings"),children:"\u8BBE\u7F6E"}),(0,e.jsx)(u.zx,{color:l!="validations"&&"gray-700",variant:l=="validations"?"light-primary":!1,activeColor:l=="validations"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("validations"),children:"\u9A8C\u8BC1"}),(0,e.jsx)(u.zx,{color:l!="advanced"&&"gray-700",variant:l=="advanced"?"light-primary":!1,activeColor:l=="advanced"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("advanced"),children:"\u9AD8\u7EA7"})]}),(0,e.jsxs)("div",{className:v()("modal-tabpane d-flex flex-column gap-6",{"d-none":l!="settings"}),children:[(0,e.jsx)(u.l0.Item,{required:!1,name:"name",label:"\u663E\u793A\u540D\u79F0",help:"\u914D\u7F6E\u6A21\u578B\u65F6\u663E\u793A\u7684\u540D\u79F0, \u901A\u5E38\u4E3A\u4E2D\u6587",rules:[{required:!0,message:"\u663E\u793A\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(u.II,{solid:!0})}),(0,e.jsx)(u.l0.Item,{required:!1,name:"code",label:"\u7F16\u7801",help:"\u7528\u4E8E\u901A\u8FC7 API \u8BBF\u95EE\u6B64\u6A21\u578B\u7684 ID, \u4E0D\u80FD\u4E3A\u4E2D\u6587",rules:[{required:!0,message:"\u7F16\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(u.II,{solid:!0})}),(0,e.jsx)(u.l0.Item,{name:"description",label:"\u63CF\u8FF0",help:"\u4E3A\u5185\u5BB9\u7F16\u8F91\u8005\u548C API \u7528\u6237\u663E\u793A\u63D0\u793A",requiredMark:"optional",children:(0,e.jsx)(u.II.TextArea,{solid:!0,autoSize:{maxRows:4,minRows:2}})}),(0,e.jsxs)("div",{className:"field-options",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u5B57\u6BB5\u9009\u9879"}),(0,e.jsxs)("div",{className:"field-options__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"useTitleField",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5728\u5173\u7CFB\u4E2D\u663E\u793A\u6B64\u5B57\u6BB5\u7684\u503C\u800C\u4E0D\u662F ID"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u7528\u4F5C\u6807\u9898\u5B57\u6BB5"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"allowMultipleValues",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5B58\u50A8\u503C\u5217\u8868\u800C\u4E0D\u662F\u5355\u4E2A\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5141\u8BB8\u591A\u4E2A\u503C"})})]})]})]}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":l!="validations"}),children:(0,e.jsx)("div",{className:"field-validations",children:(0,e.jsxs)("div",{className:"field-validations__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5982\u679C\u6B64\u5B57\u6BB5\u4E3A\u7A7A\uFF0C\u5219\u963B\u6B62\u4FDD\u5B58\u6761\u76EE"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5B57\u6BB5\u4E3A\u5FC5\u586B\u9879"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"unique",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u8BE5\u5B57\u6BB5\u7684\u591A\u4E2A\u6761\u76EE\u4E0D\u80FD\u5177\u6709\u76F8\u540C\u7684\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5C06\u5B57\u6BB5\u8BBE\u7F6E\u4E3A\u552F\u4E00"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"limitCharacterCount",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u6307\u5B9A\u6700\u5C0F\u548C/\u6216\u6700\u5927\u5141\u8BB8\u7684\u5B57\u7B26\u6570"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u9650\u5236\u5B57\u7B26\u6570"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"pattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4EC5\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF08\u4F8B\u5982\u7535\u5B50\u90AE\u4EF6\u3001URL\uFF09"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"restrictPattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4E0D\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})})]})})}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":l!="advanced"}),children:(0,e.jsxs)("div",{className:"field-advanced",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u521D\u59CB\u5316"}),(0,e.jsx)("div",{className:"field-advanced__list d-flex flex-column",children:(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4F7F\u7528\u6B64\u503C\u9884\u586B\u5145\u8868\u5355\u8F93\u5165"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u8BBE\u7F6E\u521D\u59CB\u503C"})})}),(0,e.jsxs)("div",{className:"field-advanced",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u53EF\u89C1\u6027"}),(0,e.jsx)("div",{className:"field-advanced__list d-flex flex-column",children:(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4F7F\u7528\u6B64\u503C\u9884\u586B\u5145\u8868\u5355\u8F93\u5165"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u8BBE\u7F6E\u521D\u59CB\u503C"})})})]})]})})]})}var Pe=pe;function ne(i){var d=i.form,t=i.model,s=i.mode,l=i.data,o=(0,c.useState)("settings"),n=(0,E.Z)(o,2),a=n[0],h=n[1],r=(0,c.useCallback)(function(p){return function(){h(p)}},[]),B=L(d,s);return(0,e.jsxs)(u.l0,{form:d,onValuesChange:B,children:[(0,e.jsxs)("div",{className:"mb-5",children:[(0,e.jsx)(u.zx,{color:a!="settings"&&"gray-700",variant:a=="settings"?"light-primary":!1,activeColor:a=="settings"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("settings"),children:"\u8BBE\u7F6E"}),(0,e.jsx)(u.zx,{color:a!="validations"&&"gray-700",variant:a=="validations"?"light-primary":!1,activeColor:a=="validations"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("validations"),children:"\u9A8C\u8BC1"}),(0,e.jsx)(u.zx,{color:a!="advanced"&&"gray-700",variant:a=="advanced"?"light-primary":!1,activeColor:a=="advanced"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("advanced"),children:"\u9AD8\u7EA7"})]}),(0,e.jsxs)("div",{className:v()("modal-tabpane d-flex flex-column gap-6",{"d-none":a!="settings"}),children:[(0,e.jsx)(T,{model:t,mode:s,data:l}),(0,e.jsx)(P,{isTitle:!1,model:t,mode:s,data:l})]}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":a!="validations"}),children:(0,e.jsx)("div",{className:"field-validations",children:(0,e.jsxs)("div",{className:"field-validations__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5982\u679C\u6B64\u5B57\u6BB5\u4E3A\u7A7A\uFF0C\u5219\u963B\u6B62\u4FDD\u5B58\u6761\u76EE"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5B57\u6BB5\u4E3A\u5FC5\u586B\u9879"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"unique",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u8BE5\u5B57\u6BB5\u7684\u591A\u4E2A\u6761\u76EE\u4E0D\u80FD\u5177\u6709\u76F8\u540C\u7684\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5C06\u5B57\u6BB5\u8BBE\u7F6E\u4E3A\u552F\u4E00"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"limitCharacterCount",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u6307\u5B9A\u6700\u5C0F\u548C/\u6216\u6700\u5927\u5141\u8BB8\u7684\u5B57\u7B26\u6570"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u9650\u5236\u5B57\u7B26\u6570"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"pattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4EC5\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF08\u4F8B\u5982\u7535\u5B50\u90AE\u4EF6\u3001URL\uFF09"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"restrictPattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4E0D\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})})]})})}),(0,e.jsx)("div",{className:v()("modal-tabpane  d-flex flex-column gap-6",{"d-none":a!="advanced"}),children:(0,e.jsx)(Z,{model:t,mode:s,data:l})})]})}var je=ne;function Te(i){var d=i.form,t=i.model,s=i.mode,l=i.data,o=(0,c.useState)("settings"),n=(0,E.Z)(o,2),a=n[0],h=n[1],r=(0,c.useCallback)(function(p){return function(){h(p)}},[]),B=L(d,s);return(0,e.jsxs)(u.l0,{form:d,onValuesChange:B,children:[(0,e.jsxs)("div",{className:"mb-5",children:[(0,e.jsx)(u.zx,{color:a!="settings"&&"gray-700",variant:a=="settings"?"light-primary":!1,activeColor:a=="settings"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("settings"),children:"\u8BBE\u7F6E"}),(0,e.jsx)(u.zx,{color:a!="validations"&&"gray-700",variant:a=="validations"?"light-primary":!1,activeColor:a=="validations"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("validations"),children:"\u9A8C\u8BC1"}),(0,e.jsx)(u.zx,{color:a!="advanced"&&"gray-700",variant:a=="advanced"?"light-primary":!1,activeColor:a=="advanced"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("advanced"),children:"\u9AD8\u7EA7"})]}),(0,e.jsxs)("div",{className:v()("modal-tabpane d-flex flex-column gap-6",{"d-none":a!="settings"}),children:[(0,e.jsx)(T,{model:t,mode:s,data:l}),(0,e.jsx)(P,{isTitle:!1,model:t,mode:s,data:l})]}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":a!="validations"}),children:(0,e.jsx)("div",{className:"field-validations",children:(0,e.jsxs)("div",{className:"field-validations__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5982\u679C\u6B64\u5B57\u6BB5\u4E3A\u7A7A\uFF0C\u5219\u963B\u6B62\u4FDD\u5B58\u6761\u76EE"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5B57\u6BB5\u4E3A\u5FC5\u586B\u9879"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"unique",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u8BE5\u5B57\u6BB5\u7684\u591A\u4E2A\u6761\u76EE\u4E0D\u80FD\u5177\u6709\u76F8\u540C\u7684\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5C06\u5B57\u6BB5\u8BBE\u7F6E\u4E3A\u552F\u4E00"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"limitCharacterCount",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u6307\u5B9A\u6700\u5C0F\u548C/\u6216\u6700\u5927\u5141\u8BB8\u7684\u5B57\u7B26\u6570"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u9650\u5236\u5B57\u7B26\u6570"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"pattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4EC5\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF08\u4F8B\u5982\u7535\u5B50\u90AE\u4EF6\u3001URL\uFF09"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"restrictPattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4E0D\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})})]})})}),(0,e.jsx)("div",{className:v()("modal-tabpane  d-flex flex-column gap-6",{"d-none":a!="advanced"}),children:(0,e.jsx)(Z,{model:t,mode:s,data:l})})]})}var G=Te;function Ee(i){var d=i.form,t=(0,c.useState)("settings"),s=(0,E.Z)(t,2),l=s[0],o=s[1],n=(0,c.useCallback)(function(a){return function(){o(a)}},[]);return(0,e.jsxs)(u.l0,{form:d,children:[(0,e.jsxs)("div",{className:"mb-5",children:[(0,e.jsx)(u.zx,{color:l!="settings"&&"gray-700",variant:l=="settings"?"light-primary":!1,activeColor:l=="settings"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("settings"),children:"\u8BBE\u7F6E"}),(0,e.jsx)(u.zx,{color:l!="validations"&&"gray-700",variant:l=="validations"?"light-primary":!1,activeColor:l=="validations"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("validations"),children:"\u9A8C\u8BC1"}),(0,e.jsx)(u.zx,{color:l!="advanced"&&"gray-700",variant:l=="advanced"?"light-primary":!1,activeColor:l=="advanced"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("advanced"),children:"\u9AD8\u7EA7"})]}),(0,e.jsxs)("div",{className:v()("modal-tabpane d-flex flex-column gap-6",{"d-none":l!="settings"}),children:[(0,e.jsx)(u.l0.Item,{required:!1,name:"name",label:"\u663E\u793A\u540D\u79F0",help:"\u914D\u7F6E\u6A21\u578B\u65F6\u663E\u793A\u7684\u540D\u79F0, \u901A\u5E38\u4E3A\u4E2D\u6587",rules:[{required:!0,message:"\u663E\u793A\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(u.II,{solid:!0})}),(0,e.jsx)(u.l0.Item,{required:!1,name:"code",label:"\u7F16\u7801",help:"\u7528\u4E8E\u901A\u8FC7 API \u8BBF\u95EE\u6B64\u6A21\u578B\u7684 ID, \u4E0D\u80FD\u4E3A\u4E2D\u6587",rules:[{required:!0,message:"\u7F16\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(u.II,{solid:!0})}),(0,e.jsx)(u.l0.Item,{name:"description",label:"\u63CF\u8FF0",help:"\u4E3A\u5185\u5BB9\u7F16\u8F91\u8005\u548C API \u7528\u6237\u663E\u793A\u63D0\u793A",requiredMark:"optional",children:(0,e.jsx)(u.II.TextArea,{solid:!0,autoSize:{maxRows:4,minRows:2}})}),(0,e.jsxs)("div",{className:"field-options",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u5B57\u6BB5\u9009\u9879"}),(0,e.jsxs)("div",{className:"field-options__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"useTitleField",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5728\u5173\u7CFB\u4E2D\u663E\u793A\u6B64\u5B57\u6BB5\u7684\u503C\u800C\u4E0D\u662F ID"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u7528\u4F5C\u6807\u9898\u5B57\u6BB5"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"allowMultipleValues",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5B58\u50A8\u503C\u5217\u8868\u800C\u4E0D\u662F\u5355\u4E2A\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5141\u8BB8\u591A\u4E2A\u503C"})})]})]})]}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":l!="validations"}),children:(0,e.jsx)("div",{className:"field-validations",children:(0,e.jsxs)("div",{className:"field-validations__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5982\u679C\u6B64\u5B57\u6BB5\u4E3A\u7A7A\uFF0C\u5219\u963B\u6B62\u4FDD\u5B58\u6761\u76EE"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5B57\u6BB5\u4E3A\u5FC5\u586B\u9879"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"unique",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u8BE5\u5B57\u6BB5\u7684\u591A\u4E2A\u6761\u76EE\u4E0D\u80FD\u5177\u6709\u76F8\u540C\u7684\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5C06\u5B57\u6BB5\u8BBE\u7F6E\u4E3A\u552F\u4E00"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"limitCharacterCount",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u6307\u5B9A\u6700\u5C0F\u548C/\u6216\u6700\u5927\u5141\u8BB8\u7684\u5B57\u7B26\u6570"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u9650\u5236\u5B57\u7B26\u6570"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"pattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4EC5\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF08\u4F8B\u5982\u7535\u5B50\u90AE\u4EF6\u3001URL\uFF09"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"restrictPattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4E0D\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})})]})})}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":l!="advanced"}),children:(0,e.jsxs)("div",{className:"field-advanced",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u521D\u59CB\u5316"}),(0,e.jsx)("div",{className:"field-advanced__list d-flex flex-column",children:(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4F7F\u7528\u6B64\u503C\u9884\u586B\u5145\u8868\u5355\u8F93\u5165"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u8BBE\u7F6E\u521D\u59CB\u503C"})})}),(0,e.jsxs)("div",{className:"field-advanced",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u53EF\u89C1\u6027"}),(0,e.jsx)("div",{className:"field-advanced__list d-flex flex-column",children:(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4F7F\u7528\u6B64\u503C\u9884\u586B\u5145\u8868\u5355\u8F93\u5165"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u8BBE\u7F6E\u521D\u59CB\u503C"})})})]})]})})]})}var Le=Ee;function de(i){var d=i.form,t=i.model,s=i.mode,l=i.data,o=(0,c.useState)("settings"),n=(0,E.Z)(o,2),a=n[0],h=n[1],r=(0,c.useCallback)(function(p){return function(){h(p)}},[]),B=L(d,s);return(0,e.jsxs)(u.l0,{form:d,onValuesChange:B,children:[(0,e.jsxs)("div",{className:"mb-5",children:[(0,e.jsx)(u.zx,{color:a!="settings"&&"gray-700",variant:a=="settings"?"light-primary":!1,activeColor:a=="settings"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("settings"),children:"\u8BBE\u7F6E"}),(0,e.jsx)(u.zx,{color:a!="validations"&&"gray-700",variant:a=="validations"?"light-primary":!1,activeColor:a=="validations"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("validations"),children:"\u9A8C\u8BC1"}),(0,e.jsx)(u.zx,{color:a!="advanced"&&"gray-700",variant:a=="advanced"?"light-primary":!1,activeColor:a=="advanced"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("advanced"),children:"\u9AD8\u7EA7"})]}),(0,e.jsxs)("div",{className:v()("modal-tabpane d-flex flex-column gap-6",{"d-none":a!="settings"}),children:[(0,e.jsx)(T,{model:t,mode:s,data:l}),(0,e.jsx)(P,{isTitle:!1,model:t,mode:s,data:l})]}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":a!="validations"}),children:(0,e.jsx)("div",{className:"field-validations",children:(0,e.jsxs)("div",{className:"field-validations__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5982\u679C\u6B64\u5B57\u6BB5\u4E3A\u7A7A\uFF0C\u5219\u963B\u6B62\u4FDD\u5B58\u6761\u76EE"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5B57\u6BB5\u4E3A\u5FC5\u586B\u9879"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"unique",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u8BE5\u5B57\u6BB5\u7684\u591A\u4E2A\u6761\u76EE\u4E0D\u80FD\u5177\u6709\u76F8\u540C\u7684\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5C06\u5B57\u6BB5\u8BBE\u7F6E\u4E3A\u552F\u4E00"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"limitCharacterCount",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u6307\u5B9A\u6700\u5C0F\u548C/\u6216\u6700\u5927\u5141\u8BB8\u7684\u5B57\u7B26\u6570"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u9650\u5236\u5B57\u7B26\u6570"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"pattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4EC5\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF08\u4F8B\u5982\u7535\u5B50\u90AE\u4EF6\u3001URL\uFF09"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"restrictPattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4E0D\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})})]})})}),(0,e.jsx)("div",{className:v()("modal-tabpane  d-flex flex-column gap-6",{"d-none":a!="advanced"}),children:(0,e.jsx)(Z,{model:t,mode:s,data:l})})]})}var Ce=de;function Me(i){var d=i.form,t=i.model,s=i.mode,l=i.data,o=(0,c.useState)("settings"),n=(0,E.Z)(o,2),a=n[0],h=n[1],r=(0,c.useCallback)(function(p){return function(){h(p)}},[]),B=L(d,s);return(0,e.jsxs)(u.l0,{form:d,onValuesChange:B,children:[(0,e.jsxs)("div",{className:"mb-5",children:[(0,e.jsx)(u.zx,{color:a!="settings"&&"gray-700",variant:a=="settings"?"light-primary":!1,activeColor:a=="settings"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("settings"),children:"\u8BBE\u7F6E"}),(0,e.jsx)(u.zx,{color:a!="validations"&&"gray-700",variant:a=="validations"?"light-primary":!1,activeColor:a=="validations"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("validations"),children:"\u9A8C\u8BC1"}),(0,e.jsx)(u.zx,{color:a!="advanced"&&"gray-700",variant:a=="advanced"?"light-primary":!1,activeColor:a=="advanced"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("advanced"),children:"\u9AD8\u7EA7"})]}),(0,e.jsxs)("div",{className:v()("modal-tabpane d-flex flex-column gap-6",{"d-none":a!="settings"}),children:[(0,e.jsx)(T,{model:t,mode:s,data:l}),(0,e.jsx)(P,{isTitle:!1,model:t,mode:s,data:l})]}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":a!="validations"}),children:(0,e.jsx)("div",{className:"field-validations",children:(0,e.jsxs)("div",{className:"field-validations__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5982\u679C\u6B64\u5B57\u6BB5\u4E3A\u7A7A\uFF0C\u5219\u963B\u6B62\u4FDD\u5B58\u6761\u76EE"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5B57\u6BB5\u4E3A\u5FC5\u586B\u9879"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"unique",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u8BE5\u5B57\u6BB5\u7684\u591A\u4E2A\u6761\u76EE\u4E0D\u80FD\u5177\u6709\u76F8\u540C\u7684\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5C06\u5B57\u6BB5\u8BBE\u7F6E\u4E3A\u552F\u4E00"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"limitCharacterCount",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u6307\u5B9A\u6700\u5C0F\u548C/\u6216\u6700\u5927\u5141\u8BB8\u7684\u5B57\u7B26\u6570"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u9650\u5236\u5B57\u7B26\u6570"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"pattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4EC5\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF08\u4F8B\u5982\u7535\u5B50\u90AE\u4EF6\u3001URL\uFF09"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"restrictPattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4E0D\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})})]})})}),(0,e.jsx)("div",{className:v()("modal-tabpane  d-flex flex-column gap-6",{"d-none":a!="advanced"}),children:(0,e.jsx)(Z,{model:t,mode:s,data:l})})]})}var te=Me;function we(i){var d=i.form,t=(0,c.useState)("settings"),s=(0,E.Z)(t,2),l=s[0],o=s[1],n=(0,c.useCallback)(function(a){return function(){o(a)}},[]);return(0,e.jsxs)(u.l0,{form:d,children:[(0,e.jsxs)("div",{className:"mb-5",children:[(0,e.jsx)(u.zx,{color:l!="settings"&&"gray-700",variant:l=="settings"?"light-primary":!1,activeColor:l=="settings"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("settings"),children:"\u8BBE\u7F6E"}),(0,e.jsx)(u.zx,{color:l!="validations"&&"gray-700",variant:l=="validations"?"light-primary":!1,activeColor:l=="validations"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("validations"),children:"\u9A8C\u8BC1"}),(0,e.jsx)(u.zx,{color:l!="advanced"&&"gray-700",variant:l=="advanced"?"light-primary":!1,activeColor:l=="advanced"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("advanced"),children:"\u9AD8\u7EA7"})]}),(0,e.jsxs)("div",{className:v()("modal-tabpane d-flex flex-column gap-6",{"d-none":l!="settings"}),children:[(0,e.jsx)(u.l0.Item,{required:!1,name:"name",label:"\u663E\u793A\u540D\u79F0",help:"\u914D\u7F6E\u6A21\u578B\u65F6\u663E\u793A\u7684\u540D\u79F0, \u901A\u5E38\u4E3A\u4E2D\u6587",rules:[{required:!0,message:"\u663E\u793A\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(u.II,{solid:!0})}),(0,e.jsx)(u.l0.Item,{required:!1,name:"code",label:"\u7F16\u7801",help:"\u7528\u4E8E\u901A\u8FC7 API \u8BBF\u95EE\u6B64\u6A21\u578B\u7684 ID, \u4E0D\u80FD\u4E3A\u4E2D\u6587",rules:[{required:!0,message:"\u7F16\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(u.II,{solid:!0})}),(0,e.jsx)(u.l0.Item,{name:"description",label:"\u63CF\u8FF0",help:"\u4E3A\u5185\u5BB9\u7F16\u8F91\u8005\u548C API \u7528\u6237\u663E\u793A\u63D0\u793A",requiredMark:"optional",children:(0,e.jsx)(u.II.TextArea,{solid:!0,autoSize:{maxRows:4,minRows:2}})}),(0,e.jsxs)("div",{className:"field-options",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u5B57\u6BB5\u9009\u9879"}),(0,e.jsxs)("div",{className:"field-options__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"useTitleField",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5728\u5173\u7CFB\u4E2D\u663E\u793A\u6B64\u5B57\u6BB5\u7684\u503C\u800C\u4E0D\u662F ID"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u7528\u4F5C\u6807\u9898\u5B57\u6BB5"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"allowMultipleValues",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5B58\u50A8\u503C\u5217\u8868\u800C\u4E0D\u662F\u5355\u4E2A\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5141\u8BB8\u591A\u4E2A\u503C"})})]})]})]}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":l!="validations"}),children:(0,e.jsx)("div",{className:"field-validations",children:(0,e.jsxs)("div",{className:"field-validations__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5982\u679C\u6B64\u5B57\u6BB5\u4E3A\u7A7A\uFF0C\u5219\u963B\u6B62\u4FDD\u5B58\u6761\u76EE"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5B57\u6BB5\u4E3A\u5FC5\u586B\u9879"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"unique",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u8BE5\u5B57\u6BB5\u7684\u591A\u4E2A\u6761\u76EE\u4E0D\u80FD\u5177\u6709\u76F8\u540C\u7684\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5C06\u5B57\u6BB5\u8BBE\u7F6E\u4E3A\u552F\u4E00"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"limitCharacterCount",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u6307\u5B9A\u6700\u5C0F\u548C/\u6216\u6700\u5927\u5141\u8BB8\u7684\u5B57\u7B26\u6570"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u9650\u5236\u5B57\u7B26\u6570"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"pattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4EC5\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF08\u4F8B\u5982\u7535\u5B50\u90AE\u4EF6\u3001URL\uFF09"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"restrictPattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4E0D\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})})]})})}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":l!="advanced"}),children:(0,e.jsxs)("div",{className:"field-advanced",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u521D\u59CB\u5316"}),(0,e.jsx)("div",{className:"field-advanced__list d-flex flex-column",children:(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4F7F\u7528\u6B64\u503C\u9884\u586B\u5145\u8868\u5355\u8F93\u5165"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u8BBE\u7F6E\u521D\u59CB\u503C"})})}),(0,e.jsxs)("div",{className:"field-advanced",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u53EF\u89C1\u6027"}),(0,e.jsx)("div",{className:"field-advanced__list d-flex flex-column",children:(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4F7F\u7528\u6B64\u503C\u9884\u586B\u5145\u8868\u5355\u8F93\u5165"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u8BBE\u7F6E\u521D\u59CB\u503C"})})})]})]})})]})}var Se=we;function ye(i){var d=i.form,t=(0,c.useState)("settings"),s=(0,E.Z)(t,2),l=s[0],o=s[1],n=(0,c.useCallback)(function(a){return function(){o(a)}},[]);return(0,e.jsxs)(u.l0,{form:d,children:[(0,e.jsxs)("div",{className:"mb-5",children:[(0,e.jsx)(u.zx,{color:l!="settings"&&"gray-700",variant:l=="settings"?"light-primary":!1,activeColor:l=="settings"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("settings"),children:"\u8BBE\u7F6E"}),(0,e.jsx)(u.zx,{color:l!="validations"&&"gray-700",variant:l=="validations"?"light-primary":!1,activeColor:l=="validations"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("validations"),children:"\u9A8C\u8BC1"}),(0,e.jsx)(u.zx,{color:l!="advanced"&&"gray-700",variant:l=="advanced"?"light-primary":!1,activeColor:l=="advanced"?"light-primary":"secondary",className:"me-4 px-5",onClick:n("advanced"),children:"\u9AD8\u7EA7"})]}),(0,e.jsxs)("div",{className:v()("modal-tabpane d-flex flex-column gap-6",{"d-none":l!="settings"}),children:[(0,e.jsx)(u.l0.Item,{required:!1,name:"name",label:"\u663E\u793A\u540D\u79F0",help:"\u914D\u7F6E\u6A21\u578B\u65F6\u663E\u793A\u7684\u540D\u79F0, \u901A\u5E38\u4E3A\u4E2D\u6587",rules:[{required:!0,message:"\u663E\u793A\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(u.II,{solid:!0})}),(0,e.jsx)(u.l0.Item,{required:!1,name:"code",label:"\u7F16\u7801",help:"\u7528\u4E8E\u901A\u8FC7 API \u8BBF\u95EE\u6B64\u6A21\u578B\u7684 ID, \u4E0D\u80FD\u4E3A\u4E2D\u6587",rules:[{required:!0,message:"\u7F16\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(u.II,{solid:!0})}),(0,e.jsx)(u.l0.Item,{name:"description",label:"\u63CF\u8FF0",help:"\u4E3A\u5185\u5BB9\u7F16\u8F91\u8005\u548C API \u7528\u6237\u663E\u793A\u63D0\u793A",requiredMark:"optional",children:(0,e.jsx)(u.II.TextArea,{solid:!0,autoSize:{maxRows:4,minRows:2}})}),(0,e.jsxs)("div",{className:"field-options",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u5B57\u6BB5\u9009\u9879"}),(0,e.jsxs)("div",{className:"field-options__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"useTitleField",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5728\u5173\u7CFB\u4E2D\u663E\u793A\u6B64\u5B57\u6BB5\u7684\u503C\u800C\u4E0D\u662F ID"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u7528\u4F5C\u6807\u9898\u5B57\u6BB5"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"allowMultipleValues",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5B58\u50A8\u503C\u5217\u8868\u800C\u4E0D\u662F\u5355\u4E2A\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5141\u8BB8\u591A\u4E2A\u503C"})})]})]})]}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":l!="validations"}),children:(0,e.jsx)("div",{className:"field-validations",children:(0,e.jsxs)("div",{className:"field-validations__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5982\u679C\u6B64\u5B57\u6BB5\u4E3A\u7A7A\uFF0C\u5219\u963B\u6B62\u4FDD\u5B58\u6761\u76EE"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5B57\u6BB5\u4E3A\u5FC5\u586B\u9879"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"unique",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u8BE5\u5B57\u6BB5\u7684\u591A\u4E2A\u6761\u76EE\u4E0D\u80FD\u5177\u6709\u76F8\u540C\u7684\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5C06\u5B57\u6BB5\u8BBE\u7F6E\u4E3A\u552F\u4E00"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"limitCharacterCount",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u6307\u5B9A\u6700\u5C0F\u548C/\u6216\u6700\u5927\u5141\u8BB8\u7684\u5B57\u7B26\u6570"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u9650\u5236\u5B57\u7B26\u6570"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"pattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4EC5\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF08\u4F8B\u5982\u7535\u5B50\u90AE\u4EF6\u3001URL\uFF09"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"restrictPattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4E0D\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})})]})})}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":l!="advanced"}),children:(0,e.jsxs)("div",{className:"field-advanced",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u521D\u59CB\u5316"}),(0,e.jsx)("div",{className:"field-advanced__list d-flex flex-column",children:(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4F7F\u7528\u6B64\u503C\u9884\u586B\u5145\u8868\u5355\u8F93\u5165"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u8BBE\u7F6E\u521D\u59CB\u503C"})})}),(0,e.jsxs)("div",{className:"field-advanced",children:[(0,e.jsx)("div",{className:"field-options__name text-dark fs-base fw-semibold",children:"\u53EF\u89C1\u6027"}),(0,e.jsx)("div",{className:"field-advanced__list d-flex flex-column",children:(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4F7F\u7528\u6B64\u503C\u9884\u586B\u5145\u8868\u5355\u8F93\u5165"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u8BBE\u7F6E\u521D\u59CB\u503C"})})})]})]})})]})}var Ae=ye;function ge(i){var d=i.form,t=i.model,s=i.mode,l=i.data,o=(0,c.useState)("settings"),n=(0,E.Z)(o,2),a=n[0],h=n[1],r=(0,c.useCallback)(function(p){return function(){h(p)}},[]),B=L(d,s);return(0,e.jsxs)(u.l0,{form:d,onValuesChange:B,children:[(0,e.jsxs)("div",{className:"mb-5",children:[(0,e.jsx)(u.zx,{color:a!="settings"&&"gray-700",variant:a=="settings"?"light-primary":!1,activeColor:a=="settings"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("settings"),children:"\u8BBE\u7F6E"}),(0,e.jsx)(u.zx,{color:a!="validations"&&"gray-700",variant:a=="validations"?"light-primary":!1,activeColor:a=="validations"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("validations"),children:"\u9A8C\u8BC1"}),(0,e.jsx)(u.zx,{color:a!="advanced"&&"gray-700",variant:a=="advanced"?"light-primary":!1,activeColor:a=="advanced"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("advanced"),children:"\u9AD8\u7EA7"})]}),(0,e.jsxs)("div",{className:v()("modal-tabpane d-flex flex-column gap-6",{"d-none":a!="settings"}),children:[(0,e.jsx)(T,{model:t,mode:s,data:l}),(0,e.jsx)(P,{model:t,mode:s,data:l})]}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":a!="validations"}),children:(0,e.jsx)("div",{className:"field-validations",children:(0,e.jsxs)("div",{className:"field-validations__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5982\u679C\u6B64\u5B57\u6BB5\u4E3A\u7A7A\uFF0C\u5219\u963B\u6B62\u4FDD\u5B58\u6761\u76EE"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5B57\u6BB5\u4E3A\u5FC5\u586B\u9879"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"unique",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u8BE5\u5B57\u6BB5\u7684\u591A\u4E2A\u6761\u76EE\u4E0D\u80FD\u5177\u6709\u76F8\u540C\u7684\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5C06\u5B57\u6BB5\u8BBE\u7F6E\u4E3A\u552F\u4E00"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"limitCharacterCount",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u6307\u5B9A\u6700\u5C0F\u548C/\u6216\u6700\u5927\u5141\u8BB8\u7684\u5B57\u7B26\u6570"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u9650\u5236\u5B57\u7B26\u6570"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"pattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4EC5\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF08\u4F8B\u5982\u7535\u5B50\u90AE\u4EF6\u3001URL\uFF09"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"restrictPattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4E0D\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})})]})})}),(0,e.jsx)("div",{className:v()("modal-tabpane d-flex flex-column gap-6",{"d-none":a!="advanced"}),children:(0,e.jsx)(Z,{model:t,mode:s,data:l})})]})}var be=ge;function Ne(i){var d=i.form,t=i.model,s=i.mode,l=i.data,o=(0,c.useState)("settings"),n=(0,E.Z)(o,2),a=n[0],h=n[1],r=(0,c.useCallback)(function(p){return function(){h(p)}},[]),B=L(d,s);return(0,e.jsxs)(u.l0,{form:d,onValuesChange:B,children:[(0,e.jsxs)("div",{className:"mb-5",children:[(0,e.jsx)(u.zx,{color:a!="settings"&&"gray-700",variant:a=="settings"?"light-primary":!1,activeColor:a=="settings"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("settings"),children:"\u8BBE\u7F6E"}),(0,e.jsx)(u.zx,{color:a!="validations"&&"gray-700",variant:a=="validations"?"light-primary":!1,activeColor:a=="validations"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("validations"),children:"\u9A8C\u8BC1"}),(0,e.jsx)(u.zx,{color:a!="advanced"&&"gray-700",variant:a=="advanced"?"light-primary":!1,activeColor:a=="advanced"?"light-primary":"secondary",className:"me-4 px-5",onClick:r("advanced"),children:"\u9AD8\u7EA7"})]}),(0,e.jsxs)("div",{className:v()("modal-tabpane d-flex flex-column gap-6",{"d-none":a!="settings"}),children:[(0,e.jsx)(T,{model:t,mode:s,data:l}),(0,e.jsx)(P,{isTitle:!1,model:t,mode:s,data:l})]}),(0,e.jsx)("div",{className:v()("modal-tabpane",{"d-none":a!="validations"}),children:(0,e.jsx)("div",{className:"field-validations",children:(0,e.jsxs)("div",{className:"field-validations__list d-flex flex-column",children:[(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"required",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u5982\u679C\u6B64\u5B57\u6BB5\u4E3A\u7A7A\uFF0C\u5219\u963B\u6B62\u4FDD\u5B58\u6761\u76EE"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5B57\u6BB5\u4E3A\u5FC5\u586B\u9879"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"unique",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u8BE5\u5B57\u6BB5\u7684\u591A\u4E2A\u6761\u76EE\u4E0D\u80FD\u5177\u6709\u76F8\u540C\u7684\u503C"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5C06\u5B57\u6BB5\u8BBE\u7F6E\u4E3A\u552F\u4E00"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"limitCharacterCount",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u6307\u5B9A\u6700\u5C0F\u548C/\u6216\u6700\u5927\u5141\u8BB8\u7684\u5B57\u7B26\u6570"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u9650\u5236\u5B57\u7B26\u6570"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"pattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4EC5\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF08\u4F8B\u5982\u7535\u5B50\u90AE\u4EF6\u3001URL\uFF09"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})}),(0,e.jsx)(u.l0.Item,{valuePropName:"checked",name:"restrictPattern",help:(0,e.jsx)("div",{style:{marginLeft:26},children:"\u4E0D\u63A5\u53D7\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F"}),children:(0,e.jsx)(u.XZ,{solid:!0,label:"\u5339\u914D\u7279\u5B9A\u6A21\u5F0F"})})]})})}),(0,e.jsx)("div",{className:v()("modal-tabpane  d-flex flex-column gap-6",{"d-none":a!="advanced"}),children:(0,e.jsx)(Z,{model:t,mode:s,data:l})})]})}var De=Ne,Ie={STRING:be,TEXT:De,INTEGER:te,FLOAT:Ce,BOOLEAN:Fe,DATE:je,DATE_TIME:G,JSON:Se,ASSET:ie,COLOR:Pe,LOCATION:Ae,ENUMERATION:Le},_e=["allowMultipleValues","required","unique"];function x(i){var d=i.family,t=i.fieldType,s=i.onChange,l=(0,c.useCallback)(function(o){var n=d.filedTypes.find(function(a){return a.id==o.key});s(n)},[d.filedTypes,s]);return(0,e.jsxs)("div",{className:v()("model-field-type-select",{only:d.filedTypes.length==1}),children:[(0,e.jsx)("div",{className:v()("model-field-type-icon","model-field-type__".concat(t.id)),children:(0,e.jsx)(w.JO,{name:"FieldType/".concat(t.id)})}),d.filedTypes.length>1&&(0,e.jsx)(u.Lt,{offset:[-32,0],placement:"bottomLeft",overlay:(0,e.jsx)(u.v2,{onSelect:l,dropdown:!0,rounded:!0,className:"menu-title-gray-700 model-field-type-select__change_types menu-state-primary fw-semibold fs-base w-150px",children:d.filedTypes.map(function(o){return(0,e.jsx)(u.v2.Item,{linkClassName:v()({active:o.id===t.id}),icon:(0,e.jsx)("div",{className:v()("model-field-type-icon","model-field-type__".concat(o.id)),children:(0,e.jsx)(w.JO,{name:"FieldType/".concat(o.id)})}),children:o.name},o.id)})}),children:(0,e.jsx)("button",{type:"button",className:"model-field-type-change",children:(0,e.jsx)("span",{className:"baukasten-button-inner",children:(0,e.jsx)("svg",{fill:"currentcolor",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",tabIndex:-1,children:(0,e.jsx)("path",{d:"M7 10l5 5 5-5z"})})})})})]})}function f(i){var d=i.mode,t=i.visible,s=i.model,l=i.onClose,o=i.fieldTypeFamilies,n=i.data,a=u.l0.useForm(),h=(0,c.useState)(i.fieldType),r=(0,E.Z)(h,2),B=r[0],p=r[1],b=(0,m.KX)({refetchQueries:function(){return[{query:m.ZO,variables:{id:s.id}}]}}),q=(0,E.Z)(b,2),S=q[0],X=q[1].loading,ke=(0,m.w4)({refetchQueries:function(){return[{query:m.ZO,variables:{id:s.id}}]}}),re=(0,E.Z)(ke,2),oe=re[0],W=re[1].loading,ce=(0,c.useMemo)(function(){return X||W},[X,W]),j=(0,c.useCallback)(function(){l(),a.resetFields()},[a,l]),C=(0,c.useCallback)((0,D.Z)((0,y.Z)().mark(function I(){var k,Q,N,$,z,J,me,M;return(0,y.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,a.validateFields();case 2:if(k=_.sent,Q=k.allowMultipleValues,N=Q===void 0?!1:Q,$=k.required,z=$===void 0?!1:$,J=k.unique,me=J===void 0?!1:J,M=(0,le.Z)(k,_e),M.databaseColumnName&&(M.databaseColumnName=M.databaseColumnName.toUpperCase()),_.prev=11,d!="new"){_.next=18;break}return _.next=15,S({variables:{modelId:s.id,input:(0,g.Z)((0,g.Z)({},M),{},{required:z,list:N,unique:me,type:B.id})}});case 15:u.FN.success((0,e.jsxs)(e.Fragment,{children:["\u5B57\u6BB5 \u201C",(0,e.jsx)("b",{children:M.name}),"\u201D \u65B0\u589E\u6210\u529F"]}),2e3,{placement:"bottom-end",progressBar:!0}),_.next=22;break;case 18:return console.log("update field:",{modelId:s.id,input:(0,g.Z)((0,g.Z)({},M),{},{required:z,list:N,unique:me,type:B.id})}),_.next=21,oe({variables:{modelId:s.id,fieldId:n==null?void 0:n.id,input:(0,g.Z)((0,g.Z)({},M),{},{required:z,list:N,unique:me,type:B.id})}});case 21:u.FN.success((0,e.jsxs)(e.Fragment,{children:["\u5B57\u6BB5 \u201C",(0,e.jsx)("b",{children:M.name}),"\u201D \u4FEE\u6539\u6210\u529F"]}),2e3,{placement:"bottom-end",progressBar:!0});case 22:j(),_.next=28;break;case 25:_.prev=25,_.t0=_.catch(11),u.FN.error(_.t0.message,2e3,{placement:"bottom-end",progressBar:!0});case 28:case"end":return _.stop()}},I,null,[[11,25]])})),[S,B,a,j,d,s.id,n==null?void 0:n.id,oe]);return(0,c.useEffect)(function(){p(i.fieldType)},[i.fieldType]),(0,c.useEffect)(function(){var I;n&&a.setFieldsValue((0,g.Z)((0,g.Z)({},n),{},{databaseColumnName:(I=n.metadata)===null||I===void 0?void 0:I.databaseColumnName}))},[a,n]),(0,e.jsxs)(u.u_,{confirmLoading:ce,width:592,centered:!0,maskClosable:!ce,visible:t,onCancel:j,onOk:C,closable:!1,dialogClassName:"model-field-modal",children:[(0,e.jsx)(u.u_.Header,{children:B&&(0,e.jsxs)("div",{className:"d-flex flex-row align-items-center flex-row-fluid",children:[(0,e.jsx)(x,{fieldType:B,onChange:p,family:o.find(function(I){return I.key==B.family})}),(0,e.jsx)("h4",{className:"flex-row-fluid",children:d==="edit"?n==null?void 0:n.name:"\u521B\u5EFA\u5B57\u6BB5"}),(0,e.jsx)("span",{className:"field-type-name",children:B.name})]})}),(0,e.jsx)(u.u_.Body,{children:!!(B!=null&&B.family)&&c.createElement(Ie[B.family],{form:a,mode:d,model:s,data:n})})]})}var Xe=f,Oe=["STRING","TEXT","INTEGER","FLOAT","BOOLEAN","DATE","DATE_TIME","JSON","ASSET","COLOR","LOCATION","ENUMERATION"];function qe(i){var d=i.model,t=(0,c.useState)({mode:"new",visible:!1,includeSystemFields:!1}),s=(0,E.Z)(t,2),l=s[0],o=s[1],n=(0,c.useCallback)(function(j){o(function(C){return(0,g.Z)((0,g.Z)({},C),{},{includeSystemFields:j})})},[]),a=(0,c.useMemo)(function(){return d.fields.reduce(function(j,C){return C.system?j.systemFields.push({id:C.id,data:C,type:"system"}):j.customFields.push({id:C.id,data:C,type:"custom"}),j},{systemFields:[],customFields:[]})},[d.fields]),h=a.systemFields,r=a.customFields,B=(0,c.useCallback)(function(j,C){console.log(j,C)},[]),p=(0,m._c)({fetchPolicy:"cache-and-network"}),b=p.data,q=(0,c.useMemo)(function(){if(!(b!=null&&b.filedTypes))return[];var j=Oe.map(function(N){return{key:N,name:N,filedTypes:[]}}),C=(0,O.Z)(b.filedTypes),I;try{var k=function(){var $=I.value,z=j.find(function(J){return J.key==$.family});if(!z)return console.warn("\u672A\u652F\u6301\u7684\u7C7B\u578B",$),"continue";z.filedTypes.push($)};for(C.s();!(I=C.n()).done;)var Q=k()}catch(N){C.e(N)}finally{C.f()}return j.filter(function(N){return N.filedTypes.length})},[b==null?void 0:b.filedTypes]),S=(0,c.useCallback)(function(j){o(function(C){return(0,g.Z)((0,g.Z)({},C),{},{mode:"new",visible:!0,fieldType:j})})},[]),X=(0,c.useCallback)(function(){o(function(j){return(0,g.Z)((0,g.Z)({},j),{},{data:void 0,visible:!1})})},[]),ke=(0,c.useCallback)(function(j){o(function(C){return(0,g.Z)((0,g.Z)({},C),{},{mode:"edit",data:j,visible:!0,fieldType:j.type})})},[]),re=(0,m.Nq)({refetchQueries:[{query:m.ZO,variables:{id:d.id},fetchPolicy:"network-only"}]}),oe=(0,E.Z)(re,1),W=oe[0],ce=(0,c.useCallback)(function(){var j=(0,D.Z)((0,y.Z)().mark(function C(I){var k;return(0,y.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,u.u_.confirm({title:"\u5220\u9664\u5B57\u6BB5",content:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("p",{className:"tip-confirm",children:["\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5B57\u6BB5 ",(0,e.jsx)("b",{children:I.name})]}),(0,e.jsx)("p",{children:"\u5220\u9664\u540E\uFF0C\u5B58\u50A8\u5728\u6B64\u5B57\u6BB5\u4E2D\u7684\u6570\u636E\u5C06\u4E22\u5931"})]}),okClassName:"btn-danger",okText:"\u5220\u9664"});case 2:if(k=N.sent,k.isConfirmed){N.next=5;break}return N.abrupt("return");case 5:return N.next=7,W({variables:{modelId:d.id,fieldId:I.id}});case 7:u.FN.success("\u5B57\u6BB5 \u201C".concat(I.name,"\u201D \u5DF2\u6210\u529F"),2e3,{placement:"bottom-end",progressBar:!0});case 8:case"end":return N.stop()}},C)}));return function(C){return j.apply(this,arguments)}}(),[d.id,W]);return(0,e.jsxs)("div",{className:"model-fields-management",children:[(0,e.jsxs)(V.E,{className:"model-fields-list custom-scrollbar",options:{scrollbars:{autoHide:"scroll"}},children:[(0,e.jsx)("div",{className:"model-fields-header",children:(0,e.jsx)(u.rs,{checked:l.includeSystemFields,onChange:n,label:"\u663E\u793A\u7CFB\u7EDF\u5B57\u6BB5"})}),(0,e.jsx)(K.ZP,{onChange:function(){},draggable:!1,className:v()("system-fields",{"d-none":!l.includeSystemFields}),tag:"ul",items:h,itemRender:U}),(0,e.jsx)(K.ZP,{onChange:B,tag:"ul",accept:["custom"],items:r,itemRender:c.createElement(U,{onClickEdit:ke,onDelete:ce}),preview:{render:(0,K.HG)(c.createElement(U),{scale:1}),axisLocked:!0}})]}),(0,e.jsx)(V.E,{className:"model-field-types custom-scrollbar",options:{scrollbars:{autoHide:"scroll"}},children:(0,e.jsxs)("div",{className:"model-field-types-container",children:[(0,e.jsx)("h3",{children:"\u6DFB\u52A0\u5B57\u6BB5"}),q.map(function(j){return(0,e.jsx)(ee,{name:j.name,children:j.filedTypes.map(function(C){return(0,e.jsx)(ae,{onClick:S,data:C},C.id)})},j.key)})]})}),(0,e.jsx)(Xe,{fieldTypeFamilies:q,fieldType:l.fieldType,visible:l.visible,data:l.data,mode:l.mode,model:d,onClose:X})]})}var $e=qe,ze=F(18071);function Re(i){var d=i.match.params,t=(0,m.c9)({variables:{id:d.mid},fetchPolicy:"cache-and-network"}),s=t.data,l=t.loading,o=s==null?void 0:s.model;return(0,e.jsx)(ze.vs,{className:"pages-model-view",header:!!o&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"h-40px d-flex align-items-center",children:(0,e.jsxs)("div",{className:"d-flex align-items-end",children:[(0,e.jsx)("h1",{className:"mb-0 me-2",children:o.name}),(0,e.jsxs)("span",{className:"text-muted",children:["#",o.code]})]})}),(0,e.jsx)("span",{className:"text-muted lh-base",children:o.description})]}),loading:l,footer:!1,children:(0,e.jsx)(u.Zb,{bodyClassName:"px-0",children:(0,e.jsx)(u.mQ,{renderContainer:!1,type:"line-tabs",children:(0,e.jsx)(u.mQ.TabPane,{tab:"\u5B57\u6BB5",children:o&&(0,e.jsx)($e,{model:o})},"fields")})})})}var Ke=Re}}]);
