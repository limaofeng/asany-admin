"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9046],{58301:function(j,u,t){var g=t(5574),O=t.n(g),y=t(62435),h=t(12845),o=t(38018),l=t(9566),m={total:0,current:1,pageSize:10,totalPages:0,hasNextPage:!1,hasPreviousPage:!1};function P(I,d){var M,c=(0,h.useNavigate)(),_=(0,l.Z)(),v=(0,y.useMemo)(function(){return(d==null?void 0:d.toVariables)&&(d==null?void 0:d.toVariables(_))||{}},[_,d]),T=(0,y.useMemo)(function(){if(!v.orderBy)return{order:"descend",field:"createdAt"};var e=v.orderBy.split("_"),i=O()(e,2),s=i[0],f=i[1];return{order:f==="desc"?"descend":"ascend",field:s}},[v.orderBy]),x=I({fetchPolicy:"cache-and-network",variables:v}),E=x.data,B=x.loading,D=x.previousData,U=x.refetch,r=(0,y.useMemo)(function(){return B?(D==null?void 0:D.result.pageInfo)||m:(E==null?void 0:E.result.pageInfo)||m},[E==null?void 0:E.result.pageInfo.total,B,D==null?void 0:D.result.pageInfo.total]),n=(0,y.useCallback)(function(e,i,s){var f=(d==null?void 0:d.toQuery)&&d.toQuery(v,e,i,s)||"";c(location.pathname+"?"+o.stringify(f),{replace:!0})},[history,location.pathname,(M=v.filter)===null||M===void 0?void 0:M.name_contains]),a=(E==null?void 0:E.result.edges.map(function(e){return e.node}))||[];return[a,{loading:B,pageInfo:r,sorter:T,onChange:n,refetch:U}]}u.Z=P},9566:function(j,u,t){var g=t(12845),O=t(38018);function y(){var h=(0,g.useLocation)();return O.parse(h.search)}u.Z=y},29046:function(j,u,t){t.r(u);var g=t(15009),O=t.n(g),y=t(99289),h=t.n(y),o=t(5574),l=t.n(o),m=t(62435),P=t(58301),I=t(73588),d=t(10811),M=t(91726),c=t(86074);function _(){var v=(0,P.Z)(M.ac,{toQuery:function(e,i,s,f){var C,b={};if((C=e.filter)!==null&&C!==void 0&&C.name_contains){var A;b.q=(A=e.filter)===null||A===void 0?void 0:A.name_contains}return f&&(b.orderBy=f.field+"_"+(f.order==="ascend"?"asc":"desc")),b.page=i.current,b},toVariables:function(e){return e.q&&(e.filter={name_contains:e.q},delete e.q),e}}),T=l()(v,2),x=T[0],E=T[1],B=E.loading,D=E.pageInfo,U=E.sorter,r=E.onChange,n=(0,m.useCallback)(function(a){return h()(O()().mark(function e(){return O()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:console.log("ids",a);case 1:case"end":return s.stop()}},e)}))},[]);return(0,c.jsx)(I.vs,{header:{title:"\u54C1\u724C\u5217\u8868"},children:!D.total&&!B?(0,c.jsx)(d.Card,{className:"mb-5 mb-xl-10",children:(0,c.jsx)(d.Empty,{title:"\u8FD8\u6CA1\u6709\u54C1\u724C",description:"\u9A6C\u4E0A\u6DFB\u52A0\u4E00\u4E2A\u54C1\u724C\u5427\uFF01",image:"/assets/media/illustrations/sigma-1/4.png",children:(0,c.jsx)(d.Button,{variant:"primary",children:"\u6DFB\u52A0\u54C1\u724C"})})}):(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.Card,{className:"mb-5 mb-xl-10",children:(0,c.jsx)(d.Card.Body,{children:(0,c.jsx)(d.BlockUI,{overlayClassName:"bg-white bg-opacity-25",loading:B,children:(0,c.jsx)(d.Table,{hover:!0,rowKey:"id",rowSelection:{type:"checkbox",renderTitle:function(e){return(0,c.jsxs)(c.Fragment,{children:["\u5DF2\u9009\u4E2D",(0,c.jsx)("span",{className:"mx-2",children:e}),"\u4E2A\u54C1\u724C"]})},toolbar:function(e){return(0,c.jsx)("div",{children:(0,c.jsx)(d.Button,{color:"success",onClick:n(e),variant:!1,children:"\u6279\u91CF\u5220\u9664"})})}},noRowsRenderer:function(){return(0,c.jsx)(d.Empty,{description:"\u5217\u8868\u6570\u636E\u4E3A\u7A7A",image:"/assets/media/illustrations/sigma-1/5.png"})},columns:[{key:"id",title:"\u7F16\u7801",sorter:!0,sortOrder:U.field==="id"?U.order:void 0,width:180},{key:"name",title:"\u54C1\u724C\u540D\u79F0",sorter:!0,sortOrder:U.field==="name"?U.order:void 0},{key:"createdAt",title:"\u521B\u5EFA\u65F6\u95F4",width:120}],pagination:D,onChange:r,dataSource:x})})})})})})}u.default=_},38018:function(j,u,t){var g=t(5574).default,O=t(64599).default,y=t(52677).default,h=t(19632).default,o=t(62072),l=t(44020),m=t(13615),P=t(92806),I=function(n){return n==null};function d(r){switch(r.arrayFormat){case"index":return function(n){return function(a,e){var i=a.length;return e===void 0||r.skipNull&&e===null||r.skipEmptyString&&e===""?a:e===null?[].concat(h(a),[[_(n,r),"[",i,"]"].join("")]):[].concat(h(a),[[_(n,r),"[",_(i,r),"]=",_(e,r)].join("")])}};case"bracket":return function(n){return function(a,e){return e===void 0||r.skipNull&&e===null||r.skipEmptyString&&e===""?a:e===null?[].concat(h(a),[[_(n,r),"[]"].join("")]):[].concat(h(a),[[_(n,r),"[]=",_(e,r)].join("")])}};case"comma":case"separator":return function(n){return function(a,e){return e==null||e.length===0?a:a.length===0?[[_(n,r),"=",_(e,r)].join("")]:[[a,_(e,r)].join(r.arrayFormatSeparator)]}};default:return function(n){return function(a,e){return e===void 0||r.skipNull&&e===null||r.skipEmptyString&&e===""?a:e===null?[].concat(h(a),[_(n,r)]):[].concat(h(a),[[_(n,r),"=",_(e,r)].join("")])}}}}function M(r){var n;switch(r.arrayFormat){case"index":return function(a,e,i){if(n=/\[(\d*)\]$/.exec(a),a=a.replace(/\[\d*\]$/,""),!n){i[a]=e;return}i[a]===void 0&&(i[a]={}),i[a][n[1]]=e};case"bracket":return function(a,e,i){if(n=/(\[\])$/.exec(a),a=a.replace(/\[\]$/,""),!n){i[a]=e;return}if(i[a]===void 0){i[a]=[e];return}i[a]=[].concat(i[a],e)};case"comma":case"separator":return function(a,e,i){var s=typeof e=="string"&&e.includes(r.arrayFormatSeparator),f=typeof e=="string"&&!s&&v(e,r).includes(r.arrayFormatSeparator);e=f?v(e,r):e;var C=s||f?e.split(r.arrayFormatSeparator).map(function(b){return v(b,r)}):e===null?e:v(e,r);i[a]=C};default:return function(a,e,i){if(i[a]===void 0){i[a]=e;return}i[a]=[].concat(i[a],e)}}}function c(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function _(r,n){return n.encode?n.strict?o(r):encodeURIComponent(r):r}function v(r,n){return n.decode?l(r):r}function T(r){return Array.isArray(r)?r.sort():y(r)==="object"?T(Object.keys(r)).sort(function(n,a){return Number(n)-Number(a)}).map(function(n){return r[n]}):r}function x(r){var n=r.indexOf("#");return n!==-1&&(r=r.slice(0,n)),r}function E(r){var n="",a=r.indexOf("#");return a!==-1&&(n=r.slice(a)),n}function B(r){r=x(r);var n=r.indexOf("?");return n===-1?"":r.slice(n+1)}function D(r,n){return n.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):n.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function U(r,n){n=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},n),c(n.arrayFormatSeparator);var a=M(n),e=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return e;var i=O(r.split("&")),s;try{for(i.s();!(s=i.n()).done;){var f=s.value;if(f!==""){var C=m(n.decode?f.replace(/\+/g," "):f,"="),b=g(C,2),A=b[0],F=b[1];F=F===void 0?null:["comma","separator"].includes(n.arrayFormat)?F:v(F,n),a(v(A,n),F,e)}}}catch(L){i.e(L)}finally{i.f()}for(var S=0,W=Object.keys(e);S<W.length;S++){var w=W[S],R=e[w];if(y(R)==="object"&&R!==null)for(var K=0,$=Object.keys(R);K<$.length;K++){var Q=$[K];R[Q]=D(R[Q],n)}else e[w]=D(R,n)}return n.sort===!1?e:(n.sort===!0?Object.keys(e).sort():Object.keys(e).sort(n.sort)).reduce(function(L,N){var p=e[N];return p&&y(p)==="object"&&!Array.isArray(p)?L[N]=T(p):L[N]=p,L},Object.create(null))}u.extract=B,u.parse=U,u.stringify=function(r,n){if(!r)return"";n=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},n),c(n.arrayFormatSeparator);for(var a=function(F){return n.skipNull&&I(r[F])||n.skipEmptyString&&r[F]===""},e=d(n),i={},s=0,f=Object.keys(r);s<f.length;s++){var C=f[s];a(C)||(i[C]=r[C])}var b=Object.keys(i);return n.sort!==!1&&b.sort(n.sort),b.map(function(A){var F=r[A];return F===void 0?"":F===null?_(A,n):Array.isArray(F)?F.reduce(e(A),[]).join("&"):_(A,n)+"="+_(F,n)}).filter(function(A){return A.length>0}).join("&")},u.parseUrl=function(r,n){n=Object.assign({decode:!0},n);var a=m(r,"#"),e=g(a,2),i=e[0],s=e[1];return Object.assign({url:i.split("?")[0]||"",query:U(B(r),n)},n&&n.parseFragmentIdentifier&&s?{fragmentIdentifier:v(s,n)}:{})},u.stringifyUrl=function(r,n){n=Object.assign({encode:!0,strict:!0},n);var a=x(r.url).split("?")[0]||"",e=u.extract(r.url),i=u.parse(e,{sort:!1}),s=Object.assign(i,r.query),f=u.stringify(s,n);f&&(f="?".concat(f));var C=E(r.url);return r.fragmentIdentifier&&(C="#".concat(_(r.fragmentIdentifier,n))),"".concat(a).concat(f).concat(C)},u.pick=function(r,n,a){a=Object.assign({parseFragmentIdentifier:!0},a);var e=u.parseUrl(r,a),i=e.url,s=e.query,f=e.fragmentIdentifier;return u.stringifyUrl({url:i,query:P(s,n),fragmentIdentifier:f},a)},u.exclude=function(r,n,a){var e=Array.isArray(n)?function(i){return!n.includes(i)}:function(i,s){return!n(i,s)};return u.pick(r,e,a)}},13615:function(j){j.exports=function(u,t){if(!(typeof u=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[u];var g=u.indexOf(t);return g===-1?[u]:[u.slice(0,g),u.slice(g+t.length)]}},62072:function(j){j.exports=function(u){return encodeURIComponent(u).replace(/[!'()*]/g,function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())})}},44020:function(j){var u="%[a-f0-9]{2}",t=new RegExp("("+u+")|([^%]+?)","gi"),g=new RegExp("("+u+")+","gi");function O(o,l){try{return[decodeURIComponent(o.join(""))]}catch(I){}if(o.length===1)return o;l=l||1;var m=o.slice(0,l),P=o.slice(l);return Array.prototype.concat.call([],O(m),O(P))}function y(o){try{return decodeURIComponent(o)}catch(P){for(var l=o.match(t)||[],m=1;m<l.length;m++)o=O(l,m).join(""),l=o.match(t)||[];return o}}function h(o){for(var l={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},m=g.exec(o);m;){try{l[m[0]]=decodeURIComponent(m[0])}catch(c){var P=y(m[0]);P!==m[0]&&(l[m[0]]=P)}m=g.exec(o)}l["%C2"]="\uFFFD";for(var I=Object.keys(l),d=0;d<I.length;d++){var M=I[d];o=o.replace(new RegExp(M,"g"),l[M])}return o}j.exports=function(o){if(typeof o!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof o+"`");try{return o=o.replace(/\+/g," "),decodeURIComponent(o)}catch(l){return h(o)}}},92806:function(j){j.exports=function(u,t){for(var g={},O=Object.keys(u),y=Array.isArray(t),h=0;h<O.length;h++){var o=O[h],l=u[o];(y?t.indexOf(o)!==-1:t(o,l,u))&&(g[o]=l)}return g}}}]);
