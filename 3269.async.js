"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3269,1201],{51253:function($,C,e){e.d(C,{GP:function(){return y.Z},Hk:function(){return H},xx:function(){return T.x}});var z=e(74958),y=e(5166),T=e(19260),l=e(68400),u=e.n(l),h=e(62435),j=e(93967),b=e.n(j),o=e(94589),B=e(97857),r=e.n(B),I=e(46027),P=e(42687),O=e(10811),d=e(5574),x=e.n(d),a=e(96486),n=e(86074),i={aside:{minimize:!1,width:280}},c=h.createContext({state:i,dispatch:function(){}}),g=function(t){return t.AsideToggle="ASIDE_TOGGLE",t.AsideWidth="ASIDE_WIDTH",t}({});function M(t,m){switch(m.type){case"ASIDE_TOGGLE":return t.aside.minimize=!t.aside.minimize,r()({},t);case"ASIDE_WIDTH":return t.aside.width=m.payload,r()({},t);default:throw new Error}}var v=function(m){var p=(0,h.useReducer)(M,(0,a.cloneDeep)(i)),A=x()(p,2),E=A[0],N=A[1];return(0,n.jsx)(c.Provider,{value:{state:E,dispatch:N},children:m.children})},s=function(){return(0,h.useContext)(c)},D=e(65495);function f(t){var m=s(),p=m.dispatch,A=m.state.aside.minimize,E=(0,h.useCallback)(function(){p({type:g.AsideToggle})},[p]);return(0,n.jsx)(O.Button,{style:r()({marginBottom:"1.35rem",zIndex:105},t.style),onClick:E,activeColor:"primary",className:b()("micro-app-aside-toggle","btn-icon bg-body btn-color-gray-700 rounded-2 position-absolute translate-middle bottom-0 shadow-sm d-none d-lg-flex",t.className,{active:A}),children:(0,n.jsx)(I.JO,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})}function R(t){var m=t.className,p=t.header,A=t.children,E=t.collapsible,N=E===void 0?!0:E,W=t.width,L=W===void 0?280:W,U=(0,P.$Y)(),Y=s(),w=Y.dispatch;return(0,h.useEffect)(function(){U.aside.width(L+100),w({type:g.AsideWidth,payload:L})},[U.aside,w,L]),(0,n.jsxs)("div",{className:b()("app-aside aside",m),children:[(0,n.jsx)(D.Z,{children:(0,n.jsx)(y.Z,{header:p,resizeable:!0,className:"app-sidebar",children:A})}),N&&(0,n.jsx)(f,{className:"start-100 end-0"})]})}R.Toggle=f;var G=R,K,Z=o.ZP.div(K||(K=u()([`
  --root-aside-width: `,`;
  --met-aside-width: `,`;
`])),function(t){return t.minimize?"100px":"".concat(t.width,"px")},function(t){return t.minimize?"100px":"".concat(t.width,"px")});function F(t){var m=t.children,p=t.className,A=s(),E=A.state.aside,N=E.minimize,W=E.width,L=(0,h.useCallback)(function(U){U.preventDefault()},[]);return(0,n.jsx)(Z,{minimize:N,width:W,className:b()("micro-app-container page-full-content",p,{"aside-minimize":N}),onContextMenu:L,children:m})}function S(t){var m=t.children,p=t.className;return(0,n.jsx)(v,{children:(0,n.jsx)(F,{className:p,children:m})})}S.Sidebar=G;var H=S},42687:function($,C,e){e.d(C,{$Y:function(){return I},BK:function(){return O},aM:function(){return x}});var z=e(5574),y=e.n(z),T=e(97857),l=e.n(T),u=e(62435),h=e(86074),j=u.createContext({getState:function(){return{routes:[]}},subscribe:function(){},dispatch:function(){}}),b=function(n,i){return i?i.type==="ASIDE_MINIMIZE"?l()(l()({},n),{},{aside:l()(l()({},n.aside),{},{minimize:!!i.payload})}):i.type==="ASIDE_WIDTH"?l()(l()({},n),{},{aside:l()(l()({},n.aside),{},{width:i.payload})}):i.type==="ASIDE_COLLAPSIBLE"?l()(l()({},n),{},{aside:l()(l()({},n.aside),{},{collapsible:i.payload})}):n:n},o=function(n){return l()({},n)};function B(a){var n=(0,u.useReducer)(b,a,o),i=y()(n,2),c=i[0],g=i[1],M=(0,u.useState)([]),v=y()(M,1),s=v[0],D=function(H){return function(){var t=s.indexOf(H);t>-1&&s.splice(t,1)}},f=(0,u.useCallback)(function(S){return s.unshift(S),D(S)},[s]),R=(0,u.useCallback)(function(){s.forEach(function(S){return S()})},[s]),G={getState:function(){return c},dispatch:g,subscribe:f},K=(0,u.useState)(G),Z=y()(K,1),F=Z[0];return(0,u.useEffect)(function(){F.getState=function(){return c},R()},[c]),F}var r=function(n,i){return n===i};function I(){var a=(0,u.useContext)(j),n=(0,u.useRef)({aside:{get state(){return a.getState().aside},width:function(c){a.dispatch({type:"ASIDE_WIDTH",payload:c})},minimize:function(c){a.dispatch({type:"ASIDE_MINIMIZE",payload:c})},collapsible:function(c){a.dispatch({type:"ASIDE_COLLAPSIBLE",payload:c})}}});return n.current}function P(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,i=(0,u.useContext)(j),c=(0,u.useReducer)(function(f){return f+1},0),g=y()(c,2),M=g[1],v=(0,u.useRef)(),s=a(i.getState());function D(){var f=a(i.getState());n(f,v.current)||(v.current=f,M())}return(0,u.useEffect)(function(){return i.subscribe(D)},[]),s}function O(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;return P(a,n)}function d(){var a=useContext(j);return a.dispatch}function x(a){var n=a.children,i=a.state,c=B(i);return(0,u.useMemo)(function(){return(0,h.jsx)(j.Provider,{value:c,children:n})},[n,c])}},42141:function($,C,e){e.r(C),e.d(C,{default:function(){return O}});var z=e(5574),y=e.n(z),T=e(97857),l=e.n(T),u=e(62435),h=e(46027),j=e(1861),b=e(51253),o=e(10811),B=e(12708),r=e(86074);function I(d){return d.children&&d.children.length?(0,r.jsx)(o.Menu.SubMenu,{url:"/cms/categories/".concat(d.id,"/articles"),bullet:!0,icon:d.icon,title:d.name,children:(d.children||[]).map(I)},d.id):(0,r.jsx)(o.Menu.Item,{url:"/cms/categories/".concat(d.id,"/articles"),bullet:!0,icon:d.icon,children:d.name},d.id)}function P(d){var x=d.menuKey,a=(0,u.useMemo)(function(){return!d.categories||!d.categories.length?[]:(0,B.G_)(d.categories.map(function(s){return l()({},s)}),{idKey:"id",childrenKey:"children",pidKey:"parent.id",sort:function(D,f){return D.index-f.index}})},[d.categories]),n=(0,u.useState)(a.map(function(s){return s.id})),i=y()(n,2),c=i[0],g=i[1],M=(0,u.useCallback)(function(s){g(s)},[]);(0,u.useEffect)(function(){g(a.map(function(s){return s.id}))},[a.map(function(s){return s.id}).join(",")]);var v=(0,u.useMemo)(function(){switch(x.key){case"category":return x.params.cid;default:return x.key}},[x]);return console.log("selectedKey",v,x),(0,r.jsxs)(b.GP,{children:[(0,r.jsx)("div",{className:"mt-5 px-5 pt-5",children:(0,r.jsx)("h1",{className:"text-gray-800 fw-bold mb-6 mx-5",children:"\u5185\u5BB9\u7BA1\u7406"})}),(0,r.jsx)(j.E,{className:"custom-scrollbar flex-column-fluid px-10 mb-5",options:{scrollbars:{autoHide:"scroll"}},children:(0,r.jsxs)(o.Menu,{className:"cms-menu-sider menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 my-5 my-lg-0",openKeys:c,selectedKeys:v?[v]:[],onOpenChange:M,accordion:!1,selectable:"AllMenu",fit:!0,children:[(0,r.jsx)(o.Menu.Section,{children:"\u6211\u7684"}),(0,r.jsx)(o.Menu.Item,{url:"/cms/my/drafts",icon:"Duotune/art008",children:"\u8349\u7A3F\u7BB1"},"draft"),(0,r.jsx)(o.Menu.Item,{url:"/cms/my/published",icon:"Duotune/art006",children:"\u5DF2\u53D1\u5E03"},"published"),(0,r.jsxs)(o.Menu.Section,{className:"d-flex align-items-center",contentClassName:"w-100",sectionClassName:"w-100 d-flex align-items-center justify-content-between",children:[(0,r.jsxs)("span",{className:"menu-section text-muted text-uppercase fs-8 ls-1 flex-row-fluid",children:["\u4FE1\u606F\u680F\u76EE ",d.loading&&" - loading..."]}),(0,r.jsx)(o.Button,{icon:(0,r.jsx)(h.ZP,{style:{marginRight:".2rem"},name:"Duotune/arr087",className:""}),size:"sm",variant:"white",className:"py-1 px-3 me-n4",children:"\u65B0\u589E"})]}),a.map(I),(0,r.jsx)(o.Menu.Section,{children:"\u5176\u4ED6"}),(0,r.jsx)(o.Menu.Item,{icon:"Duotune/elc001",children:"\u5927\u56FE\u7BA1\u7406"},"banner"),(0,r.jsx)(o.Menu.Item,{url:"/cms/authors",icon:"Duotune/cod002",children:"\u4F5C\u8005"},"authors"),(0,r.jsx)(o.Menu.Item,{icon:"Duotune/art002",children:"\u6807\u7B7E"},"tags"),(0,r.jsx)(o.Menu.Section,{children:"\u5168\u5C40\u8BBE\u7F6E"}),(0,r.jsx)(o.Menu.Item,{icon:"Duotune/abs008",children:"\u8BBE\u7F6E"},"settings")]})})]})}var O=P}}]);
