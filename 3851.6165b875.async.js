(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[3851],{53851:function(Q,E,e){"use strict";e.r(E),e.d(E,{default:function(){return ye}});var h=e(2824),g=e(11849),b=e(93224),a=e(67294),m=e(14803),R=e(27754),P=e(22994),K=e(33201),s=e(12788),x=e(7020),f=e(8265),S=e(95901),N=e(28865),D=e(94184),B=e.n(D),r=e(42769),$=e(77104),C=e(65814),z=e(37334),n=e(85893);function W(t,o){var l=t.url,c=l===void 0?"/":l,v=t.logo,d=v===void 0?"/assets/media/logos/demo7.svg":v;return(0,n.jsx)("div",{ref:o,className:"aside-logo d-none d-lg-flex flex-column align-items-center flex-column-auto py-10",children:(0,n.jsx)("a",{href:c,children:(0,n.jsx)("img",{alt:"Logo",src:d,className:"h-30px"})})})}var T=a.forwardRef(W),w=T,O=e(48655),H=e(74200),k=e(74479),ne=e(36321),q=e(25496),te=e(23761),ae=a.forwardRef(function(t,o){var l,c=t.menus,v=t.activeKey,d=t.onSelect,p=(0,a.useState)(!1),j=(0,h.Z)(p,2),F=j[0],G=j[1],A=(0,a.useState)(!1),M=(0,h.Z)(A,2),I=M[0],Z=M[1],V=(0,te.o)(),y=V.data,Y=(0,C.ZC)("cn.asany.ui.admin.user.UserAccountMenu"),u=(0,C.ZC)("cn.asany.ui.admin.user.Notifications"),i=(0,a.useCallback)(function(){G(!1)},[]),L=(0,a.useCallback)(function(){Z(!1)},[]),J=function(ge){return function(){d(ge.id)}};return(0,n.jsxs)("div",{ref:o,className:"aside-footer d-flex flex-column align-items-center flex-column-auto",children:[c.map(function(U){return(0,n.jsx)("div",{className:"d-flex align-items-center mb-2",children:(0,n.jsx)(H.u,{title:U.name,placement:"right",children:(0,n.jsx)("div",{onClick:J(U),className:B()("btn btn-icon btn-active-color-primary btn-color-gray-400 btn-active-light",{active:v==U.id}),title:U.name,children:(0,n.jsx)(N.ZP,{name:U.icon,className:"svg-icon-2 svg-icon-lg-1"})})})},U.id)}),(0,n.jsx)("div",{className:"d-flex align-items-center mb-2",children:(0,n.jsx)("div",{className:"btn btn-icon btn-active-color-primary btn-color-gray-400 btn-active-light",children:(0,n.jsx)(k.Z,{placement:"top-start",zIndex:100,visible:I,onVisibleChange:Z,arrowProps:{style:{display:"none"}},overlayClassName:"overlay-zero-gap overlay-no-arrow overlay-no-border",content:(0,n.jsx)(u,{close:L,visible:I}),children:(0,n.jsx)(H.u,{title:"\u901A\u77E5",placement:"right",children:(0,n.jsx)(N.ZP,{name:"Duotune/gen007",className:"svg-icon-2 svg-icon-lg-1"})})})})}),(0,n.jsx)("div",{className:"d-flex align-items-center mb-10",children:(0,n.jsx)(k.Z,{placement:"top-start",zIndex:100,visible:F,onVisibleChange:G,arrowProps:{style:{display:"none"}},overlayClassName:"overlay-zero-gap overlay-no-arrow",content:(0,n.jsx)(Y,{close:i}),children:(0,n.jsx)(H.u,{title:"\u7528\u6237\u8D44\u6599",placement:"right",children:(0,n.jsx)(H.mN.Avatar,{size:40,src:(0,q.Fz)(y==null||(l=y.avatar)===null||l===void 0?void 0:l.id,{size:"300x300"}),className:"cursor-pointer",alt:y==null?void 0:y.name})})})})]})}),X=["/drive","/calendar","/contacts","/mail"];function _(t){var o=t.logo,l=t.menuRender,c=t.activeKey,v=t.onSelect,d=(0,a.useRef)(null),p=(0,a.useRef)(null),j=(0,a.useRef)(null),F=(0,a.useRef)(null);(0,ne.vO)(F,d,[p,j]);var G=(0,f.BK)(function(i){return i.aside.collapsible}),A=(0,f.BK)(function(i){return i.aside.minimize}),M=(0,f.BK)(function(i){return i.aside.menus||[]}),I=(0,f.$Y)(),Z=(0,a.useCallback)(function(){I.aside.minimize(!A)},[I,A]),V=(0,a.useCallback)(function(i){v(i)},[v]),y=(0,a.useMemo)(function(){return M.filter(function(i){return X.includes(i.path)}).filter(function(i){return!i.hideInMenu}).sort(function(i,L){return X.findIndex(function(J){return J==i.path})-X.findIndex(function(J){return J==L.path})})},[M]),Y=(0,a.useMemo)(function(){return M.filter(function(i){return!X.includes(i.path)}).filter(function(i){return!i.hideInMenu})},[M]),u=l==!1;return(0,n.jsxs)("div",{className:B()("aside",{"aside-extended":!A}),children:[(0,n.jsxs)("div",{className:"aside-primary d-flex flex-column align-items-lg-center flex-row-auto",children:[(0,n.jsx)(w,{ref:p,url:"/",logo:o}),(0,n.jsx)("div",{ref:d,className:"aside-nav d-flex flex-column align-items-center flex-column-fluid w-100 pt-5 pt-lg-0",children:(0,n.jsx)("div",{ref:F,className:"hover-scroll-y mb-10",children:(0,n.jsx)(r.Z,{onSelect:V,activeKey:c,className:"flex-column",as:"ul",children:Y.map(function(i){return(0,n.jsx)(r.Z.Item,{className:"mb-2",as:"li",children:(0,n.jsx)(H.u,{title:i.name,placement:"right",children:(0,n.jsx)(r.Z.Link,{eventKey:i.id,className:"btn btn-icon btn-active-color-primary btn-color-gray-400 btn-active-light",children:i.icon&&(0,n.jsx)(N.ZP,{name:i.icon,className:"svg-icon-2x"})})})},i.id)})})})}),(0,n.jsx)(ae,{ref:j,menus:y,onSelect:V,activeKey:c})]}),!u&&(0,n.jsx)(z.Z,{children:l}),!u&&G&&(0,n.jsx)($.Z,{style:{marginBottom:"1.35rem",zIndex:10},onClick:Z,className:B()("btn-icon bg-body btn-color-gray-700 rounded-2 btn-active-primary position-absolute translate-middle start-100 end-0 bottom-0 shadow-sm d-none d-lg-flex",{active:A}),children:(0,n.jsx)(N.ZP,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})]})}_.Workspace=O.Z;var re=_,oe=e(39981);function ie(t){var o=t.menu,l=t.component,c=(0,C.ZC)(l.template,l.blocks);return(0,n.jsx)(c,{menu:o})}var se=ie;function le(t){return t.component?(0,n.jsx)(se,{menu:t,component:t.component}):(0,n.jsx)(O.Z,{children:(0,n.jsx)(oe.Z,{title:t.name,menus:t.routes})})}var ue=le,ce=function(o){var l,c,v,d={};return o!=null&&o.hideFooter&&(d.footerRender=!1),(o==null?void 0:o.layout)==!1?(d.pure=!0,d):(o!=null&&(l=o.layout)!==null&&l!==void 0&&l.hideMenu&&(d.menuRender=!1),o!=null&&(c=o.layout)!==null&&c!==void 0&&c.hideFooter&&(d.footerRender=!1),o!=null&&(v=o.layout)!==null&&v!==void 0&&v.hideNav&&(d.headerRender=!1),d)},de=ce,ve=["children","pure","activeKey","onSelect","menuRender"],ee=!1;function me(t){var o=t.children,l=t.pure,c=t.activeKey,v=t.onSelect,d=t.menuRender,p=(0,b.Z)(t,ve);return l?o:(0,n.jsx)(he,(0,g.Z)((0,g.Z)({},p),{},{activeKey:c,onSelect:v,menuRender:d,children:o}))}var fe=s.ZP.div.withConfig({displayName:"Demo7__RootLayout",componentId:"sc-1mt24zd-0"})(["--root-aside-width:",";--met-aside-width:",";"],function(t){return t.minimize?"100px":"".concat(t.width,"px")},function(t){return t.minimize?"100px":"".concat(t.width,"px")});function he(t){var o=t.children,l=t.menuRender,c=t.activeKey,v=t.onSelect,d=(0,f.BK)(function(j){return j.aside.width}),p=(0,f.BK)(function(j){return j.aside.minimize});return(0,n.jsx)(fe,{width:d,minimize:p||l==!1,"data-kt-aside-minimize":p||l==!1?"on":"off",className:"theme-metronic header-fixed header-tablet-and-mobile-fixed aside-fixed aside-secondary-enabled",children:(0,n.jsxs)("div",{className:"d-flex flex-column flex-root",children:[(0,n.jsx)(P.Ix,{}),(0,n.jsxs)("div",{className:"page d-flex flex-row flex-column-fluid",children:[(0,n.jsx)(re,{menuRender:l,onSelect:v,activeKey:c}),o]})]})})}function xe(t){var o,l=t.children,c=t.location,v=t.history,d=(0,x.qD)(),p=d.menus,j=(0,a.useRef)({}),F=(0,a.useReducer)(function(u){return u+1},0),G=(0,h.Z)(F,2),A=G[1],M=(0,a.useMemo)(function(){return q.G_(p.map(function(u){return(0,g.Z)((0,g.Z)({},u),{},{key:u.id,routes:[]})}),{idKey:"id",childrenKey:"routes",pidKey:"parent.id",sort:function(i,L){return i.index-L.index}})},[p]),I=(0,a.useMemo)(function(){var u,i=(0,R.Un)((t==null||(u=t.route)===null||u===void 0?void 0:u.routes)||[],void 0,void 0,!0),L=i.menuData;return(0,R.nG)(c.pathname,L).pop()},[c==null?void 0:c.pathname,t==null||(o=t.route)===null||o===void 0?void 0:o.routes]),Z=(0,a.useMemo)(function(){return I?de(I):{}},[I]),V=(0,a.useCallback)(function(u){j.current.activeMenuKey=u;var i=M.find(function(L){return L.id==u});i.path?v.push(i.path):A()},[v,M]),y=(0,a.useMemo)(function(){var u=(0,R.nG)(c.pathname,M,!0);return u[0]},[c.pathname,M]);(0,a.useEffect)(function(){!y||j.current.activeMenuKey==y.id||(j.current.activeMenuKey=y.id,A())},[y]);var Y=(0,a.useMemo)(function(){if(Z.menuRender==!1)return!1;if(Z.menuRender)return Z.menuRender;var u=y;return!u||!u.component&&!(u.routes||[]).length?!1:ue(u)},[Z.menuRender,y]);return(0,n.jsx)(S.dI,{children:(0,n.jsxs)(f.aM,{state:{menus:M,routes:t.route.routes||[],aside:{menus:M,minimize:!1,pure:Z.pure,width:200}},children:[(0,n.jsx)(me,(0,g.Z)((0,g.Z)({},t),{},{activeKey:j.current.activeMenuKey,onSelect:V,menuRender:Y,pure:Z.pure,children:l})),ee,ee&&(0,n.jsx)(m.l,{keys:["control","shift","command","c"]})]})})}var ye=xe},37334:function(Q,E,e){"use strict";var h=e(67294),g=e(85893);function b(m){var R=m.children;return(0,g.jsx)("div",{className:"aside-secondary d-flex flex-row-fluid",children:R})}var a=h.memo(b);E.Z=a},48655:function(Q,E,e){"use strict";e.d(E,{Z:function(){return B}});var h=e(67294),g=e(94184),b=e.n(g),a=e(1861),m=e(8265),R=e(27754),P=e(51615),K=e(81010),s=e(85893);function x(r){if(r.type==="SECTION")return(0,s.jsx)(K.Z.Section,{title:r.name},r.id);if(r.type==="URL")return(0,s.jsx)(K.Z.Item,{bullet:!0,icon:r.icon,title:r.name,url:r.path},r.id);if(r.type==="SEPARATOR")return(0,s.jsx)(K.Z.Separator,{},r.id);if(r.type==="MENU")return(0,s.jsx)(K.Z.SubMenu,{bullet:!0,icon:r.icon,title:r.name,children:(r.routes||[]).map(x)},r.id);throw new Error("\u4E0D\u652F\u6301\u7684 MenuType"+r.type)}var f=[];function S(r){var $=r.menus,C=$===void 0?f:$,z=(0,P.TH)(),n=(0,h.useMemo)(function(){return(0,R.nG)(z.pathname,C,!0)},[C,z.pathname]),W=n.map(function(T){return T.key});return(0,s.jsx)(K.Z,{className:"menu-fit menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 px-6 my-5 my-lg-0",selectedKeys:W,children:C.filter(function(T){return!T.hideInMenu}).map(x)})}var N=S;function D(r){var $=r.className,C=r.width,z=C===void 0?280:C,n=r.children,W=r.collapsible,T=W===void 0?!0:W,w=r.header,O=(0,m.$Y)();return(0,h.useEffect)(function(){O.aside.width(z+100)},[O.aside,z]),(0,h.useEffect)(function(){O.aside.collapsible(T)},[O.aside,T]),(0,s.jsxs)("div",{className:b()("aside-workspace",$),children:[w,(0,s.jsx)(a.E,{className:"d-flex h-100 flex-column custom-scrollbar",options:{scrollbars:{autoHide:"scroll"}},children:n})]})}D.MenuBar=N;var B=D},39981:function(Q,E,e){"use strict";var h=e(67294),g=e(27754),b=e(51615),a=e(81010),m=e(85893);function R(s){if(s.type==="SECTION")return(0,m.jsx)(a.Z.Section,{title:s.name},s.id);if(s.type==="URL")return(0,m.jsx)(a.Z.Item,{bullet:!0,icon:s.icon,title:s.name,url:s.path},s.id);if(s.type==="SEPARATOR")return(0,m.jsx)(a.Z.Separator,{});if(s.type==="MENU")return(0,m.jsx)(a.Z.SubMenu,{bullet:!0,icon:s.icon,title:s.name,children:(s.routes||[]).map(R)},s.id);throw new Error("\u4E0D\u652F\u6301\u7684 MenuType"+s.type)}function P(s){var x=s.menus,f=s.title,S=(0,b.TH)(),N=(0,h.useMemo)(function(){return(0,g.nG)(S.pathname,x,!0)},[x,S.pathname]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"m-0",children:(0,m.jsx)("h1",{className:"text-gray-800 fw-bold mb-6 mx-5",children:f})}),(0,m.jsx)(a.Z,{className:"menu-fit menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 px-6 my-5 my-lg-0",selectedKeys:N.map(function(D){return D.key}),children:x.map(R)})]})}var K=h.memo(P);E.Z=K},23761:function(Q,E,e){"use strict";e.d(E,{o:function(){return b},a:function(){return s}});var h=e(7020);function g(){var x=(0,h.tT)("@@initialState"),f=x.initialState,S=x.loading,N=x.error;return{data:f==null?void 0:f.currentUser,loading:S,error:N}}var b=g,a=e(39428),m=e(3182),R=e(67294),P=e(69082);function K(){var x=(0,h.tT)("@@initialState"),f=x.loading,S=x.refresh,N=(0,R.useCallback)((0,m.Z)((0,a.Z)().mark(function D(){return(0,a.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,P.kS)();case 2:S();case 3:case"end":return r.stop()}},D)})),[S]);return[N,{loading:f}]}var s=K}}]);
