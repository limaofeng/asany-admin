"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2563],{86528:function(J,p,o){o.r(p),o.d(p,{default:function(){return R}});var D=o(19632),u=o.n(D),L=o(97857),e=o.n(L),z=o(5574),h=o.n(z),i=o(67294),m=o(96974),P=o(39711),g=o(12845),A=o(73588),E=o(88896),I=o(82471),S=["7z","arj","deb","pkg","rar","rpm","tar.gz","z","zip"],T=["fnt","fon","otf","ttf"],x=["ods","xls","xlsm","xlsx"],t={video:["3g2","3gp","avi","flv","h264","m4v","mkv","mov","mp4","mpg","mpeg","rm","swf","vob","wmv"],audio:["aif","cda","mid","mp3","mpa","ogg","wav","wma","wpl"],image:["ai","bmp","gif","jpeg","jpg","png","ps","psd","svg","tif","tiff"],document:["doc","docx","odt","pdf","rtf","tex","txt","wpd"].concat(x),spreadsheet:x,compressed:S,font:T},y=o(85893);function Q(){var X=(0,g.useParams)(),F=X.id,s=(0,m.TH)(),H=(0,P.lr)(),K=h()(H,1),N=K[0],f=(0,g.useModel)("cloud-drive.index",function(r){var v=r.state;return v.driveId}),W=(0,I.f4)(),j=h()(W,2),M=j[0],d=j[1].data;(0,i.useEffect)(function(){f&&M({variables:{id:f}})},[f,M]);var a=(0,i.useMemo)(function(){return d==null?void 0:d.cloudDrive},[d==null?void 0:d.cloudDrive]),c=N.get("q"),l=(0,i.useMemo)(function(){return s.pathname.startsWith("/drive/mime-types")?a==null?void 0:a.rootFolder:F||(a==null?void 0:a.rootFolder)},[F,a==null?void 0:a.rootFolder,s.pathname]),n=(0,i.useMemo)(function(){var r=(0,m.LX)("/drive/:type/:value",s.pathname),v=(0,m.LX)("/drive/:type",s.pathname),B=(r==null?void 0:r.params.type)||(v==null?void 0:v.params.type),G=r==null?void 0:r.params.value;return B==="mime-types"?G:"my-drive"},[s.pathname]),Z=(0,i.useMemo)(function(){var r={name_contains:c,isDirectory:!1,folder:{subfolders:!0,id:l}};switch(n){case"image":return e()(e()({},r),{},{extension_in:t.image});case"document":return e()(e()({},r),{},{extension_in:t.document});case"video":return e()(e()({},r),{},{extension_in:t.video});case"audio":return e()(e()({},r),{},{extension_in:t.audio});case"other":return e()(e()({},r),{},{extension_notIn:[].concat(u()(t.image),u()(t.audio),u()(t.video),u()(t.document))});default:return{name_contains:c,folder:{id:l}}}},[n,l,c]),C=(0,i.useMemo)(function(){if(a){var r=e()(e()({},a),{},{id:a.rootFolder,isRootFolder:!1});return n==="image"?e()(e()({},r),{},{name:"\u5168\u90E8\u56FE\u7247"}):n==="document"?e()(e()({},r),{},{name:"\u5168\u90E8\u6587\u6863"}):n==="video"?e()(e()({},r),{},{name:"\u5168\u90E8\u89C6\u9891"}):n==="audio"?e()(e()({},r),{},{name:"\u5168\u90E8\u97F3\u9891"}):n==="other"?e()(e()({},r),{},{name:"\u5176\u4ED6\u6587\u4EF6"}):e()(e()({},r),{},{isRootFolder:!0,name:"\u5168\u90E8\u6587\u4EF6"})}},[a,n]);return(0,y.jsx)(A.vs,{className:"app-drive-main",header:!1,footer:!1,children:C&&(0,y.jsx)(E.Z,{folder:l,where:Z,rootFolder:C},"list-files")})}var R=Q}}]);
