"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6008,267],{51253:function(G,j,e){e.d(j,{GP:function(){return A.Z},Hk:function(){return V},xx:function(){return u.x}});var L=e(74958),A=e(5166),u=e(19260),m=e(68400),f=e.n(m),n=e(67294),w=e(93967),t=e.n(w),z=e(94589),I=e(97857),v=e.n(I),E=e(46027),N=e(35908),x=e(42687),M=e(89717),D=e(5574),B=e.n(D),r=e(96486),s=e(85893),b={aside:{minimize:!1,width:280}},p=n.createContext({state:b,dispatch:function(){}}),y=function(a){return a.AsideToggle="ASIDE_TOGGLE",a.AsideWidth="ASIDE_WIDTH",a}({});function S(a,i){switch(i.type){case"ASIDE_TOGGLE":return a.aside.minimize=!a.aside.minimize,v()({},a);case"ASIDE_WIDTH":return a.aside.width=i.payload,v()({},a);default:throw new Error}}var H=function(i){var l=(0,n.useReducer)(S,(0,r.cloneDeep)(b)),c=B()(l,2),o=c[0],h=c[1];return(0,s.jsx)(p.Provider,{value:{state:o,dispatch:h},children:i.children})},d=function(){return(0,n.useContext)(p)},O=e(65495);function P(a){var i=d(),l=i.dispatch,c=i.state.aside.minimize,o=(0,n.useCallback)(function(){l({type:y.AsideToggle})},[l]);return(0,s.jsx)(M.Button,{style:v()({marginBottom:"1.35rem",zIndex:105},a.style),onClick:o,activeColor:"primary",className:t()("micro-app-aside-toggle","btn-icon bg-body btn-color-gray-700 rounded-2 position-absolute translate-middle bottom-0 shadow-sm d-none d-lg-flex",a.className,{active:c}),children:(0,s.jsx)(E.JO,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})}var Z={"drawer drawer-start":{maxWidth:992}};function $(a){var i=a.className,l=a.header,c=a.children,o=a.collapsible,h=o===void 0?!0:o,C=a.width,g=C===void 0?280:C,T=(0,x.$Y)(),J=d(),F=J.dispatch;(0,n.useEffect)(function(){T.aside.width(g+100),F({type:y.AsideWidth,payload:g})},[T.aside,F,g]);var X=(0,N.CN)(Z),Y=(0,x.BK)(function(k){return k.aside.drawer});return(0,s.jsxs)("div",{className:t()("app-aside aside",i,X,{"drawer-on":Y}),children:[(0,s.jsx)(O.Z,{children:(0,s.jsx)(A.Z,{header:l,resizeable:!0,className:"app-sidebar",children:c})}),h&&(0,s.jsx)(P,{className:"start-100 end-0"})]})}$.Toggle=P;var R=$,K,U=z.ZP.div(K||(K=f()([`
  --root-aside-width: `,`;
  --met-aside-width: `,`;
`])),function(a){return a.minimize?"100px":"".concat(a.width,"px")},function(a){return a.minimize?"100px":"".concat(a.width,"px")});function Q(a){var i=a.children,l=a.className,c=d(),o=c.state.aside,h=o.minimize,C=o.width,g=(0,n.useCallback)(function(T){T.preventDefault()},[]);return(0,s.jsx)(U,{minimize:h,width:C,className:t()("micro-app-container page-full-content",l,{"aside-minimize":h}),onContextMenu:g,children:i})}function W(a){var i=a.children,l=a.className;return(0,s.jsx)(H,{children:(0,s.jsx)(Q,{className:l,children:i})})}W.Sidebar=R;var V=W},25936:function(G,j,e){e.r(j),e.d(j,{default:function(){return I}});var L=e(5574),A=e.n(L),u=e(67294),m=e(96974),f=e(51253),n=e(89717),w=e(70694),t=e(85893);function z(){var v=(0,m.TH)(),E=(0,m.UO)(),N=E.id,x=(0,w.k$)({variables:{id:N},fetchPolicy:"cache-and-network"}),M=x.data,D=M===void 0?{}:M,B=x.loading,r=D.module,s=(0,u.useMemo)(function(){var d=(0,m.LX)({path:"/modules/:id/:feat",end:!1},v.pathname);return d&&d.params.feat||""},[v.pathname]),b=(0,u.useState)(s),p=A()(b,2),y=p[0],S=p[1];(0,u.useEffect)(function(){s&&S(s)},[s]);var H=(0,u.useCallback)(function(d){console.log("selectedKey",d.key),S(d.key)},[]);return(0,t.jsx)(f.Hk,{className:"module-view-app",loading:B,children:r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Hk.Sidebar,{className:"module-view-app-sidebar",collapsible:!1,width:216,children:(0,t.jsxs)(n.BlockUI,{zIndex:10,className:"mt-5 p-5",overlayClassName:"bg-white bg-opacity-25",loading:!1,children:[(0,t.jsx)("div",{className:"pb-5",children:(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)(n.Symbol.Avatar,{alt:"\u5565\u5730\u65B9",className:"me-5",size:40}),(0,t.jsxs)("div",{className:"flex-grow-1",children:[(0,t.jsx)("a",{className:"text-dark fw-bolder text-hover-primary fs-6",children:r.name}),(0,t.jsx)("span",{className:"text-muted d-block fw-bold fs-8",dangerouslySetInnerHTML:{__html:r.description||"&nbsp;"}})]})]})}),(0,t.jsxs)("div",{className:"module-view-app-sidebar__menu_container",children:[(0,t.jsxs)(n.Menu,{fit:!0,accordion:!1,selectable:"AllMenu",className:"menu-title-gray-600 menu-icon-gray-400 menu-state-bg menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 my-5 my-lg-0",selectedKeys:y?[y]:[],onSelect:H,children:[(0,t.jsx)(n.Menu.Item,{bullet:!0,icon:"Fonticon/layers",title:"\u7ED3\u6784\u5B9A\u4E49",url:"/modules/".concat(r.id,"/schema")},"schema"),(0,t.jsx)(n.Menu.Item,{bullet:!0,icon:"Fonticon/alignment-right",title:"\u5185\u5BB9\u7BA1\u7406",url:"/modules/".concat(r.id,"/content")},"content"),(0,t.jsx)(n.Menu.Item,{bullet:!0,icon:"Fonticon/attachments",title:"\u9759\u6001\u8D44\u6E90",url:"/modules/".concat(r.id,"/assets")},"assets")]}),(0,t.jsx)(n.Menu,{fit:!0,accordion:!1,className:"menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-bg menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 my-5 my-lg-0",selectedKeys:s?[s]:[],children:(0,t.jsx)(n.Menu.Item,{bullet:!0,icon:"Bootstrap/gear",title:"\u6A21\u5757\u8BBE\u7F6E",url:"/modules/".concat(r.id,"/settings")},"settings")})]})]})}),(0,t.jsxs)("div",{style:{zIndex:99},className:"position-relative d-flex flex-row flex-row-fluid",children:[(0,t.jsx)("div",{style:{position:"fixed",height:"100vh",width:"1px",zIndex:105},children:(0,t.jsx)(f.Hk.Sidebar.Toggle,{className:"start-0"})}),(0,t.jsx)(m.j3,{context:{module:r,baseUrl:"/modules/"+N}})]})]})})}var I=z}}]);
