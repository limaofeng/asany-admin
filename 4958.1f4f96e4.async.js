"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4958],{74958:function(q,I,e){e.r(I),e.d(I,{default:function(){return Le}});var A=e(5574),j=e.n(A),$=e(97857),a=e.n($),u=e(13769),L=e.n(u),E=e(68400),b=e.n(E),n=e(62435),F=e(8330),V=e(96974),Y=e(44173),K=e(12845),J=e(46810),ee=e(93967),o=e.n(ee),l=e(11290),s=e(94589),i=e(12708),m=e(60665),O=e(35005),S=e(46027),Z=e(50603),g=e(10582),B=e(79817),H=e(89424),ae=e(8606),se=e(65495),t=e(86074);function ie(r,d){var f=r.url,y=f===void 0?"/":f,x=r.logo,h=x===void 0?"/assets/media/logos/demo7.svg":x;return(0,t.jsx)("div",{ref:d,className:"aside-logo d-none d-lg-flex flex-column align-items-center flex-column-auto py-10",children:(0,t.jsx)("a",{href:y,children:(0,t.jsx)("img",{alt:"Logo",src:h,className:"h-30px"})})})}var ne=n.forwardRef(ie),Q=ne,te=e(5166),N=e(42687),ye=n.forwardRef(function(r,d){var f,y=r.menus,x=r.activeKey,h=r.onSelect,D=(0,n.useState)(!1),C=j()(D,2),U=C[0],p=C[1],G=(0,n.useState)(!1),R=j()(G,2),P=R[0],T=R[1],X=(0,g.ot)(),M=X.data,_=(0,Z.ZC)("cn.asany.ui.admin.user.UserAccountMenu"),v=(0,Z.ZC)("cn.asany.ui.admin.user.Notifications"),W=(0,n.useCallback)(function(){p(!1)},[]),z=(0,n.useCallback)(function(){T(!1)},[]),oe=function(ue){return function(){h(ue.id)}};return(0,t.jsxs)("div",{ref:d,className:"aside-footer d-flex flex-column align-items-center flex-column-auto",children:[y.map(function(w){return(0,t.jsx)("div",{className:"d-flex align-items-center mb-2",children:(0,t.jsx)(B.Tooltip,{title:w.name,placement:"right",children:(0,t.jsx)("div",{onClick:oe(w),className:o()("btn btn-icon btn-active-color-primary btn-color-gray-400 btn-active-light",{active:x===w.id}),title:w.name,children:(0,t.jsx)(S.ZP,{name:w.icon,className:"svg-icon-2 svg-icon-lg-1"})})})},w.id)}),(0,t.jsx)("div",{className:"d-flex align-items-center mb-2",children:(0,t.jsx)("div",{className:"btn btn-icon btn-active-color-primary btn-color-gray-400 btn-active-light",children:(0,t.jsx)(H.Z,{placement:"top-start",zIndex:100,visible:P,onVisibleChange:T,arrowProps:{style:{display:"none"}},overlayClassName:"overlay-zero-gap overlay-no-arrow overlay-no-border",content:(0,t.jsx)(v,{close:z,visible:P}),children:(0,t.jsx)(B.Tooltip,{title:"\u901A\u77E5",placement:"right",children:(0,t.jsx)(S.ZP,{name:"Duotune/gen007",className:"svg-icon-2 svg-icon-lg-1"})})})})}),(0,t.jsx)("div",{className:"d-flex align-items-center mb-10",children:(0,t.jsx)(H.Z,{placement:"top-start",zIndex:100,visible:U,onVisibleChange:p,arrowProps:{style:{display:"none"}},overlayClassName:"overlay-zero-gap overlay-no-arrow",content:(0,t.jsx)(_,{close:W}),children:(0,t.jsx)(B.Tooltip,{title:"\u7528\u6237\u8D44\u6599",placement:"right",children:(0,t.jsx)(B.Symbol.Avatar,{size:40,src:(0,i.Fz)(M==null||(f=M.avatar)===null||f===void 0?void 0:f.id,{size:"300x300"}),className:"cursor-pointer",alt:M==null?void 0:M.name})})})})]})}),re=["/drive","/calendar","/contacts","/mail"],xe={"drawer drawer-start":{maxWidth:992}};function me(r){var d=r.logo,f=r.menuRender,y=r.activeKey,x=r.onSelect,h=(0,n.useRef)(null),D=(0,n.useRef)(null),C=(0,n.useRef)(null),U=(0,n.useRef)(null);(0,ae.useScroll)(U,h,[D,C]);var p=(0,N.BK)(function(c){return c.aside.collapsible}),G=(0,N.BK)(function(c){return c.aside.minimize}),R=(0,N.BK)(function(c){return c.aside.menus||[]}),P=(0,N.$Y)(),T=(0,n.useCallback)(function(){P.aside.minimize(!G)},[P,G]),X=(0,n.useCallback)(function(c){x(c)},[x]),M=(0,n.useMemo)(function(){return R.filter(function(c){return re.includes(c.path)}).filter(function(c){return!c.hideInMenu}).sort(function(c,Pe){return re.findIndex(function(ce){return ce===c.path})-re.findIndex(function(ce){return ce===Pe.path})})},[R]),_=(0,n.useMemo)(function(){return R.filter(function(c){return!re.includes(c.path)}).filter(function(c){return!c.hideInMenu})},[R]),v=f===!1,W=(0,g.CN)(xe),z=(0,N.BK)(function(c){return c.aside.drawer}),oe=(0,B.useDrawer)({placement:"left",visible:z}),w=j()(oe,2),ue=w[0],he=w[1],le=he.visible,de=he.className;(0,n.useEffect)(function(){le!==z&&P.aside.drawer(le)},[le]);var k=W["drawer drawer-start"],Ke=(0,n.useMemo)(function(){return k?de:de.split(" ").filter(function(c){return!["drawer","drawer-start"].includes(c)}).join(" ")},[k,de]);return(0,n.useEffect)(function(){k===!1&&(console.log("ContentHeader",k,z),P.aside.drawer(!1))},[k]),(0,t.jsxs)("div",{className:o()("aside",Ke,{"aside-extended":!G,"drawer-on":z,"no-secondary":v}),children:[ue,(0,t.jsxs)("div",{className:"aside-primary d-flex flex-column align-items-lg-center flex-row-auto",children:[(0,t.jsx)(Q,{ref:D,url:"/",logo:d}),(0,t.jsx)("div",{ref:h,className:"aside-nav d-flex flex-column align-items-center flex-column-fluid w-100 pt-5 pt-lg-0",children:(0,t.jsx)("div",{ref:U,className:"hover-scroll-overlay-y mb-5 scroll-ms px-5",children:(0,t.jsx)(m.Z,{onSelect:X,activeKey:y,className:"flex-column",as:"ul",children:_.map(function(c){return(0,t.jsx)(m.Z.Item,{className:"mb-2",as:"li",children:(0,t.jsx)(B.Tooltip,{title:c.name,placement:"right",children:(0,t.jsx)(m.Z.Link,{eventKey:c.id,className:"btn btn-icon btn-active-color-primary btn-color-gray-400 btn-active-light",children:c.icon&&(0,t.jsx)(S.ZP,{name:c.icon,className:"svg-icon-2x"})})})},c.id)})})})}),(0,t.jsx)(ye,{ref:C,menus:M,onSelect:X,activeKey:y})]}),!v&&(0,t.jsx)(se.Z,{children:f}),!v&&p&&(0,t.jsx)(O.Z,{style:{marginBottom:"1.35rem",zIndex:10},onClick:T,className:o()("btn-icon bg-body btn-color-gray-700 rounded-2 btn-active-primary position-absolute translate-middle start-100 end-0 bottom-0 shadow-sm d-none d-lg-flex",{active:G}),children:(0,t.jsx)(S.ZP,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})]})}me.Workspace=te.Z;var pe=me,ge=e(19260);function je(r){var d=r.menu,f=r.component,y=(0,Z.ZC)(f.template,f.blocks);return(0,t.jsx)(y,{menu:d})}var Se=je;function Me(r){return r.component?(0,t.jsx)(Se,{menu:r,component:r.component}):(0,t.jsx)(te.Z,{children:(0,t.jsx)(ge.Z,{title:r.name,menus:r.children})})}var Ee=Me,Re=function(d){var f,y,x,h={};return d!=null&&d.hideFooter&&(h.footerRender=!1),(d==null?void 0:d.layout)===!1?(h.pure=!0,h):(d!=null&&(f=d.layout)!==null&&f!==void 0&&f.hideMenu&&(h.menuRender=!1),d!=null&&(y=d.layout)!==null&&y!==void 0&&y.hideFooter&&(h.footerRender=!1),d!=null&&(x=d.layout)!==null&&x!==void 0&&x.hideNav&&(h.headerRender=!1),h)},be=Re,Ae=["children","pure","activeKey","onSelect","menuRender"],fe,ve=!1,Ne=s.ZP.div(fe||(fe=b()([`
  --root-aside-width: `,`;
  --met-aside-width: `,`;
`])),function(r){return r.minimize?"100px":"".concat(r.width,"px")},function(r){return r.minimize?"100px":"".concat(r.width,"px")});function De(r){var d=r.children,f=r.menuRender,y=r.activeKey,x=r.onSelect,h=(0,N.BK)(function(p){return p.aside.width}),D=(0,N.BK)(function(p){return p.aside.minimize}),C=(0,N.BK)(function(p){return p.logo}),U=o()("header-fixed header-tablet-and-mobile-fixed aside-fixed aside-secondary-enabled",{});return(0,n.useEffect)(function(){return U.split(" ").forEach(function(p){document.body.classList.add(p)}),function(){U.split(" ").forEach(function(p){console.log("menuRender remove",p),document.body.classList.remove(p)})}},[U]),(0,t.jsx)(Ne,{width:h,minimize:D||f===!1,"data-kt-aside-minimize":D||f===!1?"on":"off",className:"theme-metronic",children:(0,t.jsxs)("div",{className:"d-flex flex-column flex-root",children:[(0,t.jsx)(Y.Ix,{}),(0,t.jsxs)("div",{className:"page d-flex flex-row flex-column-fluid",children:[(0,t.jsx)(pe,{menuRender:f,onSelect:x,activeKey:y,logo:C}),d]})]})})}function Ce(r){var d=r.children,f=r.pure,y=r.activeKey,x=r.onSelect,h=r.menuRender,D=L()(r,Ae);return f?d:(0,t.jsx)(De,a()(a()({},D),{},{activeKey:y,onSelect:x,menuRender:h,children:d}))}function Ie(r){var d=(0,K.useRouteProps)(),f=(0,K.useLocation)(),y=(0,V.s0)(),x=(0,K.useSelectedRoutes)(),h=(0,K.useApp)(),D=h.menus,C=(0,n.useRef)({}),U=(0,n.useReducer)(function(v){return v+1},0),p=j()(U,2),G=p[1],R=(0,n.useMemo)(function(){return i.G_(D.map(function(v){return a()(a()({},v),{},{key:v.id,routes:[]})}),{idKey:"id",childrenKey:"routes",pidKey:"parent.id",sort:function(W,z){return W.index-z.index}})},[D]),P=d,T=(0,n.useMemo)(function(){return P?be(P):{}},[P]),X=(0,n.useCallback)(function(v){C.current.activeMenuKey=v;var W=R.find(function(z){return z.id===v});W.path?y(W.path):G()},[K.history,R]),M=(0,n.useMemo)(function(){var v=(0,J.nG)(f.pathname,R,!0);return v[0]},[f.pathname,R]);(0,n.useEffect)(function(){!M||C.current.activeMenuKey===M.id||(C.current.activeMenuKey=M.id,G())},[M]);var _=(0,n.useMemo)(function(){if(T.menuRender===!1)return!1;if(T.menuRender)return T.menuRender;var v=M;return!v||!v.component&&!(v.children||[]).length?!1:Ee(v)},[T.menuRender,M]);return(0,t.jsxs)(N.aM,{state:{logo:"/assets/media/logos/coffee_machine_1.svg",menus:R,routes:x.map(function(v){return v.route}),aside:{menus:R,minimize:!1,pure:T.pure,width:200}},children:[(0,t.jsx)(Ce,a()(a()({},r),{},{activeKey:C.current.activeMenuKey,onSelect:X,menuRender:_,pure:T.pure,children:(0,t.jsx)(V.j3,{})})),ve,ve&&(0,t.jsx)(F.l,{keys:["control","shift","command","c"],onClickElement:function(W){console.debug(W)}})]})}var Le=Ie},65495:function(q,I,e){var A=e(62435),j=e(86074);function $(u){var L=u.children;return(0,j.jsx)("div",{className:"aside-secondary d-flex flex-row-fluid",children:L})}var a=A.memo($);I.Z=a},5166:function(q,I,e){e.d(I,{Z:function(){return ee}});var A=e(62435),j=e(93967),$=e.n(j),a=e(1861),u=e(12845),L=e(46810),E=e(76525),b=e(86074);function n(o){if(o.type==="SECTION")return(0,b.jsx)(E.Z.Section,{title:o.name},o.id);if(o.type==="URL")return(0,b.jsx)(E.Z.Item,{bullet:!0,icon:o.icon,title:o.name,url:o.path},o.id);if(o.type==="SEPARATOR")return(0,b.jsx)(E.Z.Separator,{},o.id);if(o.type==="MENU")return(0,b.jsx)(E.Z.SubMenu,{bullet:!0,icon:o.icon,title:o.name,children:(o.routes||[]).map(n)},o.id);throw new Error("\u4E0D\u652F\u6301\u7684 MenuType"+o.type)}var F=[];function V(o){var l=o.menus,s=l===void 0?F:l,i=(0,u.useLocation)(),m=(0,A.useMemo)(function(){return(0,L.nG)(i.pathname,s,!0)},[s,i.pathname]),O=m.map(function(S){return S.key});return(0,b.jsx)(E.Z,{className:"menu-fit menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 px-6 my-5 my-lg-0",selectedKeys:O,children:s.filter(function(S){return!S.hideInMenu}).map(n)})}var Y=V,K=e(42687);function J(o){var l=o.className,s=o.width,i=s===void 0?280:s,m=o.children,O=o.collapsible,S=O===void 0?!0:O,Z=o.header,g=(0,K.$Y)();return(0,A.useEffect)(function(){g.aside.width(i+100)},[g.aside,i]),(0,A.useEffect)(function(){g.aside.collapsible(S)},[g.aside,S]),(0,b.jsxs)("div",{className:$()("aside-workspace",l),children:[Z,(0,b.jsx)(a.E,{className:"d-flex h-100 flex-column custom-scrollbar",options:{scrollbars:{autoHide:"scroll"}},children:m})]})}J.MenuBar=Y;var ee=J},19260:function(q,I,e){e.d(I,{x:function(){return L}});var A=e(62435),j=e(12845),$=e(46810),a=e(76525),u=e(86074);function L(n){if(n.type==="SECTION")return(0,u.jsx)(a.Z.Section,{children:n.name},n.id);if(n.type==="URL")return(0,u.jsx)(a.Z.Item,{bullet:!0,icon:n.icon,title:n.name,url:n.path},n.id);if(n.type==="SEPARATOR")return(0,u.jsx)(a.Z.Separator,{});if(n.type==="MENU")return(0,u.jsx)(a.Z.SubMenu,{bullet:!0,icon:n.icon,title:n.name,children:(n.children||[]).map(L)},n.id);throw new Error("\u4E0D\u652F\u6301\u7684 MenuType"+n.type)}function E(n){var F=n.menus,V=n.title,Y=(0,j.useLocation)(),K=(0,A.useMemo)(function(){return(0,$.nG)(Y.pathname,F,!0)},[F,Y.pathname]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"m-0",children:(0,u.jsx)("h1",{className:"text-gray-800 fw-bold mb-6 mx-5",children:V})}),(0,u.jsx)(a.Z,{className:"menu-fit menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 px-6 my-5 my-lg-0",selectedKeys:K.map(function(J){return J.key}),children:F.map(L)})]})}var b=A.memo(E);I.Z=b},42687:function(q,I,e){e.d(I,{$Y:function(){return Y},BK:function(){return J},aM:function(){return o}});var A=e(5574),j=e.n(A),$=e(97857),a=e.n($),u=e(62435),L=e(86074),E=u.createContext({getState:function(){return{routes:[]}},subscribe:function(){},dispatch:function(){}}),b=function(s,i){return i?i.type==="ASIDE_MINIMIZE"?a()(a()({},s),{},{aside:a()(a()({},s.aside),{},{minimize:!!i.payload})}):i.type==="ASIDE_WIDTH"?a()(a()({},s),{},{aside:a()(a()({},s.aside),{},{width:i.payload})}):i.type==="ASIDE_COLLAPSIBLE"?a()(a()({},s),{},{aside:a()(a()({},s.aside),{},{collapsible:i.payload})}):i.type==="ASIDE_DRAWER"?a()(a()({},s),{},{aside:a()(a()({},s.aside),{},{drawer:i.payload})}):s:s},n=function(s){return a()({},s)};function F(l){var s=(0,u.useReducer)(b,l,n),i=j()(s,2),m=i[0],O=i[1],S=(0,u.useState)([]),Z=j()(S,1),g=Z[0],B=function(te){return function(){var N=g.indexOf(te);N>-1&&g.splice(N,1)}},H=(0,u.useCallback)(function(Q){return g.unshift(Q),B(Q)},[g]),ae=(0,u.useCallback)(function(){g.forEach(function(Q){return Q()})},[g]),se={getState:function(){return m},dispatch:O,subscribe:H},t=(0,u.useState)(se),ie=j()(t,1),ne=ie[0];return(0,u.useEffect)(function(){ne.getState=function(){return m},ae()},[m]),ne}var V=function(s,i){return s===i};function Y(){var l=(0,u.useContext)(E),s=(0,u.useRef)({aside:{get state(){return l.getState().aside},width:function(m){l.dispatch({type:"ASIDE_WIDTH",payload:m})},minimize:function(m){l.dispatch({type:"ASIDE_MINIMIZE",payload:m})},collapsible:function(m){l.dispatch({type:"ASIDE_COLLAPSIBLE",payload:m})},drawer:function(m){l.getState().aside.drawer!==m&&l.dispatch({type:"ASIDE_DRAWER",payload:m})}}});return s.current}function K(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V,i=(0,u.useContext)(E),m=(0,u.useReducer)(function(H){return H+1},0),O=j()(m,2),S=O[1],Z=(0,u.useRef)(),g=l(i.getState());function B(){var H=l(i.getState());s(H,Z.current)||(Z.current=H,S())}return(0,u.useEffect)(function(){return i.subscribe(B)},[]),g}function J(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V;return K(l,s)}function ee(){var l=useContext(E);return l.dispatch}function o(l){var s=l.children,i=l.state,m=F(i);return(0,u.useMemo)(function(){return(0,L.jsx)(E.Provider,{value:m,children:s})},[s,m])}}}]);
