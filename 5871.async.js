"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5871,1836],{51253:function(F,B,e){e.d(B,{GP:function(){return y.Z},Hk:function(){return b},xx:function(){return S.x}});var $=e(74958),y=e(5166),S=e(19260),g=e(68400),h=e.n(g),m=e(62435),P=e(93967),s=e.n(P),j=e(94589),N=e(97857),A=e.n(N),p=e(46027),O=e(42687),T=e(13757),R=e(5574),U=e.n(R),d=e(96486),r=e(86074),n={aside:{minimize:!1,width:280}},f=m.createContext({state:n,dispatch:function(){}}),k=function(u){return u.AsideToggle="ASIDE_TOGGLE",u.AsideWidth="ASIDE_WIDTH",u}({});function D(u,M){switch(M.type){case"ASIDE_TOGGLE":return u.aside.minimize=!u.aside.minimize,A()({},u);case"ASIDE_WIDTH":return u.aside.width=M.payload,A()({},u);default:throw new Error}}var C=function(M){var E=(0,m.useReducer)(D,(0,d.cloneDeep)(n)),x=U()(E,2),I=x[0],L=x[1];return(0,r.jsx)(f.Provider,{value:{state:I,dispatch:L},children:M.children})},_=function(){return(0,m.useContext)(f)},K=e(65495);function i(u){var M=_(),E=M.dispatch,x=M.state.aside.minimize,I=(0,m.useCallback)(function(){E({type:k.AsideToggle})},[E]);return(0,r.jsx)(T.Button,{style:A()({marginBottom:"1.35rem",zIndex:105},u.style),onClick:I,activeColor:"primary",className:s()("micro-app-aside-toggle","btn-icon bg-body btn-color-gray-700 rounded-2 position-absolute translate-middle bottom-0 shadow-sm d-none d-lg-flex",u.className,{active:x}),children:(0,r.jsx)(p.JO,{name:"Duotune/arr063",className:"svg-icon-2 rotate-180"})})}function t(u){var M=u.className,E=u.header,x=u.children,I=u.collapsible,L=I===void 0?!0:I,z=u.width,W=z===void 0?280:z,Q=(0,O.$Y)(),G=_(),H=G.dispatch;return(0,m.useEffect)(function(){Q.aside.width(W+100),H({type:k.AsideWidth,payload:W})},[Q.aside,H,W]),(0,r.jsxs)("div",{className:s()("app-aside aside",M),children:[(0,r.jsx)(K.Z,{children:(0,r.jsx)(y.Z,{header:E,resizeable:!0,className:"app-sidebar",children:x})}),L&&(0,r.jsx)(i,{className:"start-100 end-0"})]})}t.Toggle=i;var o=t,a,c=j.ZP.div(a||(a=h()([`
  --root-aside-width: `,`;
  --met-aside-width: `,`;
`])),function(u){return u.minimize?"100px":"".concat(u.width,"px")},function(u){return u.minimize?"100px":"".concat(u.width,"px")});function v(u){var M=u.children,E=u.className,x=_(),I=x.state.aside,L=I.minimize,z=I.width,W=(0,m.useCallback)(function(Q){Q.preventDefault()},[]);return(0,r.jsx)(c,{minimize:L,width:z,className:s()("micro-app-container page-full-content",E,{"aside-minimize":L}),onContextMenu:W,children:M})}function l(u){var M=u.children,E=u.className;return(0,r.jsx)(C,{children:(0,r.jsx)(v,{className:E,children:M})})}l.Sidebar=o;var b=l},42687:function(F,B,e){e.d(B,{$Y:function(){return p},BK:function(){return T},aM:function(){return U}});var $=e(5574),y=e.n($),S=e(97857),g=e.n(S),h=e(62435),m=e(86074),P=h.createContext({getState:function(){return{routes:[]}},subscribe:function(){},dispatch:function(){}}),s=function(r,n){return n?n.type==="ASIDE_MINIMIZE"?g()(g()({},r),{},{aside:g()(g()({},r.aside),{},{minimize:!!n.payload})}):n.type==="ASIDE_WIDTH"?g()(g()({},r),{},{aside:g()(g()({},r.aside),{},{width:n.payload})}):n.type==="ASIDE_COLLAPSIBLE"?g()(g()({},r),{},{aside:g()(g()({},r.aside),{},{collapsible:n.payload})}):r:r},j=function(r){return g()({},r)};function N(d){var r=(0,h.useReducer)(s,d,j),n=y()(r,2),f=n[0],k=n[1],D=(0,h.useState)([]),C=y()(D,1),_=C[0],K=function(b){return function(){var u=_.indexOf(b);u>-1&&_.splice(u,1)}},i=(0,h.useCallback)(function(l){return _.unshift(l),K(l)},[_]),t=(0,h.useCallback)(function(){_.forEach(function(l){return l()})},[_]),o={getState:function(){return f},dispatch:k,subscribe:i},a=(0,h.useState)(o),c=y()(a,1),v=c[0];return(0,h.useEffect)(function(){v.getState=function(){return f},t()},[f]),v}var A=function(r,n){return r===n};function p(){var d=(0,h.useContext)(P),r=(0,h.useRef)({aside:{get state(){return d.getState().aside},width:function(f){d.dispatch({type:"ASIDE_WIDTH",payload:f})},minimize:function(f){d.dispatch({type:"ASIDE_MINIMIZE",payload:f})},collapsible:function(f){d.dispatch({type:"ASIDE_COLLAPSIBLE",payload:f})}}});return r.current}function O(d){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A,n=(0,h.useContext)(P),f=(0,h.useReducer)(function(i){return i+1},0),k=y()(f,2),D=k[1],C=(0,h.useRef)(),_=d(n.getState());function K(){var i=d(n.getState());r(i,C.current)||(C.current=i,D())}return(0,h.useEffect)(function(){return n.subscribe(K)},[]),_}function T(d){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A;return O(d,r)}function R(){var d=useContext(P);return d.dispatch}function U(d){var r=d.children,n=d.state,f=N(n);return(0,h.useMemo)(function(){return(0,m.jsx)(P.Provider,{value:f,children:r})},[r,f])}},96414:function(F,B,e){e.d(B,{dI:function(){return K},rB:function(){return _}});var $=e(5574),y=e.n($),S=e(62435),g={USERS_LIST:"users-list"};function h(i){return i!=null&&i!==""}function m(i,t){var o=useState(i),a=_slicedToArray(o,2),c=a[0],v=a[1];return useEffect(function(){var l=setTimeout(function(){v(i)},t);return function(){clearTimeout(l)}},[i,t]),c}var P=e(72004),s=e.n(P),j=e(12444),N=e.n(j),A=e(9783),p=e.n(A),O=e(8606),T=s()(function i(){var t=this;N()(this,i),p()(this,"menu",null),p()(this,"element",null),p()(this,"getParamName",function(o){var a=document.body.hasAttribute("data-kt-name"),c=a?a+"_":"";return"kt_"+c+"theme_mode_"+o}),p()(this,"getMode",function(){var o,a=t.getParamName("value"),c=t.getMenuMode(),v="light";if(!localStorage)return v;var l=localStorage.getItem(a);if(l)return l;var b=(o=t.element)===null||o===void 0?void 0:o.getAttribute("data-theme");return b||(c?c==="system"?t.getSystemMode():c:v)}),p()(this,"setMode",function(o,a){var c,v,l,b=o,u=a;if(!(b!=="light"&&b!=="dark")){var M=t.getParamName("value"),E=t.getParamName("menu");u==="system"&&t.getSystemMode()!==b&&(b=t.getSystemMode()),u||(u=b);var x=((c=t.menu)===null||c===void 0?void 0:c.querySelector('[data-kt-element="mode"][data-kt-value="'+u+'"]'))||null;(v=t.element)===null||v===void 0||v.setAttribute("data-kt-theme-mode-switching","true"),(l=t.element)===null||l===void 0||l.setAttribute("data-theme",b);var I=t;setTimeout(function(){var L;(L=I.element)===null||L===void 0||L.removeAttribute("data-kt-theme-mode-switching")},300),localStorage&&localStorage.setItem(M,b),x&&localStorage&&(localStorage.setItem(E,u),t.setActiveMenuItem(x)),t.flipImages()}}),p()(this,"getMenuMode",function(){var o,a=t.getParamName("menu"),c=(o=t.menu)===null||o===void 0?void 0:o.querySelector('.active[data-kt-element="mode"]'),v=c==null?void 0:c.getAttribute("data-kt-value");if(v)return v;if(!a)return"";var l=localStorage?localStorage.getItem(a):null;return l||""}),p()(this,"getSystemMode",function(){return window.matchMedia("(prefers-color-scheme: dark)")?"dark":"light"}),p()(this,"initMode",function(){t.setMode(t.getMode(),t.getMenuMode()),t.element&&O.EventHandlerUtil.trigger(t.element,"kt.thememode.init")}),p()(this,"setActiveMenuItem",function(o){var a,c=t.getParamName("menu"),v=o.getAttribute("data-kt-value"),l=(a=t.menu)===null||a===void 0?void 0:a.querySelector('.active[data-kt-element="mode"]');l&&l.classList.remove("active"),o.classList.add("active"),localStorage&&v&&c&&localStorage.setItem(c,v)}),p()(this,"handleMenu",function(){var o;(o=t.menu)===null||o===void 0||(o=o.querySelectorAll('[data-kt-element="mode"]'))===null||o===void 0||o.forEach(function(a){a.addEventListener("click",function(c){c.preventDefault();var v=a.getAttribute("data-kt-value"),l=v==="system"?t.getSystemMode():v;l&&t.setMode(l,v)})})}),p()(this,"flipImages",function(){var o;(o=document.querySelectorAll("[data-kt-img-dark]"))===null||o===void 0||o.forEach(function(a){a.tagName==="IMG"?t.getMode()==="dark"&&a.hasAttribute("data-kt-img-dark")?(a.setAttribute("data-kt-img-light",a.getAttribute("src")||""),a.setAttribute("src",a.getAttribute("data-kt-img-dark")||"")):t.getMode()==="light"&&a.hasAttribute("data-kt-img-light")&&(a.setAttribute("data-kt-img-dark",a.getAttribute("src")||""),a.setAttribute("src",a.getAttribute("data-kt-img-light")||"")):t.getMode()==="dark"&&a.hasAttribute("data-kt-img-dark")?(a.setAttribute("data-kt-img-light",a.getAttribute("src")||""),a.style.backgroundImage="url('"+a.getAttribute("data-kt-img-dark")+"')"):t.getMode()==="light"&&a.hasAttribute("data-kt-img-light")&&(a.setAttribute("data-kt-img-dark",a.getAttribute("src")||""),a.style.backgroundImage="url('"+a.getAttribute("data-kt-img-light")+"')")})}),p()(this,"on",function(o,a){if(t.element)return O.EventHandlerUtil.on(t.element,o,a)}),p()(this,"off",function(o,a){if(t.element)return O.EventHandlerUtil.off(t.element,o,a)}),p()(this,"init",function(){t.menu=document.querySelector('[data-kt-element="theme-mode-menu"]'),t.element=document.documentElement,t.initMode(),t.menu&&t.handleMenu()})}),R=new T,U=e(86074),d=R.getSystemMode(),r=function(t){var o=t!=="system"?t:d,a="/media/patterns/header-bg"+(o==="light"?".jpg":"-dark.png");document.body.style.backgroundImage='url("'.concat(toAbsoluteUrl(a),'")')},n="kt_theme_mode_value",f="kt_theme_mode_menu",k=function(t){if(!localStorage)return"light";var o=localStorage.getItem(t);return!o||o==="light"?"light":o==="dark"?"dark":"system"},D={mode:k(n),menuMode:k(f),updateMode:function(t){},updateMenuMode:function(t){}},C=(0,S.createContext)({mode:D.mode,menuMode:D.menuMode,updateMode:function(t){},updateMenuMode:function(t){}}),_=function(){return(0,S.useContext)(C)},K=function(t){var o=t.children,a=(0,S.useState)(D.mode),c=y()(a,2),v=c[0],l=c[1],b=(0,S.useState)(D.menuMode),u=y()(b,2),M=u[0],E=u[1],x=function(z){var W=z==="system"?d:z;l(W),localStorage&&localStorage.setItem(n,W),document.documentElement.setAttribute("data-theme",W),R.init()},I=function(z){E(z),localStorage&&localStorage.setItem(f,z)};return(0,S.useEffect)(function(){x(v),I(M)},[]),(0,U.jsx)(C.Provider,{value:{mode:v,menuMode:M,updateMode:x,updateMenuMode:I},children:o})}},39736:function(F,B,e){e.d(B,{Sy:function(){return A},n5:function(){return R}});var $=e(97857),y=e.n($),S=e(68400),g=e.n(S),h=e(75063),m=e(37887),P,s,j={},N=(0,h.Ps)(P||(P=g()([`
    query projects {
  projects {
    total: totalCount
    current: currentPage
    pageSize
    edges {
      node {
        id
        logo
        name
        description
      }
    }
  }
}
    `])));function A(r){var n=y()(y()({},j),r);return m.a(N,n)}function p(r){var n=_objectSpread(_objectSpread({},j),r);return Apollo.useLazyQuery(N,n)}function O(r){var n=_objectSpread(_objectSpread({},j),r);return Apollo.useSuspenseQuery(N,n)}var T=(0,h.Ps)(s||(s=g()([`
    query project($id: ID!) {
  project(id: $id) {
    id
    logo
    name
    description
  }
}
    `])));function R(r){var n=y()(y()({},j),r);return m.a(T,n)}function U(r){var n=_objectSpread(_objectSpread({},j),r);return Apollo.useLazyQuery(T,n)}function d(r){var n=_objectSpread(_objectSpread({},j),r);return Apollo.useSuspenseQuery(T,n)}},50240:function(F,B,e){e.r(B),e.d(B,{default:function(){return N}});var $=e(5574),y=e.n($),S=e(62435),g=e(96974),h=e(51253),m=e(13757),P=e(39736),s=e(86074);function j(A){var p=A.children,O=A.location,T=A.match.params.id,R=(0,P.n5)({variables:{id:T}}),U=R.data,d=U===void 0?{}:U,r=R.loading,n=d.project,f=(0,S.useMemo)(function(){var i=(0,g.LX)(O.pathname,{path:"/project/:id/:key",exact:!1,strict:!0});return console.log("channelMatch",i),i?"category_".concat(i.params.cid):"my-drive"},[O.pathname]),k=(0,S.useState)(f),D=y()(k,2),C=D[0],_=D[1];(0,S.useEffect)(function(){f&&_(f)},[f]);var K=(0,S.useCallback)(function(i){console.log("selectedKey",i.key),_(i.key)},[]);return(0,s.jsx)(h.Hk,{loading:r,children:n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Hk.Sidebar,{children:(0,s.jsxs)(m.BlockUI,{zIndex:10,className:"my-5 p-5",overlayClassName:"bg-white bg-opacity-25",loading:!1,children:[(0,s.jsx)("div",{className:"mx-5",children:(0,s.jsxs)("div",{className:"d-flex align-items-center",children:[(0,s.jsx)(m.Symbol.Avatar,{alt:"\u5565\u5730\u65B9",className:"me-5"}),(0,s.jsxs)("div",{className:"flex-grow-1",children:[(0,s.jsx)("a",{className:"text-dark fw-bolder text-hover-primary fs-6",children:n.name}),(0,s.jsx)("span",{className:"text-muted d-block fw-bold",children:n.description})]})]})}),(0,s.jsxs)(m.Menu,{fit:!0,accordion:!1,selectable:"AllMenu",className:"pt-6 menu-title-gray-600 menu-icon-gray-400 menu-state-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold fs-6 px-6 my-5 my-lg-0",selectedKeys:C?[C]:[],onSelect:K,children:[(0,s.jsx)(m.Menu.Item,{bullet:!0,icon:"Bootstrap/speedometer2",title:"\u4EEA\u8868\u76D8",url:"/projects/".concat(n.id)}),(0,s.jsx)(m.Menu.Section,{contentClassName:"pt-6 pb-0",children:"\u57FA\u7840\u529F\u80FD"}),(0,s.jsx)(m.Menu.Item,{bullet:!0,title:"\u76EE\u6807",url:"/projects/".concat(n.id,"/targets")}),(0,s.jsx)(m.Menu.Item,{bullet:!0,title:"\u4EFB\u52A1",url:"/projects/".concat(n.id,"/tasks")}),(0,s.jsx)(m.Menu.Item,{bullet:!0,title:"\u9884\u7B97",url:"/projects/".concat(n.id,"/budget")}),(0,s.jsx)(m.Menu.Item,{bullet:!0,title:"\u6210\u5458",url:"/projects/".concat(n.id,"/users")}),(0,s.jsx)(m.Menu.Item,{bullet:!0,title:"\u6587\u6863",url:"/projects/".concat(n.id,"/files")}),(0,s.jsx)(m.Menu.Item,{bullet:!0,title:"\u6D3B\u52A8",url:"/projects/".concat(n.id,"/activity")}),(0,s.jsx)(m.Menu.Section,{contentClassName:"pt-6 pb-0",children:"\u8BBE\u7F6E"}),(0,s.jsx)(m.Menu.Item,{bullet:!0,title:"\u57FA\u7840\u4FE1\u606F",url:"/projects/".concat(n.id,"/settings")})]})]})}),S.Children.map(p,function(i){return i.props.location.state={project:n,baseUrl:"/projects/"+T},i})]})})}var N=j}}]);
