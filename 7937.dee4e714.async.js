(self.webpackChunkasany_admin=self.webpackChunkasany_admin||[]).push([[7937],{80590:function(N,v,n){"use strict";n.d(v,{Z:function(){return _}});var e=n(2824),s=n(67294),j=n(96486),P=n(94184),w=n.n(P),g=n(54406),r=n(85893),R=260,t=768;function W(u){var d=u.minWidth,c=d===void 0?R:d,y=u.maxWidth,x=y===void 0?t:y,M=u.collapsible,o=M===void 0?!0:M,C=u.children,z=u.className,m=u.onWidthChange,i=(0,s.useRef)({minimized:!1,width:u.width}),D=(0,s.useReducer)(function(E){return E+1},0),b=(0,e.Z)(D,2),O=b[1],l=(0,s.useMemo)(function(){return(0,j.debounce)(function(){O()},10)},[]),f=(0,s.useCallback)(function(E){return o&&c-E>c/2||E<=30},[o,c]),a=(0,s.useCallback)(function(){i.current.minimized&&i.current.width>0&&(i.current.width=0)},[]),T=(0,s.useCallback)(function(E){i.current.width+=E,f(i.current.width)?i.current.minimized=!0:i.current.minimized=!1,l()},[l,f]),p=(0,s.useCallback)(function(){i.current.width=f(i.current.width)?0:Math.min(x,Math.max(c,i.current.width))},[f,x,c]),K=(0,s.useCallback)(function(){i.current.minimized=!i.current.minimized,i.current.width||(i.current.width=c),l()},[l,c]),I=i.current,h=I.minimized,B=I.width,A=(0,s.useMemo)(function(){return Math.min(x,Math.max(c,B))},[x,c,B]);return(0,s.useEffect)(function(){m&&m(h?0:A)},[m,h,A]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"secondary_sidebar-resizer__mirror",style:{width:h?void 0:A}}),(0,r.jsxs)(g.w_,{className:w()("secondary_sidebar-resizer d-flex flex-column flex-lg-row",z,{"secondary_sidebar-resizer-minimized":h}),style:{width:h?void 0:A},onResizeStart:a,onResize:T,onResizeEnd:p,children:[o&&(0,r.jsxs)("button",{onClick:K,className:w()("secondary_sidebar-resize-button",{collapsed:h,expanded:!h}),type:"button",children:[(0,r.jsx)("div",{className:"invisible-area"}),(0,r.jsx)("span",{className:"homemade-button",role:"presentation",children:(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",focusable:"false",role:"presentation",children:(0,r.jsx)("path",{d:"M10.294 9.698a.988.988 0 0 1 0-1.407 1.01 1.01 0 0 1 1.419 0l2.965 2.94a1.09 1.09 0 0 1 0 1.548l-2.955 2.93a1.01 1.01 0 0 1-1.42 0 .988.988 0 0 1 0-1.407l2.318-2.297-2.327-2.307z",fill:"currentColor",fillRule:"evenodd"})})})]}),(0,r.jsx)("div",{className:"secondary_sidebar-inner flex-column flex-lg-row-auto w-100 mb-10 mb-lg-0",children:C})]})]})}var _=W},64043:function(N,v,n){"use strict";n.d(v,{ZO:function(){return e.ZO},Yw:function(){return e.Yw},KX:function(){return e.KX},I1:function(){return e.I1},Pw:function(){return e.Pw},aA:function(){return e.aA},Af:function(){return e.Af},G$:function(){return e.G$},_c:function(){return e._c},c9:function(){return e.c9},P6:function(){return e.P6},oM:function(){return e.oM},WF:function(){return e.WF},ot:function(){return e.ot},au:function(){return e.au},Nq:function(){return e.Nq},wp:function(){return e.wp},w4:function(){return e.w4},ko:function(){return e.ko},AQ:function(){return e.AQ}});var e=n(23798)},67937:function(N,v,n){"use strict";n.r(v);var e=n(67294),s=n(1861),j=n(51615),P=n(94184),w=n.n(P),g=n(80590),r=n(17818),R=n(64043),t=n(85893);function W(_){var u=_.location,d=_.history,c=_.children,y=u.state,x=y.module,M=y.baseUrl,o=M===void 0?"":M,C=(0,R.I1)({variables:{module:x.id},fetchPolicy:"cache-and-network"}),z=C.data,m=C.loading,i=z||{},D=i.models,b=D===void 0?[]:D,O=(0,e.useCallback)(function(a){return function(){d.push("".concat(o,"/content/").concat(a.model.id,"/views/").concat(a.id))}},[o,d]),l=(0,e.useMemo)(function(){return b.map(function(a){return{id:a.defaultView.id,name:a.name,model:a}})},[b]),f=(0,e.useMemo)(function(){var a=(0,j.LX)(u.pathname,{path:"".concat(o,"/content/:mid/views/:vid"),exact:!0,strict:!0});return a?"view_".concat(a.params.vid):null},[o,u.pathname]);return(0,e.useEffect)(function(){if(!!l.length){var a=l[0];d.replace("".concat(o,"/content/").concat(a.model.id,"/views/").concat(a.id))}},[o,l,d]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Z,{loading:m,className:"module_secondary_sidebar",width:260,children:(0,t.jsxs)("div",{className:"h-100",children:[(0,t.jsx)("div",{className:"mx-2 p-5 mt-5",children:(0,t.jsx)("h3",{className:"fw-bold text-dark mx-0 mb-0",children:"\u5185\u5BB9\u7BA1\u7406"})}),(0,t.jsx)(s.E,{className:"d-flex h-100 flex-column custom-scrollbar",options:{scrollbars:{autoHide:"scroll"}},children:(0,t.jsxs)(r.v2,{className:w()("module_content_menu","menu-state-bg","menu-title-gray-600","menu-icon-gray-400","menu-state-primary","menu-state-icon-primary","menu-state-bullet-primary","menu-arrow-gray-500","fw-bold fs-6 my-5 my-lg-0 px-7"),selectedKeys:f?[f]:[],accordion:!1,openKeys:["custom-view","default-view"],fit:!0,children:[(0,t.jsx)(r.v2.SubMenu,{linkClassName:"py-0",title:"\u81EA\u5B9A\u4E49\u89C6\u56FE",children:(0,t.jsx)(r.v2.Content,{contentClassName:"custom-view-notes menu-section text-muted text-uppercase fs-8 ls-1",children:m?(0,t.jsx)(t.Fragment,{children:"\u52A0\u8F7D\u4E2D..."}):(0,t.jsx)("span",{children:"123123"})})},"custom-view"),(0,t.jsx)(r.v2.SubMenu,{linkClassName:"py-0",title:"\u9ED8\u8BA4\u89C6\u56FE",children:m?(0,t.jsx)(r.v2.Content,{contentClassName:"custom-view-notes menu-section text-muted text-uppercase fs-8 ls-1",children:"\u52A0\u8F7D\u4E2D..."}):l.map(function(a){return(0,t.jsx)(r.v2.Item,{onClick:O(a),children:a.name},"view_".concat(a.id))})},"default-view")]})})]})}),c]})}v.default=W}}]);
