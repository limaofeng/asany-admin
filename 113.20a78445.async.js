"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[113],{30113:function(w,A,a){a.r(A);var b=a(15009),g=a.n(b),B=a(99289),F=a.n(B),T=a(5574),C=a.n(T),x=a(62435),I=a(96974),R=a(39711),p=a(46027),U=a(14336),L=a(58301),K=a(73588),n=a(79817),M=a(91726),e=a(86074),W="/pim";function N(l){var D=l.baseUrl,d=l.data,t=l.refetch,v=(0,x.useState)(!1),m=C()(v,2),i=m[0],P=m[1],j=(0,I.s0)(),u=(0,M.xq)(),r=C()(u,1),c=r[0],O=(0,U.Z)({title:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",content:function(_){return(0,e.jsxs)(e.Fragment,{children:["\u60A8\u5373\u5C06\u5220\u9664\u201C",(0,e.jsx)("strong",{children:_.name}),"\u201D\u3002\u5220\u9664\u64CD\u4F5C\u4E0D\u53EF\u9006\u8F6C\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF0C\u60A8\u786E\u5B9A\u5220\u9664\u5417\uFF1F"]})}},function(){var s=F()(g()().mark(function _(y){return g()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,c({variables:{id:y==null?void 0:y.id}});case 2:t();case 3:case"end":return f.stop()}},_)}));return function(_){return s.apply(this,arguments)}}()),h=C()(O,1),E=h[0],o=(0,x.useCallback)(function(s){var _=s.key;_==="edit"?j("".concat(D,"/products/").concat(d.id)):_==="delete"&&E({name:d.name,id:d.id})},[]);return(0,e.jsx)(n.Dropdown,{overlay:(0,e.jsxs)(n.Menu,{onClick:o,className:"menu-sub menu-sub-dropdown menu-gray-600 menu-state-bg-light-primary fw-bold w-125px py-4",children:[(0,e.jsx)(n.Menu.Item,{className:"px-3",children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(n.Menu.Item,{className:"px-3",children:"\u5220\u9664"},"delete")]}),placement:"bottomRight",onVisibleChange:P,visible:i,children:(0,e.jsxs)(n.Button,{variant:"light",activeColor:"light-primary",children:["\u64CD \u4F5C",(0,e.jsx)(p.ZP,{className:"ms-2 svg-icon-5 m-0",name:"Duotune/arr072"})]})})}function k(){var l=(0,L.Z)(M.kN,{toQuery:function(r,c,O,h){var E,o={};if((E=r.filter)!==null&&E!==void 0&&E.name_contains){var s;o.q=(s=r.filter)===null||s===void 0?void 0:s.name_contains}return h&&(o.orderBy=h.field+"_"+(h.order==="ascend"?"asc":"desc")),o.page=c.current,o},toVariables:function(r){return r.q&&(r.filter={name_contains:r.q},delete r.q),r}}),D=C()(l,2),d=D[0],t=D[1],v=t.loading,m=t.pageInfo,i=t.sorter,P=t.onChange,j=t.refetch;return(0,e.jsx)(K.vs,{header:{title:"\u4EA7\u54C1\u5217\u8868"},children:(0,e.jsxs)(n.Card,{className:"mb-5 mb-xl-10",children:[(0,e.jsxs)(n.Card.Header,{className:"pt-8",children:[(0,e.jsx)(n.Card.Title,{className:"flex-column",children:(0,e.jsx)(n.Input.Search,{solid:!0,className:"w-250px",placeholder:"\u641C\u7D22\u4EA7\u54C1"})}),(0,e.jsx)(n.Card.Toolbar,{children:(0,e.jsx)("div",{className:"d-flex justify-content-end",children:(0,e.jsx)(n.Button,{as:R.rU,variant:"primary",className:"me-3",icon:(0,e.jsx)(p.ZP,{className:"svg-icon-2",name:"Duotune/arr075"}),to:"/pim/products/new",children:"\u65B0\u5EFA\u4EA7\u54C1"})})})]}),(0,e.jsx)(n.Card.Body,{children:!m.total&&!v?(0,e.jsx)(n.Card,{className:"mb-5 mb-xl-10",children:(0,e.jsx)(n.Empty,{title:"\u8FD8\u6CA1\u6709\u4EA7\u54C1",description:"\u9A6C\u4E0A\u6DFB\u52A0\u4E00\u4E2A\u4EA7\u54C1\u5427\uFF01",image:"/assets/media/illustrations/sigma-1/4.png",children:(0,e.jsx)(n.Button,{variant:"primary",children:"\u6DFB\u52A0\u4EA7\u54C1"})})}):(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.BlockUI,{overlayClassName:"bg-white bg-opacity-25",loading:v,children:(0,e.jsx)(n.Table,{hover:!0,rowKey:"id",rowSelection:{type:"checkbox",renderTitle:function(r){return(0,e.jsxs)(e.Fragment,{children:["\u5DF2\u9009\u4E2D",(0,e.jsx)("span",{className:"mx-2",children:r}),"\u4E2A\u4EA7\u54C1"]})}},noRowsRenderer:function(){return(0,e.jsx)(n.Empty,{description:"\u5217\u8868\u6570\u636E\u4E3A\u7A7A",image:"/assets/media/illustrations/sigma-1/5.png"})},columns:[{key:"id",title:"ID",sorter:!0,sortOrder:i.field==="id"?i.order:void 0,width:80},{key:"brand",title:"\u54C1\u724C",width:120,render:function(r){return r==null?void 0:r.name}},{key:"name",title:"\u4EA7\u54C1\u540D\u79F0",sorter:!0,sortOrder:i.field==="name"?i.order:void 0},{key:"createdAt",title:"\u521B\u5EFA\u65F6\u95F4",width:120},{title:"\u64CD\u4F5C",key:"action",width:140,render:function(r,c){return(0,e.jsx)(N,{baseUrl:W,data:c,refetch:j})}}],pagination:m,onChange:P,dataSource:d})})})})]})})}A.default=k}}]);
